"use strict";(self.webpackChunkTP=self.webpackChunkTP||[]).push([[179],{7247:(zt,qe,W)=>{W.d(qe,{nm:()=>mr});var y=W(456),fe=(W(4946),W(8726),W(3182),W(5861)),j=W(534),ne=W(4537),Ke=W(9058),He=W(7879);const ae=new Map,se={activated:!1,tokenObservers:[]},Ae={initialized:!1,enabled:!1};function Ve(le){return ae.get(le)||Object.assign({},se)}function lt(){return Ae}const ht="https://content-firebaseappcheck.googleapis.com/v1",Tn="exchangeDebugToken",Sn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class et{constructor(de,De,ze,ut,Ft){if(this.operation=de,this.retryPolicy=De,this.getWaitDuration=ze,this.lowerBound=ut,this.upperBound=Ft,this.pending=null,this.nextErrorWaitInterval=ut,ut>Ft)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(de){var De=this;return(0,fe.Z)(function*(){De.stop();try{De.pending=new Ke.BH,yield function Oe(le){return new Promise(de=>{setTimeout(de,le)})}(De.getNextRun(de)),De.pending.resolve(),yield De.pending.promise,De.pending=new Ke.BH,yield De.operation(),De.pending.resolve(),yield De.pending.promise,De.process(!0).catch(()=>{})}catch(ze){De.retryPolicy(ze)?De.process(!1).catch(()=>{}):De.stop()}})()}getNextRun(de){if(de)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const De=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),De}}}const Je=new Ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ye(le){if(!Ve(le).activated)throw Je.create("use-before-activation",{appName:le.name})}function Cr(le,de){return st.apply(this,arguments)}function st(){return(st=(0,fe.Z)(function*({url:le,body:de},De){const ze={"Content-Type":"application/json"},ut=De.getImmediate({optional:!0});if(ut){const Jn=yield ut.getHeartbeatsHeader();Jn&&(ze["X-Firebase-Client"]=Jn)}const Ft={method:"POST",body:JSON.stringify(de),headers:ze};let En,un;try{En=yield fetch(le,Ft)}catch(Jn){throw Je.create("fetch-network-error",{originalErrorMessage:Jn?.message})}if(200!==En.status)throw Je.create("fetch-status-error",{httpStatus:En.status});try{un=yield En.json()}catch(Jn){throw Je.create("fetch-parse-error",{originalErrorMessage:Jn?.message})}const Dn=un.ttl.match(/^([\d.]+)(s)$/);if(!Dn||!Dn[2]||isNaN(Number(Dn[1])))throw Je.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${un.ttl}`});const Ni=1e3*Number(Dn[1]),Zr=Date.now();return{token:un.token,expireTimeMillis:Zr+Ni,issuedAtTimeMillis:Zr}})).apply(this,arguments)}function pt(le,de){const{projectId:De,appId:ze,apiKey:ut}=le.options;return{url:`${ht}/projects/${De}/apps/${ze}:${Tn}?key=${ut}`,body:{debug_token:de}}}const Yt="firebase-app-check-database",Ee=1,Ne="firebase-app-check-store";let Re=null;function Xt(){return(Xt=(0,fe.Z)(function*(le,de){const ze=(yield function Ge(){return Re||(Re=new Promise((le,de)=>{try{const De=indexedDB.open(Yt,Ee);De.onsuccess=ze=>{le(ze.target.result)},De.onerror=ze=>{var ut;de(Je.create("storage-open",{originalErrorMessage:null===(ut=ze.target.error)||void 0===ut?void 0:ut.message}))},De.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Ne,{keyPath:"compositeKey"})}}catch(De){de(Je.create("storage-open",{originalErrorMessage:De?.message}))}}),Re)}()).transaction(Ne,"readwrite"),Ft=ze.objectStore(Ne).put({compositeKey:le,value:de});return new Promise((En,un)=>{Ft.onsuccess=Dn=>{En()},ze.onerror=Dn=>{var Ni;un(Je.create("storage-set",{originalErrorMessage:null===(Ni=Dn.target.error)||void 0===Ni?void 0:Ni.message}))}})})).apply(this,arguments)}const ur=new He.Yd("@firebase/app-check");function Cn(le,de){return(0,Ke.hl)()?function Ot(le,de){return function ft(le,de){return Xt.apply(this,arguments)}(function Mn(le){return`${le.options.appId}-${le.name}`}(le),de)}(le,de).catch(De=>{ur.warn(`Failed to write token to IndexedDB. Error: ${De}`)}):Promise.resolve()}function kt(){return lt().enabled}function Fr(){return _n.apply(this,arguments)}function _n(){return(_n=(0,fe.Z)(function*(){const le=lt();if(le.enabled&&le.token)return le.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tn={error:"UNKNOWN_ERROR"};function en(le){return Ke.US.encodeString(JSON.stringify(le),!1)}function Un(le){return pr.apply(this,arguments)}function pr(){return(pr=(0,fe.Z)(function*(le,de=!1){const De=le.app;Ye(De);const ze=Ve(De);let Ft,ut=ze.token;if(ut&&!xi(ut)&&(ze.token=void 0,ut=void 0),!ut){const Dn=yield ze.cachedTokenPromise;Dn&&(xi(Dn)?ut=Dn:yield Cn(De,void 0))}if(!de&&ut&&xi(ut))return{token:ut.token};let un,En=!1;if(kt()){ze.exchangeTokenPromise||(ze.exchangeTokenPromise=Cr(pt(De,yield Fr()),le.heartbeatServiceProvider).finally(()=>{ze.exchangeTokenPromise=void 0}),En=!0);const Dn=yield ze.exchangeTokenPromise;return yield Cn(De,Dn),ze.token=Dn,{token:Dn.token}}try{ze.exchangeTokenPromise||(ze.exchangeTokenPromise=ze.provider.getToken().finally(()=>{ze.exchangeTokenPromise=void 0}),En=!0),ut=yield Ve(De).exchangeTokenPromise}catch(Dn){"appCheck/throttled"===Dn.code?ur.warn(Dn.message):ur.error(Dn),Ft=Dn}return ut?Ft?un=xi(ut)?{token:ut.token,internalError:Ft}:di(Ft):(un={token:ut.token},ze.token=ut,yield Cn(De,ut)):un=di(Ft),En&&function Dt(le,de){const De=Ve(le).tokenObservers;for(const ze of De)try{"EXTERNAL"===ze.type&&null!=de.error?ze.error(de.error):ze.next(de)}catch{}}(De,un),un})).apply(this,arguments)}function Nr(le){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,fe.Z)(function*(le){const de=le.app;Ye(de);const{provider:De}=Ve(de);if(kt()){const ze=yield Fr(),{token:ut}=yield Cr(pt(de,ze),le.heartbeatServiceProvider);return{token:ut}}{const{token:ze}=yield De.getToken();return{token:ze}}})).apply(this,arguments)}function Lr(le,de){const De=Ve(le),ze=De.tokenObservers.filter(ut=>ut.next!==de);0===ze.length&&De.tokenRefresher&&De.tokenRefresher.isRunning()&&De.tokenRefresher.stop(),De.tokenObservers=ze}function On(le){const{app:de}=le,De=Ve(de);let ze=De.tokenRefresher;ze||(ze=function Bi(le){const{app:de}=le;return new et((0,fe.Z)(function*(){let ze;if(ze=Ve(de).token?yield Un(le,!0):yield Un(le),ze.error)throw ze.error;if(ze.internalError)throw ze.internalError}),()=>!0,()=>{const De=Ve(de);if(De.token){let ze=De.token.issuedAtTimeMillis+.5*(De.token.expireTimeMillis-De.token.issuedAtTimeMillis)+3e5;return ze=Math.min(ze,De.token.expireTimeMillis-3e5),Math.max(0,ze-Date.now())}return 0},Sn.RETRIAL_MIN_WAIT,Sn.RETRIAL_MAX_WAIT)}(le),De.tokenRefresher=ze),!ze.isRunning()&&De.isTokenAutoRefreshEnabled&&ze.start()}function xi(le){return le.expireTimeMillis-Date.now()>0}function di(le){return{token:en(tn),error:le}}class wr{constructor(de,De){this.app=de,this.heartbeatServiceProvider=De}_delete(){const{tokenObservers:de}=Ve(this.app);for(const De of de)Lr(this.app,De.next);return Promise.resolve()}}const Pt="app-check-internal";!function Ct(){(0,j.Xd)(new ne.wA("app-check",le=>function Rr(le,de){return new wr(le,de)}(le.getProvider("app").getImmediate(),le.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((le,de,De)=>{le.getProvider(Pt).initialize()})),(0,j.Xd)(new ne.wA(Pt,le=>function qr(le){return{getToken:de=>Un(le,de),getLimitedUseToken:()=>Nr(le),addTokenListener:de=>function nr(le,de,De,ze){const{app:ut}=le,Ft=Ve(ut);if(Ft.tokenObservers=[...Ft.tokenObservers,{next:De,error:ze,type:de}],Ft.token&&xi(Ft.token)){const un=Ft.token;Promise.resolve().then(()=>{De({token:un.token}),On(le)}).catch(()=>{})}Ft.cachedTokenPromise.then(()=>On(le))}(le,"INTERNAL",de),removeTokenListener:de=>Lr(le.app,de)}}(le.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,j.KN)("@firebase/app-check","0.8.0")}();class mr{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},8726:(zt,qe,W)=>{W.d(qe,{Ot:()=>ge,ZF:()=>Wt,hX:()=>Ve,z6:()=>fe});var y=W(3182),ie=W(4946),pe=W(456);class ge{constructor(et){return et}}class fe{constructor(){return(0,y.C6)()}}const Ke=new ie.OlP("angularfire2._apps"),He={provide:ge,useFactory:function ne(Ie){return Ie&&1===Ie.length?Ie[0]:new ge((0,y.Mq)())},deps:[[new ie.FiY,Ke]]},ae={provide:fe,deps:[[new ie.FiY,Ke]]};function se(Ie){return(et,Oe)=>{const Be=et.runOutsideAngular(()=>Ie(Oe));return new ge(Be)}}let Ae=(()=>{class Ie{constructor(Oe){(0,y.KN)("angularfire",pe.q4.full,"core"),(0,y.KN)("angularfire",pe.q4.full,"app"),(0,y.KN)("angular",ie.q4F.full,Oe.toString())}}return Ie.\u0275fac=function(Oe){return new(Oe||Ie)(ie.LFG(ie.Lbi))},Ie.\u0275mod=ie.oAB({type:Ie}),Ie.\u0275inj=ie.cJS({providers:[He,ae]}),Ie})();function Ve(Ie,...et){return{ngModule:Ae,providers:[{provide:Ke,useFactory:se(Ie),multi:!0,deps:[ie.R0b,ie.zs3,pe.HU,...et]}]}}const Wt=(0,pe.u3)(y.ZF,!0)},5609:(zt,qe,W)=>{W.d(qe,{gx:()=>na,dh:()=>Pd,Xb:()=>Zc,v0:()=>yc,AR:()=>Zu,e5:()=>pm,w7:()=>Ha});var y=W(456),ie=W(4946),pe=W(8726),ge=W(3182),fe=W(7247),j=W(5861),ne=W(9058),Ke=W(534),He=W(7582),ae=W(7879),se=W(4537);const Sn=function Ut(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ie=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ae.Yd("@firebase/auth");function Je(w,...h){Oe.logLevel<=ae.in.ERROR&&Oe.error(`Auth (${Ke.Jn}): ${w}`,...h)}function $e(w,...h){throw Cr(w,...h)}function Ye(w,...h){return Cr(w,...h)}function Cr(w,...h){if("string"!=typeof w){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(p,...C)}return Ie.create(w,...h)}function st(w,h,...p){if(!w)throw Cr(h,...p)}function tt(w){const h="INTERNAL ASSERTION FAILED: "+w;throw Je(h),new Error(h)}function In(w,h){w||tt(h)}function pt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ee(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Re{constructor(h,p){this.shortDelay=h,this.longDelay=p,In(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return function Ne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Yt(){return"http:"===Ee()||"https:"===Ee()}()||(0,ne.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ge(w,h){In(w.emulator,"Emulator should always be set here");const{url:p}=w.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ot{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ot={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},an=new Re(3e4,6e4);function Bt(w,h){return w.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:w.tenantId}):h}function ft(w,h,p,C){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,j.Z)(function*(w,h,p,C,U={}){return zn(w,U,(0,j.Z)(function*(){let J={},ye={};C&&("GET"===h?ye=C:J={body:JSON.stringify(C)});const Le=(0,ne.xO)(Object.assign({key:w.config.apiKey},ye)).slice(1),yt=yield w._getAdditionalHeaders();return yt["Content-Type"]="application/json",w.languageCode&&(yt["X-Firebase-Locale"]=w.languageCode),ot.fetch()(xn(w,w.config.apiHost,p,Le),Object.assign({method:h,headers:yt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function zn(w,h,p){return An.apply(this,arguments)}function An(){return(An=(0,j.Z)(function*(w,h,p){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ot),h);try{const U=new kr(w),J=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const ye=yield J.json();if("needConfirmation"in ye)throw Cn(w,"account-exists-with-different-credential",ye);if(J.ok&&!("errorMessage"in ye))return ye;{const Le=J.ok?ye.errorMessage:ye.error.message,[yt,vt]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===yt)throw Cn(w,"credential-already-in-use",ye);if("EMAIL_EXISTS"===yt)throw Cn(w,"email-already-in-use",ye);if("USER_DISABLED"===yt)throw Cn(w,"user-disabled",ye);const Zt=C[yt]||yt.toLowerCase().replace(/[_\s]+/g,"-");if(vt)throw function dn(w,h,p){const C=Object.assign(Object.assign({},Sn()),{[h]:p});return new ne.LL("auth","Firebase",C).create(h,{appName:w.name})}(w,Zt,vt);$e(w,Zt)}}catch(U){if(U instanceof ne.ZR)throw U;$e(w,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function Mn(w,h,p,C){return ur.apply(this,arguments)}function ur(){return(ur=(0,j.Z)(function*(w,h,p,C,U={}){const J=yield ft(w,h,p,C,U);return"mfaPendingCredential"in J&&$e(w,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function xn(w,h,p,C){const U=`${h}${p}?${C}`;return w.config.emulator?Ge(w.config,U):`${w.config.apiScheme}://${U}`}class kr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Ye(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cn(w,h,p){const C={appName:w.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const U=Ye(w,h,C);return U.customData._tokenResponse=p,U}function Vn(){return(Vn=(0,j.Z)(function*(w,h){return ft(w,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function tr(){return(tr=(0,j.Z)(function*(w,h){return ft(w,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function tn(w){if(w)try{const h=new Date(Number(w));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pr(){return(pr=(0,j.Z)(function*(w,h=!1){const p=(0,ne.m9)(w),C=yield p.getIdToken(h),U=Bn(C);st(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const J="object"==typeof U.firebase?U.firebase:void 0,ye=J?.sign_in_provider;return{claims:U,token:C,authTime:tn(Nr(U.auth_time)),issuedAtTime:tn(Nr(U.iat)),expirationTime:tn(Nr(U.exp)),signInProvider:ye||null,signInSecondFactor:J?.sign_in_second_factor||null}})).apply(this,arguments)}function Nr(w){return 1e3*Number(w)}function Bn(w){const[h,p,C]=w.split(".");if(void 0===h||void 0===p||void 0===C)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,ne.tV)(p);return U?JSON.parse(U):(Je("Failed to decode base64 JWT payload"),null)}catch(U){return Je("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Lr(w,h){return On.apply(this,arguments)}function On(){return(On=(0,j.Z)(function*(w,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof ne.ZR&&function Bi({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class Dt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,j.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,j.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class xi{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function di(w){return wr.apply(this,arguments)}function wr(){return wr=(0,j.Z)(function*(w){var h;const p=w.auth,C=yield w.getIdToken(),U=yield Lr(w,function _n(w,h){return tr.apply(this,arguments)}(p,{idToken:C}));st(U?.users.length,p,"internal-error");const J=U.users[0];w._notifyReloadListener(J);const ye=null!==(h=J.providerUserInfo)&&void 0!==h&&h.length?function Kr(w){return w.map(h=>{var{providerId:p}=h,C=(0,He._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(J.providerUserInfo):[],Le=function jt(w,h){return[...w.filter(C=>!h.some(U=>U.providerId===C.providerId)),...h]}(w.providerData,ye),Zt=!!w.isAnonymous&&!(w.email&&J.passwordHash||Le?.length),Zn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:Le,metadata:new xi(J.createdAt,J.lastLoginAt),isAnonymous:Zt};Object.assign(w,Zn)}),wr.apply(this,arguments)}function qr(){return(qr=(0,j.Z)(function*(w){const h=(0,ne.m9)(w);yield di(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function dr(){return(dr=(0,j.Z)(function*(w,h){const p=yield zn(w,{},(0,j.Z)(function*(){const C=(0,ne.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:J}=w.config,ye=xn(w,U,"/v1/token",`key=${J}`),Le=yield w._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",ot.fetch()(ye,{method:"POST",headers:Le,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Pn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){st(h.idToken,"internal-error"),st(typeof h.idToken<"u","internal-error"),st(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function nr(w){const h=Bn(w);return st(h,"internal-error"),st(typeof h.exp<"u","internal-error"),st(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,j.Z)(function*(){return st(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,j.Z)(function*(){const{accessToken:U,refreshToken:J,expiresIn:ye}=yield function Di(w,h){return dr.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(U,J,Number(ye))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:U,expirationTime:J}=p,ye=new Pn;return C&&(st("string"==typeof C,"internal-error",{appName:h}),ye.refreshToken=C),U&&(st("string"==typeof U,"internal-error",{appName:h}),ye.accessToken=U),J&&(st("number"==typeof J,"internal-error",{appName:h}),ye.expirationTime=J),ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Pn,this.toJSON())}_performRefresh(){return tt("not implemented")}}function nn(w,h){st("string"==typeof w||typeof w>"u","internal-error",{appName:h})}class Qn{constructor(h){var{uid:p,auth:C,stsTokenManager:U}=h,J=(0,He._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new xi(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,j.Z)(function*(){const C=yield Lr(p,p.stsTokenManager.getToken(p.auth,h));return st(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function Un(w){return pr.apply(this,arguments)}(this,h)}reload(){return function Rr(w){return qr.apply(this,arguments)}(this)}_assign(h){this!==h&&(st(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Qn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,j.Z)(function*(){let U=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),U=!0),p&&(yield di(C)),yield C.auth._persistUserIfCurrent(C),U&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,j.Z)(function*(){const p=yield h.getIdToken();return yield Lr(h,function Kt(w,h){return Vn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,U,J,ye,Le,yt,vt,Zt;const Zn=null!==(C=p.displayName)&&void 0!==C?C:void 0,is=null!==(U=p.email)&&void 0!==U?U:void 0,ti=null!==(J=p.phoneNumber)&&void 0!==J?J:void 0,ra=null!==(ye=p.photoURL)&&void 0!==ye?ye:void 0,Ic=null!==(Le=p.tenantId)&&void 0!==Le?Le:void 0,tl=null!==(yt=p._redirectEventId)&&void 0!==yt?yt:void 0,zd=null!==(vt=p.createdAt)&&void 0!==vt?vt:void 0,Vl=null!==(Zt=p.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:Wd,emailVerified:Ul,isAnonymous:qd,providerData:Bl,stsTokenManager:zh}=p;st(Wd&&zh,h,"internal-error");const Tp=Pn.fromJSON(this.name,zh);st("string"==typeof Wd,h,"internal-error"),nn(Zn,h.name),nn(is,h.name),st("boolean"==typeof Ul,h,"internal-error"),st("boolean"==typeof qd,h,"internal-error"),nn(ti,h.name),nn(ra,h.name),nn(Ic,h.name),nn(tl,h.name),nn(zd,h.name),nn(Vl,h.name);const nl=new Qn({uid:Wd,auth:h,email:is,emailVerified:Ul,displayName:Zn,isAnonymous:qd,photoURL:ra,phoneNumber:ti,tenantId:Ic,stsTokenManager:Tp,createdAt:zd,lastLoginAt:Vl});return Bl&&Array.isArray(Bl)&&(nl.providerData=Bl.map(rl=>Object.assign({},rl))),tl&&(nl._redirectEventId=tl),nl}static _fromIdTokenResponse(h,p,C=!1){return(0,j.Z)(function*(){const U=new Pn;U.updateFromServerResponse(p);const J=new Qn({uid:p.localId,auth:h,stsTokenManager:U,isAnonymous:C});return yield di(J),J})()}}const oe=new Map;function z(w){In(w instanceof Function,"Expected a class definition");let h=oe.get(w);return h?(In(h instanceof w,"Instance stored in cache mismatched with class"),h):(h=new w,oe.set(w,h),h)}const q=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.Z)(function*(){return!0})()}_set(p,C){var U=this;return(0,j.Z)(function*(){U.storage[p]=C})()}_get(p){var C=this;return(0,j.Z)(function*(){const U=C.storage[p];return void 0===U?null:U})()}_remove(p){var C=this;return(0,j.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return w.type="NONE",w})();function Q(w,h,p){return`firebase:${w}:${h}:${p}`}class ve{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:U,name:J}=this.auth;this.fullUserKey=Q(this.userKey,U.apiKey,J),this.fullPersistenceKey=Q("persistence",U.apiKey,J),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,j.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Qn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,j.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,j.Z)(function*(){if(!p.length)return new ve(z(q),h,C);const U=(yield Promise.all(p.map(function(){var vt=(0,j.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return vt.apply(this,arguments)}}()))).filter(vt=>vt);let J=U[0]||z(q);const ye=Q(C,h.config.apiKey,h.name);let Le=null;for(const vt of p)try{const Zt=yield vt._get(ye);if(Zt){const Zn=Qn._fromJSON(h,Zt);vt!==J&&(Le=Zn),J=vt;break}}catch{}const yt=U.filter(vt=>vt._shouldAllowMigration);return J._shouldAllowMigration&&yt.length?(J=yt[0],Le&&(yield J._set(ye,Le.toJSON())),yield Promise.all(p.map(function(){var vt=(0,j.Z)(function*(Zt){if(Zt!==J)try{yield Zt._remove(ye)}catch{}});return function(Zt){return vt.apply(this,arguments)}}())),new ve(J,h,C)):new ve(J,h,C)})()}}function Xe(w){const h=w.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(kn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(dt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(gr(h))return"Blackberry";if(Ir(h))return"Webos";if($t(h))return"Safari";if((h.includes("chrome/")||qt(h))&&!h.includes("edge/"))return"Chrome";if(rn(h))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function dt(w=(0,ne.z$)()){return/firefox\//i.test(w)}function $t(w=(0,ne.z$)()){const h=w.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function qt(w=(0,ne.z$)()){return/crios\//i.test(w)}function kn(w=(0,ne.z$)()){return/iemobile/i.test(w)}function rn(w=(0,ne.z$)()){return/android/i.test(w)}function gr(w=(0,ne.z$)()){return/blackberry/i.test(w)}function Ir(w=(0,ne.z$)()){return/webos/i.test(w)}function br(w=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function We(w=(0,ne.z$)()){return br(w)||rn(w)||Ir(w)||gr(w)||/windows phone/i.test(w)||kn(w)}function Ct(w,h=[]){let p;switch(w){case"Browser":p=Xe((0,ne.z$)());break;case"Worker":p=`${Xe((0,ne.z$)())}-${w}`;break;default:p=w}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ke.Jn}/${C}`}function mr(w,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,j.Z)(function*(w,h){return ft(w,"GET","/v2/recaptchaConfig",Bt(w,h))})).apply(this,arguments)}function Is(w){return void 0!==w&&void 0!==w.enterprise}class fi{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Hr(w){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=h,C.onerror=U=>{const J=Ye("internal-error");J.customData=U,p(J)},C.type="text/javascript",C.charset="UTF-8",function Fi(){var w,h;return null!==(h=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==h?h:document}().appendChild(C)})}function Gr(w){return`__${w}${Math.floor(1e6*Math.random())}`}class Tr{constructor(h){this.type="recaptcha-enterprise",this.auth=le(h)}verify(h="verify",p=!1){var C=this;return(0,j.Z)(function*(){function J(){return J=(0,j.Z)(function*(Le){if(!p){if(null==Le.tenantId&&null!=Le._agentRecaptchaConfig)return Le._agentRecaptchaConfig.siteKey;if(null!=Le.tenantId&&void 0!==Le._tenantRecaptchaConfigs[Le.tenantId])return Le._tenantRecaptchaConfigs[Le.tenantId].siteKey}return new Promise(function(){var yt=(0,j.Z)(function*(vt,Zt){mr(Le,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Zn=>{if(void 0!==Zn.recaptchaKey){const is=new fi(Zn);return null==Le.tenantId?Le._agentRecaptchaConfig=is:Le._tenantRecaptchaConfigs[Le.tenantId]=is,vt(is.siteKey)}Zt(new Error("recaptcha Enterprise site key undefined"))}).catch(Zn=>{Zt(Zn)})});return function(vt,Zt){return yt.apply(this,arguments)}}())}),J.apply(this,arguments)}function ye(Le,yt,vt){const Zt=window.grecaptcha;Is(Zt)?Zt.enterprise.ready(()=>{Zt.enterprise.execute(Le,{action:h}).then(Zn=>{yt(Zn)}).catch(()=>{yt("NO_RECAPTCHA")})}):vt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Le,yt)=>{(function U(Le){return J.apply(this,arguments)})(C.auth).then(vt=>{if(!p&&Is(window.grecaptcha))ye(vt,Le,yt);else{if(typeof window>"u")return void yt(new Error("RecaptchaVerifier is only supported in browser"));Hr("https://www.google.com/recaptcha/enterprise.js?render="+vt).then(()=>{ye(vt,Le,yt)}).catch(Zt=>{yt(Zt)})}}).catch(vt=>{yt(vt)})})})()}}function hs(w,h,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,j.Z)(function*(w,h,p,C=!1){const U=new Tr(w);let J;try{J=yield U.verify(p)}catch{J=yield U.verify(p,!0)}const ye=Object.assign({},h);return Object.assign(ye,C?{captchaResp:J}:{captchaResponse:J}),Object.assign(ye,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ye,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ye})).apply(this,arguments)}class ks{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=J=>new Promise((ye,Le)=>{try{ye(h(J))}catch(yt){Le(yt)}});C.onAbort=p,this.queue.push(C);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,j.Z)(function*(){if(p.auth.currentUser===h)return;const C=[];try{for(const U of p.queue)yield U(h),U.onAbort&&C.push(U.onAbort)}catch(U){C.reverse();for(const J of C)try{J()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}class Ho{constructor(h,p,C,U){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new de(this),this.idTokenSubscription=new de(this),this.beforeStateQueue=new ks(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=z(p)),this._initializationPromise=this.queue((0,j.Z)(function*(){var U,J;if(!C._deleted&&(C.persistenceManager=yield ve.create(C,h),!C._deleted)){if(null!==(U=C._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(J=C.currentUser)||void 0===J?void 0:J.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,j.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,j.Z)(function*(){var C;const U=yield p.assertedPersistence.getCurrentUser();let J=U,ye=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Le=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,yt=J?._redirectEventId,vt=yield p.tryRedirectSignIn(h);(!Le||Le===yt)&&vt?.user&&(J=vt.user,ye=!0)}if(!J)return p.directlySetCurrentUser(null);if(!J._redirectEventId){if(ye)try{yield p.beforeStateQueue.runMiddleware(J)}catch(Le){J=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Le))}return J?p.reloadAndSetCurrentUserOrClear(J):p.directlySetCurrentUser(null)}return st(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===J._redirectEventId?p.directlySetCurrentUser(J):p.reloadAndSetCurrentUserOrClear(J)})()}tryRedirectSignIn(h){var p=this;return(0,j.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,j.Z)(function*(){try{yield di(h)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ue(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var h=this;return(0,j.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,j.Z)(function*(){const C=h?(0,ne.m9)(h):null;return C&&st(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,j.Z)(function*(){if(!C._deleted)return h&&st(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,j.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,j.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,j.Z)(function*(){yield p.assertedPersistence.setPersistence(z(h))}))}initializeRecaptchaConfig(){var h=this;return(0,j.Z)(function*(){const p=yield mr(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new fi(p);null==h.tenantId?h._agentRecaptchaConfig=C:h._tenantRecaptchaConfigs[h.tenantId]=C,C.emailPasswordEnabled&&new Tr(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ne.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,j.Z)(function*(){const U=yield C.getOrInitRedirectPersistenceManager(p);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,j.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&z(h)||p._popupRedirectResolver;st(C,p,"argument-error"),p.redirectPersistenceManager=yield ve.create(p,[z(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,j.Z)(function*(){var C,U;return p._isInitialized&&(yield p.queue((0,j.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,j.Z)(function*(){if(h===p.currentUser)return p.queue((0,j.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,U){if(this._deleted)return()=>{};const J="function"==typeof p?p:p.next.bind(p),ye=this._isInitialized?Promise.resolve():this._initializationPromise;return st(ye,this,"internal-error"),ye.then(()=>J(this.currentUser)),"function"==typeof p?h.addObserver(p,C,U):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,j.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,j.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(C["X-Firebase-Client"]=U);const J=yield h._getAppCheckToken();return J&&(C["X-Firebase-AppCheck"]=J),C})()}_getAppCheckToken(){var h=this;return(0,j.Z)(function*(){var p;const C=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function Be(w,...h){Oe.logLevel<=ae.in.WARN&&Oe.warn(`Auth (${Ke.Jn}): ${w}`,...h)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function le(w){return(0,ne.m9)(w)}class de{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ne.ne)(p=>this.observer=p)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ft(w){const h=w.indexOf(":");return h<0?"":w.substr(0,h+1)}function un(w){if(!w)return null;const h=Number(w);return isNaN(h)?null:h}class Ni{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return tt("not implemented")}_getIdTokenResponse(h){return tt("not implemented")}_linkToIdToken(h,p){return tt("not implemented")}_getReauthenticationResolver(h){return tt("not implemented")}}function zr(w,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,j.Z)(function*(w,h){return ft(w,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function co(w,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,j.Z)(function*(w,h){return Mn(w,"POST","/v1/accounts:signInWithPassword",Bt(w,h))})).apply(this,arguments)}function pi(){return(pi=(0,j.Z)(function*(w,h){return Mn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,h))})).apply(this,arguments)}function pn(){return(pn=(0,j.Z)(function*(w,h){return Mn(w,"POST","/v1/accounts:signInWithEmailLink",Bt(w,h))})).apply(this,arguments)}class ir extends Ni{constructor(h,p,C,U=null){super("password",C),this._email=h,this._password=p,this._tenantId=U}static _fromEmailAndPassword(h,p){return new ir(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new ir(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,j.Z)(function*(){var C;switch(p.signInMethod){case"password":const U={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=h._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const J=yield hs(h,U,"signInWithPassword");return co(h,J)}return co(h,U).catch(function(){var J=(0,j.Z)(function*(ye){if("auth/missing-recaptcha-token"===ye.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Le=yield hs(h,U,"signInWithPassword");return co(h,Le)}return Promise.reject(ye)});return function(ye){return J.apply(this,arguments)}}());case"emailLink":return function ca(w,h){return pi.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:$e(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,j.Z)(function*(){switch(C.signInMethod){case"password":return zr(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Zi(w,h){return pn.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:$e(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Wn(w,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,j.Z)(function*(w,h){return Mn(w,"POST","/v1/accounts:signInWithIdp",Bt(w,h))})).apply(this,arguments)}class Fn{constructor(h){var p,C,U,J,ye,Le;const yt=(0,ne.zd)((0,ne.pd)(h)),vt=null!==(p=yt.apiKey)&&void 0!==p?p:null,Zt=null!==(C=yt.oobCode)&&void 0!==C?C:null,Zn=function ni(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=yt.mode)&&void 0!==U?U:null);st(vt&&Zt&&Zn,"argument-error"),this.apiKey=vt,this.operation=Zn,this.code=Zt,this.continueUrl=null!==(J=yt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(ye=yt.languageCode)&&void 0!==ye?ye:null,this.tenantId=null!==(Le=yt.tenantId)&&void 0!==Le?Le:null}static parseLink(h){const p=function mo(w){const h=(0,ne.zd)((0,ne.pd)(w)).link,p=h?(0,ne.zd)((0,ne.pd)(h)).deep_link_id:null,C=(0,ne.zd)((0,ne.pd)(w)).deep_link_id;return(C?(0,ne.zd)((0,ne.pd)(C)).link:null)||C||p||h||w}(h);try{return new Fn(p)}catch{return null}}}let Xs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(p,C){return ir._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const U=Fn.parseLink(C);return st(U,"argument-error"),ir._fromEmailAndCode(p,U.code,U.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Lt{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ps extends Lt{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Ji(w,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,j.Z)(function*(w,h){return Mn(w,"POST","/v1/accounts:signUp",Bt(w,h))})).apply(this,arguments)}class jr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,U=!1){return(0,j.Z)(function*(){const J=yield Qn._fromIdTokenResponse(h,C,U),ye=mn(C);return new jr({user:J,providerId:ye,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,j.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const U=mn(C);return new jr({user:h,providerId:U,_tokenResponse:C,operationType:p})})()}}function mn(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class gi extends ne.ZR{constructor(h,p,C,U){var J;super(p.code,p.message),this.operationType=C,this.user=U,Object.setPrototypeOf(this,gi.prototype),this.customData={appName:h.name,tenantId:null!==(J=h.tenantId)&&void 0!==J?J:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,U){return new gi(h,p,C,U)}}function mi(w,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(w):p._getIdTokenResponse(w)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?gi._fromErrorAndOperation(w,J,h,C):J})}function Ma(){return(Ma=(0,j.Z)(function*(w,h,p=!1){const C=yield Lr(w,h._linkToIdToken(w.auth,yield w.getIdToken()),p);return jr._forOperation(w,"link",C)})).apply(this,arguments)}function Ss(){return(Ss=(0,j.Z)(function*(w,h,p=!1){const{auth:C}=w,U="reauthenticate";try{const J=yield Lr(w,mi(C,U,h,w),p);st(J.idToken,C,"internal-error");const ye=Bn(J.idToken);st(ye,C,"internal-error");const{sub:Le}=ye;return st(w.uid===Le,C,"user-mismatch"),jr._forOperation(w,U,J)}catch(J){throw"auth/user-not-found"===J?.code&&$e(C,"user-mismatch"),J}})).apply(this,arguments)}function _o(w,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,j.Z)(function*(w,h,p=!1){const C="signIn",U=yield mi(w,C,h),J=yield jr._fromIdTokenResponse(w,C,U);return p||(yield w._updateCurrentUser(J.user)),J})).apply(this,arguments)}function da(){return(da=(0,j.Z)(function*(w,h){return _o(le(w),h)})).apply(this,arguments)}function $s(w,h,p){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,j.Z)(function*(w,h,p){var C;const U=le(w),J={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let ye;if(null!==(C=U._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const vt=yield hs(U,J,"signUpPassword");ye=Ji(U,vt)}else ye=Ji(U,J).catch(function(){var vt=(0,j.Z)(function*(Zt){if("auth/missing-recaptcha-token"===Zt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Zn=yield hs(U,J,"signUpPassword");return Ji(U,Zn)}return Promise.reject(Zt)});return function(Zt){return vt.apply(this,arguments)}}());const Le=yield ye.catch(vt=>Promise.reject(vt)),yt=yield jr._fromIdTokenResponse(U,"signIn",Le);return yield U._updateCurrentUser(yt.user),yt}),Ya.apply(this,arguments)}function Li(w,h,p){return function vi(w,h){return da.apply(this,arguments)}((0,ne.m9)(w),Xs.credential(h,p))}function Gi(w){return(0,ne.m9)(w).signOut()}const wt="__sak";class xe{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const La=(()=>{class w extends xe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rt(){const w=(0,ne.z$)();return $t(w)||br(w)}()&&function Pt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=We(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const U=this.storage.getItem(C),J=this.localCache[C];U!==J&&p(C,J,U)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((Le,yt,vt)=>{this.notifyListeners(Le,vt)});const U=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(U);if(p.newValue!==Le)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!C)return}const J=()=>{const Le=this.storage.getItem(U);!C&&this.localCache[U]===Le||this.notifyListeners(U,Le)},ye=this.storage.getItem(U);!function Ce(){return(0,ne.w1)()&&10===document.documentMode}()||ye===p.newValue||p.newValue===p.oldValue?J():setTimeout(J,10)}notifyListeners(p,C){this.localCache[p]=C;const U=this.listeners[p];if(U)for(const J of Array.from(U))J(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var U=()=>super._set,J=this;return(0,j.Z)(function*(){yield U().call(J,p,C),J.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,U=this;return(0,j.Z)(function*(){const J=yield C().call(U,p);return U.localCache[p]=JSON.stringify(J),J})()}_remove(p){var C=()=>super._remove,U=this;return(0,j.Z)(function*(){yield C().call(U,p),delete U.localCache[p]})()}}return w.type="LOCAL",w})(),gu=(()=>{class w extends xe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return w.type="SESSION",w})();let ga=(()=>{class w{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(J=>J.isListeningto(p));if(C)return C;const U=new w(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,j.Z)(function*(){const U=p,{eventId:J,eventType:ye,data:Le}=U.data,yt=C.handlersMap[ye];if(!yt?.size)return;U.ports[0].postMessage({status:"ack",eventId:J,eventType:ye});const vt=Array.from(yt).map(function(){var Zn=(0,j.Z)(function*(is){return is(U.origin,Le)});return function(is){return Zn.apply(this,arguments)}}()),Zt=yield function Qa(w){return Promise.all(w.map(function(){var h=(0,j.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(vt);U.ports[0].postMessage({status:"done",eventId:J,eventType:ye,response:Zt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function es(w="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return w+p}class Ad{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var U=this;return(0,j.Z)(function*(){const J=typeof MessageChannel<"u"?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let ye,Le;return new Promise((yt,vt)=>{const Zt=es("",20);J.port1.start();const Zn=setTimeout(()=>{vt(new Error("unsupported_event"))},C);Le={messageChannel:J,onMessage(is){const ti=is;if(ti.data.eventId===Zt)switch(ti.data.status){case"ack":clearTimeout(Zn),ye=setTimeout(()=>{vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ye),yt(ti.data.response);break;default:clearTimeout(Zn),clearTimeout(ye),vt(new Error("invalid_response"))}}},U.handlers.add(Le),J.port1.addEventListener("message",Le.onMessage),U.target.postMessage({eventType:h,eventId:Zt,data:p},[J.port2])}).finally(()=>{Le&&U.removeMessageHandler(Le)})})()}}function Pi(){return window}function St(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function zi(){return(zi=(0,j.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ma="firebaseLocalStorageDb",on="firebaseLocalStorage",oi="fbase_key";class _t{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ko(w,h){return w.transaction([on],h?"readwrite":"readonly").objectStore(on)}function ko(){const w=indexedDB.open(ma,1);return new Promise((h,p)=>{w.addEventListener("error",()=>{p(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(on,{keyPath:oi})}catch(U){p(U)}}),w.addEventListener("success",(0,j.Z)(function*(){const C=w.result;C.objectStoreNames.contains(on)?h(C):(C.close(),yield function ya(){const w=indexedDB.deleteDatabase(ma);return new _t(w).toPromise()}(),h(yield ko()))}))})}function Uu(w,h,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,j.Z)(function*(w,h,p){const C=Ko(w,!0).put({[oi]:h,value:p});return new _t(C).toPromise()})).apply(this,arguments)}function va(){return(va=(0,j.Z)(function*(w,h){const p=Ko(w,!1).get(h),C=yield new _t(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ac(w,h){const p=Ko(w,!0).delete(h);return new _t(p).toPromise()}const Kn=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,j.Z)(function*(){return p.db||(p.db=yield ko()),p.db})()}_withRetries(p){var C=this;return(0,j.Z)(function*(){let U=0;for(;;)try{const J=yield C._openDb();return yield p(J)}catch(J){if(U++>3)throw J;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,j.Z)(function*(){return St()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,j.Z)(function*(){p.receiver=ga._getInstance(function Nt(){return St()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,j.Z)(function*(U,J){return{keyProcessed:(yield p._poll()).includes(J.key)}});return function(U,J){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,j.Z)(function*(U,J){return["keyChanged"]});return function(U,J){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,j.Z)(function*(){var C,U;if(p.activeServiceWorker=yield function qo(){return zi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ad(p.activeServiceWorker);const J=yield p.sender._send("ping",{},800);J&&null!==(C=J[0])&&void 0!==C&&C.fulfilled&&null!==(U=J[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,j.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function $r(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ko();return yield Uu(p,wt,"1"),yield ac(p,wt),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,j.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var U=this;return(0,j.Z)(function*(){return U._withPendingWrite((0,j.Z)(function*(){return yield U._withRetries(J=>Uu(J,p,C)),U.localCache[p]=C,U.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,j.Z)(function*(){const U=yield C._withRetries(J=>function oc(w,h){return va.apply(this,arguments)}(J,p));return C.localCache[p]=U,U})()}_remove(p){var C=this;return(0,j.Z)(function*(){return C._withPendingWrite((0,j.Z)(function*(){return yield C._withRetries(U=>ac(U,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,j.Z)(function*(){const C=yield p._withRetries(ye=>{const Le=Ko(ye,!1).getAll();return new _t(Le).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const U=[],J=new Set;for(const{fbase_key:ye,value:Le}of C)J.add(ye),JSON.stringify(p.localCache[ye])!==JSON.stringify(Le)&&(p.notifyListeners(ye,Le),U.push(ye));for(const ye of Object.keys(p.localCache))p.localCache[ye]&&!J.has(ye)&&(p.notifyListeners(ye,null),U.push(ye));return U})()}notifyListeners(p,C){this.localCache[p]=C;const U=this.listeners[p];if(U)for(const J of Array.from(U))J(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,j.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();Gr("rcb"),new Re(3e4,6e4);class Jo extends Ni{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Wn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Wn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Wn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function vu(w){return _o(w.auth,new Jo(w),w.bypassAuthState)}function vr(w){const{auth:h,user:p}=w;return st(p,h,"internal-error"),function Bs(w,h){return Ss.apply(this,arguments)}(p,new Jo(w),w.bypassAuthState)}function Lo(w){return ai.apply(this,arguments)}function ai(){return(ai=(0,j.Z)(function*(w){const{auth:h,user:p}=w;return st(p,h,"internal-error"),function ri(w,h){return Ma.apply(this,arguments)}(p,new Jo(w),w.bypassAuthState)})).apply(this,arguments)}class Md{constructor(h,p,C,U,J=!1){this.auth=h,this.resolver=C,this.user=U,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,j.Z)(function*(C,U){h.pendingPromise={resolve:C,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(J){h.reject(J)}});return function(C,U){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,j.Z)(function*(){const{urlResponse:C,sessionId:U,postBody:J,tenantId:ye,error:Le,type:yt}=h;if(Le)return void p.reject(Le);const vt={auth:p.auth,requestUri:C,sessionId:U,tenantId:ye||void 0,postBody:J||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(yt)(vt))}catch(Zt){p.reject(Zt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return vu;case"linkViaPopup":case"linkViaRedirect":return Lo;case"reauthViaPopup":case"reauthViaRedirect":return vr;default:$e(this.auth,"internal-error")}}resolve(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Re(2e3,1e4);const Gu="pendingRedirect",ui=new Map;class cc extends Md{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,j.Z)(function*(){let C=ui.get(p.auth._key());if(!C){try{const J=(yield function _a(w,h){return zu.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(J)}catch(U){C=()=>Promise.reject(U)}ui.set(p.auth._key(),C)}return p.bypassAuthState||ui.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,j.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const U=yield C.auth._redirectUserForId(h.eventId);if(U)return C.user=U,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,j.Z)(function*(){})()}cleanUp(){}}function zu(){return(zu=(0,j.Z)(function*(w,h){const p=function wu(w){return Q(Gu,w.config.apiKey,w.name)}(h),C=function jc(w){return z(w._redirectPersistence)}(w);if(!(yield C._isAvailable()))return!1;const U="true"===(yield C._get(p));return yield C._remove(p),U})).apply(this,arguments)}function xr(w,h){ui.set(w._key(),h)}function lc(w,h){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,j.Z)(function*(w,h,p=!1){const C=le(w),U=function ts(w,h){return h?z(h):(st(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}(C,h),ye=yield new cc(C,U,p).execute();return ye&&!p&&(delete ye.user._redirectEventId,yield C._persistUserIfCurrent(ye.user),yield C._setRedirectUser(null,h)),ye})).apply(this,arguments)}class qi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Du(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qs(w);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!qs(h)){const U=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Ye(this.auth,U))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ua(h))}saveEventToCache(h){this.cachedEventUids.add(Ua(h)),this.lastProcessedEventTime=Date.now()}}function Ua(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(h=>h).join("-")}function qs({type:w,error:h}){return"unknown"===w&&"auth/no-auth-event"===h?.code}function ta(){return(ta=(0,j.Z)(function*(w,h={}){return ft(w,"GET","/v1/projects",h)})).apply(this,arguments)}const Ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ca=/^https?/;function tu(){return tu=(0,j.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:h}=yield function Da(w){return ta.apply(this,arguments)}(w);for(const p of h)try{if(Ml(p))return}catch{}$e(w,"unauthorized-domain")}),tu.apply(this,arguments)}function Ml(w){const h=pt(),{protocol:p,hostname:C}=new URL(h);if(w.startsWith("chrome-extension://")){const ye=new URL(w);return""===ye.hostname&&""===C?"chrome-extension:"===p&&w.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ye.hostname===C}if(!Ca.test(p))return!1;if(Ba.test(w))return C===w;const U=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(C)}const Gc=new Re(3e4,6e4);function Wu(){const w=Pi().___jsl;if(w?.H)for(const h of Object.keys(w.H))if(w.H[h].r=w.H[h].r||[],w.H[h].L=w.H[h].L||[],w.H[h].r=[...w.H[h].L],w.CP)for(let p=0;p<w.CP.length;p++)w.CP[p]=null}let To=null;const xl=new Re(5e3,15e3),ba="__/auth/iframe",Cu="emulator/auth/iframe",Ii={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function li(w){const h=w.config;st(h.authDomain,w,"auth-domain-config-required");const p=h.emulator?Ge(h,Cu):`https://${w.config.authDomain}/${ba}`,C={apiKey:h.apiKey,appName:w.name,v:Ke.Jn},U=Rs.get(w.config.apiHost);U&&(C.eid=U);const J=w._getFrameworks();return J.length&&(C.fw=J.join(",")),`${p}?${(0,ne.xO)(C).slice(1)}`}function bu(){return bu=(0,j.Z)(function*(w){const h=yield function Rd(w){return To=To||function ao(w){return new Promise((h,p)=>{var C,U,J;function ye(){Wu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Wu(),p(Ye(w,"network-request-failed"))},timeout:Gc.get()})}if(null!==(U=null===(C=Pi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(J=Pi().gapi)||void 0===J||!J.load){const Le=Gr("iframefcb");return Pi()[Le]=()=>{gapi.load?ye():p(Ye(w,"network-request-failed"))},Hr(`https://apis.google.com/js/api.js?onload=${Le}`).catch(yt=>p(yt))}ye()}}).catch(h=>{throw To=null,h})}(w),To}(w),p=Pi().gapi;return st(p,w,"internal-error"),h.open({where:document.body,url:li(w),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ii,dontclear:!0},C=>new Promise(function(){var U=(0,j.Z)(function*(J,ye){yield C.restyle({setHideOnLeave:!1});const Le=Ye(w,"network-request-failed"),yt=Pi().setTimeout(()=>{ye(Le)},xl.get());function vt(){Pi().clearTimeout(yt),J(C)}C.ping(vt).then(vt,()=>{ye(Le)})});return function(J,ye){return U.apply(this,arguments)}}()))}),bu.apply(this,arguments)}const Nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Y{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fe="__/auth/handler",Tt="emulator/auth/handler",Et=encodeURIComponent("fac");function Gt(w,h,p,C,U,J){return fn.apply(this,arguments)}function fn(){return(fn=(0,j.Z)(function*(w,h,p,C,U,J){st(w.config.authDomain,w,"auth-domain-config-required"),st(w.config.apiKey,w,"invalid-api-key");const ye={apiKey:w.config.apiKey,appName:w.name,authType:p,redirectUrl:C,v:Ke.Jn,eventId:U};if(h instanceof Lt){h.setDefaultLanguage(w.languageCode),ye.providerId=h.providerId||"",(0,ne.xb)(h.getCustomParameters())||(ye.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Zt,Zn]of Object.entries(J||{}))ye[Zt]=Zn}if(h instanceof ps){const Zt=h.getScopes().filter(Zn=>""!==Zn);Zt.length>0&&(ye.scopes=Zt.join(","))}w.tenantId&&(ye.tid=w.tenantId);const Le=ye;for(const Zt of Object.keys(Le))void 0===Le[Zt]&&delete Le[Zt];const yt=yield w._getAppCheckToken(),vt=yt?`#${Et}=${encodeURIComponent(yt)}`:"";return`${function wn({config:w}){return w.emulator?Ge(w,Tt):`https://${w.authDomain}/${Fe}`}(w)}?${(0,ne.xO)(Le).slice(1)}${vt}`})).apply(this,arguments)}const uo="webStorageSupport",zc=class vs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gu,this._completeRedirectFn=lc,this._overrideRedirectResult=xr}_openPopup(h,p,C,U){var J=this;return(0,j.Z)(function*(){var ye;In(null===(ye=J.eventManagers[h._key()])||void 0===ye?void 0:ye.manager,"_initialize() not called before _openPopup()");const Le=yield Gt(h,p,C,pt(),U);return function ce(w,h,p,C=500,U=600){const J=Math.max((window.screen.availHeight-U)/2,0).toString(),ye=Math.max((window.screen.availWidth-C)/2,0).toString();let Le="";const yt=Object.assign(Object.assign({},Nl),{width:C.toString(),height:U.toString(),top:J,left:ye}),vt=(0,ne.z$)().toLowerCase();p&&(Le=qt(vt)?"_blank":p),dt(vt)&&(h=h||"http://localhost",yt.scrollbars="yes");const Zt=Object.entries(yt).reduce((is,[ti,ra])=>`${is}${ti}=${ra},`,"");if(function Pe(w=(0,ne.z$)()){var h;return br(w)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(vt)&&"_self"!==Le)return function _e(w,h){const p=document.createElement("a");p.href=w,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",Le),new Y(null);const Zn=window.open(h||"",Le,Zt);st(Zn,w,"popup-blocked");try{Zn.focus()}catch{}return new Y(Zn)}(h,Le,es())})()}_openRedirect(h,p,C,U){var J=this;return(0,j.Z)(function*(){return yield J._originValidation(h),function mu(w){Pi().location.href=w}(yield Gt(h,p,C,pt(),U)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:U,promise:J}=this.eventManagers[p];return U?Promise.resolve(U):(In(J,"If manager is not set, promise should be"),J)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,j.Z)(function*(){const C=yield function Ta(w){return bu.apply(this,arguments)}(h),U=new qi(h);return C.register("authEvent",J=>(st(J?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:U},p.iframes[h._key()]=C,U})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(uo,{type:uo},U=>{var J;const ye=null===(J=U?.[0])||void 0===J?void 0:J[uo];void 0!==ye&&p(!!ye),$e(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Hc(w){return tu.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return We()||$t()||br()}};var cs="@firebase/auth";class Wc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,j.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{h(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Su=(0,ne.Pz)("authIdTokenMaxAge")||300;let Od=null;const qc=w=>function(){var h=(0,j.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),U=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(U&&U>Su)return;const J=C?.token;Od!==J&&(Od=J,yield fetch(w,{method:J?"POST":"DELETE",headers:J?{Authorization:`Bearer ${J}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function So(w=(0,Ke.Mq)()){const h=(0,Ke.qX)(w,"auth");if(h.isInitialized())return h.getImmediate();const p=function De(w,h){const p=(0,Ke.qX)(w,"auth");if(p.isInitialized()){const U=p.getImmediate(),J=p.getOptions();if((0,ne.vZ)(J,h??{}))return U;$e(U,"already-initialized")}return p.initialize({options:h})}(w,{popupRedirectResolver:zc,persistence:[Kn,La,gu]}),C=(0,ne.Pz)("authTokenSyncURL");if(C){const J=qc(C);(function vn(w,h,p){(0,ne.m9)(w).beforeAuthStateChanged(h,p)})(p,J,()=>J(p.currentUser)),function Yn(w,h,p,C){(0,ne.m9)(w).onIdTokenChanged(h,p,C)}(p,ye=>J(ye))}const U=(0,ne.q4)("auth");return U&&function ut(w,h,p){const C=le(w);st(C._canInitEmulator,C,"emulator-config-failed"),st(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const U=!!p?.disableWarnings,J=Ft(h),{host:ye,port:Le}=function En(w){const h=Ft(w),p=/(\/\/)?([^?#/]+)/.exec(w.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(C);if(U){const J=U[1];return{host:J,port:un(C.substr(J.length+1))}}{const[J,ye]=C.split(":");return{host:J,port:un(ye)}}}(h);C.config.emulator={url:`${J}//${ye}${null===Le?"":`:${Le}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ye,port:Le,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Dn(){function w(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(p,`http://${U}`),p}!function pc(w){(0,Ke.Xd)(new se.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),J=h.getProvider("app-check-internal"),{apiKey:ye,authDomain:Le}=C.options;st(ye&&!ye.includes(":"),"invalid-api-key",{appName:C.name});const yt={apiKey:ye,authDomain:Le,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(w)},vt=new Ho(C,U,J,yt);return function ze(w,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(z);h?.errorMap&&w._updateErrorMap(h.errorMap),w._initializeWithPersistence(C,h?.popupRedirectResolver)}(vt,p),vt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,Ke.Xd)(new se.wA("auth-internal",h=>{const p=le(h.getProvider("auth").getImmediate());return new Wc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ke.KN)(cs,"0.23.2",function qu(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ke.KN)(cs,"0.23.2","esm2017")}("Browser");class na{constructor(h){return h}}class Pd{constructor(){return(0,y.vb)("auth")}}const Os=new ie.OlP("angularfire2.auth-instances");function Rl(w){return(h,p)=>{const C=h.runOutsideAngular(()=>w(p));return new na(C)}}const Kc={provide:Pd,deps:[[new ie.FiY,Os]]},Fh={provide:na,useFactory:function kd(w,h){const p=(0,y.JM)("auth",w,h);return p&&new na(p)},deps:[[new ie.FiY,Os],pe.Ot]};let Fd=(()=>{class w{constructor(){(0,ge.KN)("angularfire",y.q4.full,"auth")}}return w.\u0275fac=function(p){return new(p||w)},w.\u0275mod=ie.oAB({type:w}),w.\u0275inj=ie.cJS({providers:[Fh,Kc]}),w})();function Zu(w,...h){return{ngModule:Fd,providers:[{provide:Os,useFactory:Rl(w),multi:!0,deps:[ie.R0b,ie.zs3,y.HU,pe.z6,[new ie.FiY,fe.nm],...h]}]}}const Zc=(0,y.u3)($s,!0),yc=(0,y.u3)(So,!0),pm=(0,y.u3)(Li,!0),Ha=(0,y.u3)(Gi,!0)},4073:(zt,qe,W)=>{W.d(qe,{gg:()=>Mh,ET:()=>Wy,hJ:()=>n0,PL:()=>Yy,ad:()=>Qy,Xo:()=>Jg,Cm:()=>q_,IO:()=>Fu});var me,y=W(456),ie=W(4946),pe=W(5609),ge=W(8726),fe=W(3182),j=W(7247),ne=W(5861),Ke=W(534),He=W(4537),ae=W(7879),se=W(9058),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve={},lt=lt||{},ht=Ae||self;function Wt(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Sn="closure_uid_"+(1e9*Math.random()>>>0),Ie=0;function et(i,e,n){return i.call.apply(i.bind,arguments)}function Oe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Be(i,e,n){return(Be=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?et:Oe).apply(null,arguments)}function Je(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function $e(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(o,u,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[u].apply(o,f)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Tn(i){Object.prototype.hasOwnProperty.call(i,Sn)&&i[Sn]||(i[Sn]=++Ie)}(this)},Ye.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ln=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Cr(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function st(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Wt(o)){const u=i.length||0,l=o.length||0;i.length=u+l;for(let f=0;f<l;f++)i[u+f]=o[f]}else i.push(o)}}function tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var In=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ht.addEventListener("test",()=>{},e),ht.removeEventListener("test",()=>{},e)}catch{}return i}();function pt(i){return/^[\s\xa0]*$/.test(i)}function Yt(){var i=ht.navigator;return i&&(i=i.userAgent)?i:""}function Ee(i){return-1!=Yt().indexOf(i)}function Ne(i){return Ne[" "](i),i}Ne[" "]=function(){};var Xt,i,Re=Ee("Opera"),Ge=Ee("Trident")||Ee("MSIE"),ot=Ee("Edge"),Ot=ot||Ge,an=Ee("Gecko")&&!(-1!=Yt().toLowerCase().indexOf("webkit")&&!Ee("Edge"))&&!(Ee("Trident")||Ee("MSIE"))&&!Ee("Edge"),Bt=-1!=Yt().toLowerCase().indexOf("webkit")&&!Ee("Edge");function ft(){var i=ht.document;return i?i.documentMode:void 0}e:{var zn="",An=(i=Yt(),an?/rv:([^\);]+)(\)|;)/.exec(i):ot?/Edge\/([\d\.]+)/.exec(i):Ge?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Bt?/WebKit\/(\S+)/.exec(i):Re?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(An&&(zn=An?An[1]:""),Ge){var Mn=ft();if(null!=Mn&&Mn>parseFloat(zn)){Xt=String(Mn);break e}}Xt=zn}var kr=ht.document&&Ge&&(ft()||parseInt(Xt,10))||void 0;function Cn(i,e){if(tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(an){e:{try{Ne(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Kt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Cn.$.h.call(this)}}$e(Cn,tt);var Kt={2:"touch",3:"pen",4:"mouse"};Cn.prototype.h=function(){Cn.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),kt=0;function Fr(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.la=u,this.key=++kt,this.fa=this.ia=!1}function _n(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function tr(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function en(i){const e={};for(const n in i)e[n]=i[n];return e}const Un="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pr(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let l=0;l<Un.length;l++)n=Un[l],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Nr(i){this.src=i,this.g={},this.h=0}function Bn(i,e){var n=e.type;if(n in i.g){var l,o=i.g[n],u=Ln(o,e);(l=0<=u)&&Array.prototype.splice.call(o,u,1),l&&(_n(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function nr(i,e,n,o){for(var u=0;u<i.length;++u){var l=i[u];if(!l.fa&&l.listener==e&&l.capture==!!n&&l.la==o)return u}return-1}Nr.prototype.add=function(i,e,n,o,u){var l=i.toString();(i=this.g[l])||(i=this.g[l]=[],this.h++);var f=nr(i,e,o,u);return-1<f?(e=i[f],n||(e.ia=!1)):((e=new Fr(e,this.src,l,!!o,u)).ia=n,i.push(e)),e};var Lr="closure_lm_"+(1e6*Math.random()|0),On={};function Bi(i,e,n,o,u){if(o&&o.once)return di(i,e,n,o,u);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bi(i,e[l],n,o,u);return null}return n=dr(n),i&&i[Vn]?i.O(e,n,Ut(o)?!!o.capture:!!o,u):Dt(i,e,n,!1,o,u)}function Dt(i,e,n,o,u,l){if(!e)throw Error("Invalid event type");var f=Ut(u)?!!u.capture:!!u,D=Kr(i);if(D||(i[Lr]=D=new Nr(i)),(n=D.add(e,n,o,f,l)).proxy)return n;if(o=function xi(){const e=jt;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)In||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(qr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function di(i,e,n,o,u){if(Array.isArray(e)){for(var l=0;l<e.length;l++)di(i,e[l],n,o,u);return null}return n=dr(n),i&&i[Vn]?i.P(e,n,Ut(o)?!!o.capture:!!o,u):Dt(i,e,n,!0,o,u)}function wr(i,e,n,o,u){if(Array.isArray(e))for(var l=0;l<e.length;l++)wr(i,e[l],n,o,u);else o=Ut(o)?!!o.capture:!!o,n=dr(n),i&&i[Vn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=nr(l=i.g[e],n,o,u))&&(_n(l[n]),Array.prototype.splice.call(l,n,1),0==l.length&&(delete i.g[e],i.h--))):i&&(i=Kr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nr(e,n,o,u)),(n=-1<i?e[i]:null)&&Rr(n))}function Rr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Vn])Bn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(qr(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Kr(e))?(Bn(n,i),0==n.h&&(n.src=null,e[Lr]=null)):_n(i)}}}function qr(i){return i in On?On[i]:On[i]="on"+i}function jt(i,e){if(i.fa)i=!0;else{e=new Cn(e,this);var n=i.listener,o=i.la||i.src;i.ia&&Rr(i),i=n.call(o,e)}return i}function Kr(i){return(i=i[Lr])instanceof Nr?i:null}var Di="__closure_events_fn_"+(1e9*Math.random()>>>0);function dr(i){return"function"==typeof i?i:(i[Di]||(i[Di]=function(e){return i.handleEvent(e)}),i[Di])}function Pn(){Ye.call(this),this.i=new Nr(this),this.S=this,this.J=null}function nn(i,e){var n,o=i.J;if(o)for(n=[];o;o=o.J)n.push(o);if(i=i.S,o=e.type||e,"string"==typeof e)e=new tt(e,i);else if(e instanceof tt)e.target=e.target||i;else{var u=e;pr(e=new tt(o,i),u)}if(u=!0,n)for(var l=n.length-1;0<=l;l--){var f=e.g=n[l];u=Qn(f,o,!0,e)&&u}if(u=Qn(f=e.g=i,o,!0,e)&&u,u=Qn(f,o,!1,e)&&u,n)for(l=0;l<n.length;l++)u=Qn(f=e.g=n[l],o,!1,e)&&u}function Qn(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==n){var D=f.listener,N=f.la||f.src;f.ia&&Bn(i.i,f),u=!1!==D.call(N,o)&&u}}return u&&!o.defaultPrevented}$e(Pn,Ye),Pn.prototype[Vn]=!0,Pn.prototype.removeEventListener=function(i,e,n,o){wr(this,i,e,n,o)},Pn.prototype.N=function(){if(Pn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)_n(n[o]);delete i.g[e],i.h--}}this.J=null},Pn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},Pn.prototype.P=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var oe=ht.JSON.stringify;function K(){var i=kn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Q=new class z{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ve,i=>i.reset());class ve{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Xe(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function dt(i){ht.setTimeout(()=>{throw i},0)}let $t,qt=!1,kn=new class q{constructor(){this.h=this.g=null}add(e,n){const o=Q.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}},rn=()=>{const i=ht.Promise.resolve(void 0);$t=()=>{i.then(gr)}};var gr=()=>{for(var i;i=K();){try{i.h.call(i.g)}catch(n){dt(n)}var e=Q;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}qt=!1};function Ir(i,e){Pn.call(this),this.h=i||1,this.g=e||ht,this.j=Be(this.qb,this),this.l=Date.now()}function br(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function ji(i,e,n){if("function"==typeof i)n&&(i=Be(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Be(i.handleEvent,i)}return 2147483647<Number(e)?-1:ht.setTimeout(i,e||0)}function Pe(i){i.g=ji(()=>{i.g=null,i.i&&(i.i=!1,Pe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}$e(Ir,Pn),(me=Ir.prototype).ga=!1,me.T=null,me.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),nn(this,"tick"),this.ga&&(br(this),this.start()))}},me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.N=function(){Ir.$.N.call(this),br(this),delete this.g};class Ce extends Ye{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function We(i){Ye.call(this),this.h=i,this.g={}}$e(We,Ye);var Pt=[];function Ct(i,e,n,o){Array.isArray(n)||(n&&(Pt[0]=n.toString()),n=Pt);for(var u=0;u<n.length;u++){var l=Bi(e,n[u],o||i.handleEvent,!1,i.h||i);if(!l)break;i.g[l.key]=l}}function Jt(i){tr(i.g,function(e,n){this.g.hasOwnProperty(n)&&Rr(e)},i),i.g={}}function hn(){this.g=!0}function hi(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var l=u[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<u.length;f++)u[f]=""}}}return oe(n)}catch{return e}}(i,n)+(o?" "+o:"")})}We.prototype.N=function(){We.$.N.call(this),Jt(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hn.prototype.Ea=function(){this.g=!1},hn.prototype.info=function(){};var Fi={},Hr=null;function Gr(){return Hr=Hr||new Pn}function bn(i){tt.call(this,Fi.Ta,i)}function Es(i){const e=Gr();nn(e,new bn(e))}function os(i,e){tt.call(this,Fi.STAT_EVENT,i),this.stat=e}function Tr(i){const e=Gr();nn(e,new os(e,i))}function hs(i,e){tt.call(this,Fi.Ua,i),this.size=e}function Vr(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){i()},e)}Fi.Ta="serverreachability",$e(bn,tt),Fi.STAT_EVENT="statevent",$e(os,tt),Fi.Ua="timingevent",$e(hs,tt);var ks={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ho={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function le(){}function De(){}le.prototype.h=null;var En,ze={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ut(){tt.call(this,"d")}function Ft(){tt.call(this,"c")}function un(){}function Dn(i,e,n,o){this.l=i,this.j=e,this.m=n,this.W=o||1,this.U=new We(this),this.P=Zr,this.V=new Ir(i=Ot?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}$e(ut,tt),$e(Ft,tt),$e(un,le),un.prototype.g=function(){return new XMLHttpRequest},un.prototype.i=function(){return{}},En=new un;var Zr=45e3,Jn={},zr={};function Js(i,e,n){i.L=1,i.v=Yr(Zi(e)),i.s=n,i.S=!0,oa(i,null)}function oa(i,e){i.G=Date.now(),Ki(i),i.A=Zi(i.v);var n=i.A,o=i.W;Array.isArray(o)||(o=[String(o)]),mo(n.i,"t",o),i.C=0,n=i.l.J,i.h=new Ni,i.g=Ya(i.l,n?e:null,!i.s),0<i.O&&(i.M=new Ce(Be(i.Pa,i,i.g),i.O)),Ct(i.U,i.g,"readystatechange",i.nb),e=i.I?en(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Es(),function mr(i,e,n,o,u,l){i.info(function(){if(i.g)if(l)for(var f="",D=l.split("&"),N=0;N<D.length;N++){var F=D[N].split("=");if(1<F.length){var Z=F[0];F=F[1];var re=Z.split("_");f=2<=re.length&&"type"==re[1]?f+(Z+"=")+F+"&":f+(Z+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.W,i.s)}function Go(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function co(i,e,n){let u,o=!0;for(;!i.J&&i.C<n.length;){if(u=Mo(i,n),u==zr){4==e&&(i.o=4,Tr(14),o=!1),hi(i.j,i.m,null,"[Incomplete Response]");break}if(u==Jn){i.o=4,Tr(15),hi(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}hi(i.j,i.m,u,null),ho(i,u)}Go(i)&&u!=zr&&u!=Jn&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Tr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ha(e),e.M=!0,Tr(11))):(hi(i.j,i.m,n,"[Invalid Chunked Response]"),Cs(i),Ds(i))}function Mo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?zr:(n=Number(e.substring(n,o)),isNaN(n)?Jn:(o+=1)+n>e.length?zr:(e=e.slice(o,o+n),i.C=o+n,e))}function Ki(i){i.Y=Date.now()+i.P,aa(i,i.P)}function aa(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Vr(Be(i.lb,i),e)}function lo(i){i.B&&(ht.clearTimeout(i.B),i.B=null)}function Ds(i){0==i.l.H||i.J||pu(i.l,i)}function Cs(i){lo(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,br(i.V),Jt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function ho(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Sr(n.i,i)))if(!i.K&&Sr(n.i,i)&&3==n.H){try{var o=n.Ja.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;js(n),cn(n)}fu(n),Tr(18)}}else n.Fa=u[1],0<n.Fa-n.V&&37500>u[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vr(Be(n.ib,n),6e3));if(1>=Ts(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fa(n,11)}else if((i.K||n.g==i)&&js(n),!pt(e))for(u=n.Ja.g.parse(e),e=0;e<u.length;e++){let F=u[e];if(n.V=F[0],F=F[1],2==n.H)if("c"==F[0]){n.K=F[1],n.pa=F[2];const Z=F[3];null!=Z&&(n.ra=Z,n.l.info("VER="+n.ra));const re=F[4];null!=re&&(n.Ga=re,n.l.info("SVER="+n.Ga));const Te=F[5];null!=Te&&"number"==typeof Te&&0<Te&&(n.L=o=1.5*Te,n.l.info("backChannelRequestTimeoutMs_="+o)),o=n;const je=i.g;if(je){const gt=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gt){var l=o.i;l.g||-1==gt.indexOf("spdy")&&-1==gt.indexOf("quic")&&-1==gt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Fs(l,l.h),l.h=null))}if(o.F){const Mt=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;Mt&&(o.Da=Mt,gn(o.I,o.F,Mt))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var f=i;if((o=n).wa=$s(o,o.J?o.pa:null,o.Y),f.K){Ls(o.i,f);var D=f,N=o.L;N&&D.setTimeout(N),D.B&&(lo(D),Ki(D)),o.g=f}else Ci(o);0<n.j.length&&ms(n)}else"stop"!=F[0]&&"close"!=F[0]||fa(n,7);else 3==n.H&&("stop"==F[0]||"close"==F[0]?"stop"==F[0]?fa(n,7):bt(n):"noop"!=F[0]&&n.h&&n.h.Aa(F),n.A=0)}Es()}catch{}}function No(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Wt(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function xo(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Wt(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function fo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Wt(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,l=0;l<u;l++)e.call(void 0,o[l],n&&n[l],i)}(me=Dn.prototype).setTimeout=function(i){this.P=i},me.nb=function(i){i=i.target;const e=this.M;e&&3==vi(i)?e.l():this.Pa(i)},me.Pa=function(i){try{if(i==this.g)e:{const Z=vi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Z)&&(3!=Z||Ot||this.g&&(this.h.h||this.g.ja()||da(this.g)))){this.J||4!=Z||7==e||Es(),lo(this);var n=this.g.da();this.ca=n;t:if(Go(this)){var o=da(this.g);i="";var u=o.length,l=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),Ds(this);var f="";break t}this.h.i=new ht.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:l&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==n,function rr(i,e,n,o,u,l,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,Z,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,N=this.g;if((D=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(D)){var F=D;break t}}F=null}if(!(n=F)){this.i=!1,this.o=3,Tr(12),Cs(this),Ds(this);break e}hi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ho(this,n)}this.S?(co(this,Z,f),Ot&&this.i&&3==Z&&(Ct(this.U,this.V,"tick",this.mb),this.V.start())):(hi(this.j,this.m,f,null),ho(this,f)),4==Z&&Cs(this),this.i&&!this.J&&(4==Z?pu(this.l,this):(this.i=!1,Ki(this)))}else(function k(i){const e={};i=(i.g&&2<=vi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let o=0;o<i.length;o++){if(pt(i[o]))continue;var n=Xe(i[o]);const u=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const l=e[u]||[];e[u]=l,l.push(n)}!function tn(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(o){return o.join(", ")})})(this.g),400==n&&0<f.indexOf("Unknown SID")?(this.o=3,Tr(12)):(this.o=0,Tr(13)),Cs(this),Ds(this)}}}catch{}},me.mb=function(){if(this.g){var i=vi(this.g),e=this.g.ja();this.C<e.length&&(lo(this),co(this,i,e),this.i&&4!=i&&Ki(this))}},me.cancel=function(){this.J=!0,Cs(this)},me.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Is(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Es(),Tr(17)),Cs(this),this.o=2,Ds(this)):aa(this,this.Y-i)};var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof pi){this.h=i.h,pn(this,i.j),this.s=i.s,this.g=i.g,ir(this,i.m),this.l=i.l;var e=i.i,n=new or;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Wn(this,n),this.o=i.o}else i&&(e=String(i).match(ua))?(this.h=!1,pn(this,e[1]||"",!0),this.s=Yi(e[2]||""),this.g=Yi(e[3]||"",!0),ir(this,e[4]),this.l=Yi(e[5]||"",!0),Wn(this,e[6]||"",!0),this.o=Yi(e[7]||"")):(this.h=!1,this.i=new or(null,this.h))}function Zi(i){return new pi(i)}function pn(i,e,n){i.j=n?Yi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ir(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Wn(i,e,n){e instanceof or?(i.i=e,function fs(i,e){e&&!i.j&&(Ur(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Qi(this,o),mo(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=po(e,mt)),i.i=new or(e,i.h))}function gn(i,e,n){i.i.set(e,n)}function Yr(i){return gn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Yi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function po(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,as),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function as(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}pi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(po(e,go,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(po(e,go,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(po(n,"/"==n.charAt(0)?sr:la,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",po(n,sn)),i.join("")};var go=/[#\/\?@]/g,la=/[#\?:]/g,sr=/[#\?]/g,mt=/[#\?@]/g,sn=/#/g;function or(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ur(i){i.g||(i.g=new Map,i.h=0,i.i&&function ca(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var l=i[n].substring(0,o);u=i[n].substring(o+1)}else l=i[n];e(l,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qi(i,e){Ur(i),e=Fn(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function ni(i,e){return Ur(i),e=Fn(i,e),i.g.has(e)}function mo(i,e,n){Qi(i,e),0<n.length&&(i.i=null,i.g.set(Fn(i,e),Cr(n)),i.h+=n.length)}function Fn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Lt(i){this.l=i||ps,i=ht.PerformanceNavigationTiming?0<(i=ht.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ht.g&&ht.g.Ka&&ht.g.Ka()&&ht.g.Ka().ec),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=or.prototype).add=function(i,e){Ur(this),this.i=null,i=Fn(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},me.forEach=function(i,e){Ur(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},me.ta=function(){Ur(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let l=0;l<u.length;l++)n.push(e[o])}return n},me.Z=function(i){Ur(this);let e=[];if("string"==typeof i)ni(this,i)&&(e=e.concat(this.g.get(Fn(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},me.set=function(i,e){return Ur(this),this.i=null,ni(this,i=Fn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},me.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const l=encodeURIComponent(String(o)),f=this.Z(o);for(o=0;o<f.length;o++){var u=l;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var ps=10;function bs(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ts(i){return i.h?1:i.g?i.g.size:0}function Sr(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Fs(i,e){i.g?i.g.add(e):i.h=e}function Ls(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Br(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return Cr(i.i)}Lt.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var gs=class{stringify(i){return ht.JSON.stringify(i,void 0)}parse(i){return ht.JSON.parse(i,void 0)}};function yo(){this.g=new gs}function Vs(i,e,n){const o=n||"";try{No(i,function(u,l){let f=u;Ut(u)&&(f=oe(u)),e.push(o+l+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Us(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function jr(i){this.l=i.fc||null,this.j=i.ob||!1}function mn(i,e){Pn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=Za,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$e(jr,le),jr.prototype.g=function(){return new mn(this.l,this.j)},jr.prototype.i=function(i){return function(){return i}}({}),$e(mn,Pn);var Za=0;function vo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function gi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,mi(i)}function mi(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(me=mn.prototype).open=function(i,e){if(this.readyState!=Za)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,mi(this)},me.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gi(this)),this.readyState=Za},me.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},me.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?gi(this):mi(this),3==this.readyState&&vo(this)}},me.Za=function(i){this.g&&(this.response=this.responseText=i,gi(this))},me.Ya=function(i){this.g&&(this.response=i,gi(this))},me.ka=function(){this.g&&gi(this)},me.setRequestHeader=function(i,e){this.v.append(i,e)},me.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Ri=ht.JSON.parse;function hr(i){Pn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$i,this.L=this.M=!1}$e(hr,Pn);var $i="",ri=/^https?$/i,Ma=["POST","PUT"];function Wr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Bs(i),_o(i)}function Bs(i){i.F||(i.F=!0,nn(i,"complete"),nn(i,"error"))}function Ss(i){if(i.h&&typeof lt<"u"&&(!i.C[1]||4!=vi(i)||2!=i.da()))if(i.v&&4==vi(i))ji(i.La,0,i);else if(nn(i,"readystatechange"),4==vi(i)){i.h=!1;try{const f=i.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===f){var u=String(i.I).match(ua)[1]||null;!u&&ht.self&&ht.self.location&&(u=ht.self.location.protocol.slice(0,-1)),o=!ri.test(u?u.toLowerCase():"")}n=o}if(n)nn(i,"complete"),nn(i,"success");else{i.m=6;try{var l=2<vi(i)?i.g.statusText:""}catch{l=""}i.j=l+" ["+i.da()+"]",Bs(i)}}finally{_o(i)}}}function _o(i,e){if(i.g){yn(i);const n=i.g,o=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||nn(i,"ready");try{n.onreadystatechange=o}catch{}}}function yn(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ht.clearTimeout(i.A),i.A=null)}function vi(i){return i.g?i.g.readyState:0}function da(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case $i:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function L(i){let e="";return tr(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function M(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=L(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):gn(i,e,n))}function G(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function ue(i){this.Ga=0,this.j=[],this.l=new hn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=G("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=G("baseRetryDelayMs",5e3,i),this.hb=G("retryDelaySeedMs",1e4,i),this.eb=G("forwardChannelMaxRetries",2,i),this.xa=G("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.dc||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Lt(i&&i.concurrentRequestLimit),this.Ja=new yo,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function bt(i){if(Oi(i),3==i.H){var e=i.W++,n=Zi(i.I);if(gn(n,"SID",i.K),gn(n,"RID",e),gn(n,"TYPE","terminate"),Xi(i,n),(e=new Dn(i,i.l,e)).L=2,e.v=Yr(Zi(n)),n=!1,ht.navigator&&ht.navigator.sendBeacon)try{n=ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ht.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ya(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ki(e)}us(i)}function cn(i){i.g&&(ha(i),i.g.cancel(),i.g=null)}function Oi(i){cn(i),i.u&&(ht.clearTimeout(i.u),i.u=null),js(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ht.clearTimeout(i.m),i.m=null)}function ms(i){if(!bs(i.i)&&!i.m){i.m=!0;var e=i.Na;$t||rn(),qt||($t(),qt=!0),kn.add(e,i),i.C=0}}function wo(i,e){var n;n=e?e.m:i.W++;const o=Zi(i.I);gn(o,"SID",i.K),gn(o,"RID",n),gn(o,"AID",i.V),Xi(i,o),i.o&&i.s&&M(o,i.o,i.s),n=new Dn(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ro(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Fs(i.i,n),Js(n,o,e)}function Xi(i,e){i.na&&tr(i.na,function(n,o){gn(e,o,n)}),i.h&&No({},function(n,o){gn(e,o,n)})}function Ro(i,e,n){n=Math.min(i.j.length,n);var o=i.h?Be(i.h.Va,i.h,i):null;e:{var u=i.j;let l=-1;for(;;){const f=["count="+n];-1==l?0<n?(l=u[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let N=0;N<n;N++){let F=u[N].g;const Z=u[N].map;if(F-=l,0>F)l=Math.max(0,u[N].g-100),D=!1;else try{Vs(Z,f,"req"+F+"_")}catch{o&&o(Z)}}if(D){o=f.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,o}function Ci(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;$t||rn(),qt||($t(),qt=!0),kn.add(e,i),i.A=0}}function fu(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Vr(Be(i.Ma,i),Na(i,i.A)),i.A++,0))}function ha(i){null!=i.B&&(ht.clearTimeout(i.B),i.B=null)}function xa(i){i.g=new Dn(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Zi(i.wa);gn(e,"RID","rpc"),gn(e,"SID",i.K),gn(e,"AID",i.V),gn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&gn(e,"TO",i.qa),gn(e,"TYPE","xmlhttp"),Xi(i,e),i.o&&i.s&&M(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=Yr(Zi(e)),n.s=null,n.S=!0,oa(n,i)}function js(i){null!=i.v&&(ht.clearTimeout(i.v),i.v=null)}function pu(i,e){var n=null;if(i.g==e){js(i),ha(i),i.g=null;var o=2}else{if(!Sr(i.i,e))return;n=e.F,Ls(i.i,e),o=1}if(0!=i.H)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;nn(o=Gr(),new hs(o,n)),ms(i)}else Ci(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==o&&function As(i,e){return!(Ts(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Vr(Be(i.Na,i,e),Na(i,i.C)),i.C++,0)))}(i,e)||2==o&&fu(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:fa(i,5);break;case 4:fa(i,10);break;case 3:fa(i,6);break;default:fa(i,2)}}function Na(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function fa(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var o=Be(i.pb,i);n||(n=new pi("//www.google.com/images/cleardot.gif"),ht.location&&"http"==ht.location.protocol||pn(n,"https"),Yr(n)),function Ji(i,e){const n=new hn;if(ht.Image){const o=new Image;o.onload=Je(Us,n,o,"TestLoadImage: loaded",!0,e),o.onerror=Je(Us,n,o,"TestLoadImage: error",!1,e),o.onabort=Je(Us,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=Je(Us,n,o,"TestLoadImage: timeout",!1,e),ht.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Tr(2);i.H=0,i.h&&i.h.za(e),us(i),Oi(i)}function us(i){if(i.H=0,i.ma=[],i.h){const e=Br(i.i);(0!=e.length||0!=i.j.length)&&(st(i.ma,e),st(i.ma,i.j),i.i.i.length=0,Cr(i.j),i.j.length=0),i.h.ya()}}function $s(i,e,n){var o=n instanceof pi?Zi(n):new pi(n);if(""!=o.g)e&&(o.g=e+"."+o.g),ir(o,o.m);else{var u=ht.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var l=new pi(null);o&&pn(l,o),e&&(l.g=e),u&&ir(l,u),n&&(l.l=n),o=l}return e=i.Da,(n=i.F)&&e&&gn(o,n,e),gn(o,"VER",i.ra),Xi(i,o),o}function Ya(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hr(n&&i.Ha&&!i.va?new jr({ob:!0}):i.va)).Oa(i.J),e}function Li(){}function Qr(){if(Ge&&!(10<=Number(kr)))throw Error("Environmental error: no available transport.")}function ii(i,e){Pn.call(this),this.g=new ue(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!pt(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pt(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new eo(this)}function Vi(i){ut.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ra(){Ft.call(this),this.status=1}function eo(i){this.g=i}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Io(i,e,n){n||(n=0);var o=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)o[u]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(u=0;16>u;++u)o[u]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var l=i.g[3],f=(e=i.g[0])+(l^(n=i.g[1])&((u=i.g[2])^l))+o[0]+3614090360&4294967295;f=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=(n=(u=(l=(e=n+(f<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^n&(u^l))+o[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(u^e&(n^u))+o[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=u+(n^l&(e^n))+o[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=n+(e^u&(l^e))+o[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(u^l&(n^u))+o[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(u^l&(n^u))+o[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(n^u&(e^n))+o[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=u+(e^n&(l^e))+o[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=n+(l^e&(u^l))+o[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(n^u^l)+o[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(n^u^l)+o[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^n^u)+o[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=u+(l^e^n)+o[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=n+(u^l^e)+o[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(u^(n|~l))+o[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(u^(n|~l))+o[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=u+(e^(l|~n))+o[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=n+(l^(u|~e))+o[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=n+((f=e+(u^(n|~l))+o[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(n^(e|~u))+o[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((u=l+((f=u+(e^(l|~n))+o[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+o[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(f<<21&4294967295|f>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+l&4294967295}function qn(i,e){this.h=e;for(var n=[],o=!0,u=i.length-1;0<=u;u--){var l=0|i[u];o&&l==e||(n[u]=l,o=!1)}this.g=n}(me=hr.prototype).Oa=function(i){this.M=i},me.ha=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():En.g(),this.C=function de(i){return i.h||(i.h=i.i())}(this.u?this.u:En),this.g.onreadystatechange=Be(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(l){return void Wr(this,l)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const l of o.keys())n.set(l,o.get(l))}o=Array.from(n.keys()).find(l=>"content-type"==l.toLowerCase()),u=ht.FormData&&i instanceof ht.FormData,!(0<=Ln(Ma,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of n)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yn(this),0<this.B&&((this.L=function yi(i){return Ge&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Be(this.ua,this)):this.A=ji(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(l){Wr(this,l)}},me.ua=function(){typeof lt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},me.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,nn(this,"complete"),nn(this,"abort"),_o(this))},me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_o(this,!0)),hr.$.N.call(this)},me.La=function(){this.s||(this.G||this.v||this.l?Ss(this):this.kb())},me.kb=function(){Ss(this)},me.isActive=function(){return!!this.g},me.da=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Ri(e)}},me.Ia=function(){return this.m},me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=ue.prototype).ra=8,me.H=1,me.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Dn(this,this.l,i);let l=this.s;if(this.U&&(l?(l=en(l),pr(l,this.U)):l=this.U),null!==this.o||this.O||(u.I=l,l=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var o=this.j[n];if(void 0===(o="__data__"in o.map&&"string"==typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ro(this,u,e),gn(n=Zi(this.I),"RID",i),gn(n,"CVER",22),this.F&&gn(n,"X-HTTP-Session-Id",this.F),Xi(this,n),l&&(this.O?e="headers="+encodeURIComponent(String(L(l)))+"&"+e:this.o&&M(n,this.o,l)),Fs(this.i,u),this.bb&&gn(n,"TYPE","init"),this.P?(gn(n,"$req",e),gn(n,"SID","null"),u.aa=!0,Js(u,n,null)):Js(u,n,e),this.H=2}}else 3==this.H&&(i?wo(this,i):0==this.j.length||bs(this.i)||wo(this))},me.Ma=function(){if(this.u=null,xa(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Vr(Be(this.jb,this),i)}},me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tr(10),cn(this),xa(this))},me.ib=function(){null!=this.v&&(this.v=null,cn(this),fu(this),Tr(19))},me.pb=function(i){i?(this.l.info("Successfully pinged google.com"),Tr(2)):(this.l.info("Failed to ping google.com"),Tr(1))},me.isActive=function(){return!!this.h&&this.h.isActive(this)},(me=Li.prototype).Ba=function(){},me.Aa=function(){},me.za=function(){},me.ya=function(){},me.isActive=function(){return!0},me.Va=function(){},Qr.prototype.g=function(i,e){return new ii(i,e)},$e(ii,Pn),ii.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;Tr(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=$s(i,null,i.Y),ms(i)},ii.prototype.close=function(){bt(this.g)},ii.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=oe(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&ms(e)},ii.prototype.N=function(){this.g.h=null,delete this.j,bt(this.g),delete this.g,ii.$.N.call(this)},$e(Vi,ut),$e(Ra,Ft),$e(eo,Li),eo.prototype.Ba=function(){nn(this.g,"a")},eo.prototype.Aa=function(i){nn(this.g,new Vi(i))},eo.prototype.za=function(i){nn(this.g,new Ra)},eo.prototype.ya=function(){nn(this.g,"b")},$e(Hi,function Oa(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,o=this.m,u=this.h,l=0;l<e;){if(0==u)for(;l<=n;)Io(this,i,l),l+=this.blockSize;if("string"==typeof i){for(;l<e;)if(o[u++]=i.charCodeAt(l++),u==this.blockSize){Io(this,o),u=0;break}}else for(;l<e;)if(o[u++]=i[l++],u==this.blockSize){Io(this,o),u=0;break}}this.h=u,this.i+=e},Hi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var o=0;32>o;o+=8)i[n++]=this.g[e]>>>o&255;return i};var Pa={};function Oo(i){return-128<=i&&128>i?function Ue(i,e){var n=Pa;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new qn([0|e],0>e?-1:0)}):new qn([0|i],0>i?-1:0)}function to(i){if(isNaN(i)||!isFinite(i))return ys;if(0>i)return si(to(-i));for(var e=[],n=1,o=0;i>=n;o++)e[o]=i/n|0,n*=ka;return new qn(e,0)}var ka=4294967296,ys=Oo(0),Eo=Oo(1),Hs=Oo(16777216);function no(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function Ms(i){return-1==i.h}function si(i){for(var e=i.g.length,n=[],o=0;o<e;o++)n[o]=~i.g[o];return new qn(n,~i.h).add(Eo)}function Wo(i,e){return i.add(si(e))}function E(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function B(i,e){this.g=i,this.h=e}function x(i,e){if(no(e))throw Error("division by zero");if(no(i))return new B(ys,ys);if(Ms(i))return e=x(si(i),e),new B(si(e.g),si(e.h));if(Ms(e))return e=x(i,si(e)),new B(si(e.g),e.h);if(30<i.g.length){if(Ms(i)||Ms(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Eo,o=e;0>=o.X(i);)n=V(n),o=V(o);var u=te(n,1),l=te(o,1);for(o=te(o,2),n=te(n,2);!no(o);){var f=l.add(o);0>=f.X(i)&&(u=u.add(n),l=f),o=te(o,1),n=te(n,1)}return e=Wo(i,u.R(e)),new B(u,e)}for(u=ys;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),o=48>=(o=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,o-48),f=(l=to(n)).R(e);Ms(f)||0<f.X(i);)f=(l=to(n-=o)).R(e);no(l)&&(l=Eo),u=u.add(l),i=Wo(i,f)}return new B(u,i)}function V(i){for(var e=i.g.length+1,n=[],o=0;o<e;o++)n[o]=i.D(o)<<1|i.D(o-1)>>>31;return new qn(n,i.h)}function te(i,e){var n=e>>5;e%=32;for(var o=i.g.length-n,u=[],l=0;l<o;l++)u[l]=0<e?i.D(l+n)>>>e|i.D(l+n+1)<<32-e:i.D(l+n);return new qn(u,i.h)}(me=qn.prototype).ea=function(){if(Ms(this))return-si(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var o=this.D(n);i+=(0<=o?o:ka+o)*e,e*=ka}return i},me.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(no(this))return"0";if(Ms(this))return"-"+si(this).toString(i);for(var e=to(Math.pow(i,6)),n=this,o="";;){var u=x(n,e).g,l=((0<(n=Wo(n,u.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(no(n=u))return l+o;for(;6>l.length;)l="0"+l;o=l+o}},me.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},me.X=function(i){return Ms(i=Wo(this,i))?-1:no(i)?0:1},me.abs=function(){return Ms(this)?si(this):this},me.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0,u=0;u<=e;u++){var l=o+(65535&this.D(u))+(65535&i.D(u)),f=(l>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);o=f>>>16,n[u]=(f&=65535)<<16|(l&=65535)}return new qn(n,-2147483648&n[n.length-1]?-1:0)},me.R=function(i){if(no(this)||no(i))return ys;if(Ms(this))return Ms(i)?si(this).R(si(i)):si(si(this).R(i));if(Ms(i))return si(this.R(si(i)));if(0>this.X(Hs)&&0>i.X(Hs))return to(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],o=0;o<2*e;o++)n[o]=0;for(o=0;o<this.g.length;o++)for(var u=0;u<i.g.length;u++){var l=this.D(o)>>>16,f=65535&this.D(o),D=i.D(u)>>>16,N=65535&i.D(u);n[2*o+2*u]+=f*N,E(n,2*o+2*u),n[2*o+2*u+1]+=l*N,E(n,2*o+2*u+1),n[2*o+2*u+1]+=f*D,E(n,2*o+2*u+1),n[2*o+2*u+2]+=l*D,E(n,2*o+2*u+2)}for(o=0;o<e;o++)n[o]=n[2*o+1]<<16|n[2*o];for(o=e;o<2*e;o++)n[o]=0;return new qn(n,0)},me.gb=function(i){return x(this,i).h},me.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)&i.D(o);return new qn(n,this.h&i.h)},me.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)|i.D(o);return new qn(n,this.h|i.h)},me.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],o=0;o<e;o++)n[o]=this.D(o)^i.D(o);return new qn(n,this.h^i.h)},Qr.prototype.createWebChannel=Qr.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Ho.COMPLETE="complete",De.EventType=ze,ze.OPEN="a",ze.CLOSE="b",ze.ERROR="c",ze.MESSAGE="d",Pn.prototype.listen=Pn.prototype.O,hr.prototype.listenOnce=hr.prototype.P,hr.prototype.getLastError=hr.prototype.Sa,hr.prototype.getLastErrorCode=hr.prototype.Ia,hr.prototype.getStatus=hr.prototype.da,hr.prototype.getResponseJson=hr.prototype.Wa,hr.prototype.getResponseText=hr.prototype.ja,hr.prototype.send=hr.prototype.ha,hr.prototype.setWithCredentials=hr.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,qn.prototype.add=qn.prototype.add,qn.prototype.multiply=qn.prototype.R,qn.prototype.modulo=qn.prototype.gb,qn.prototype.compare=qn.prototype.X,qn.prototype.toNumber=qn.prototype.ea,qn.prototype.toString=qn.prototype.toString,qn.prototype.getBits=qn.prototype.D,qn.fromNumber=to,qn.fromString=function zo(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return si(zo(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=to(Math.pow(e,8)),o=ys,u=0;u<i.length;u+=8){var l=Math.min(8,i.length-u),f=parseInt(i.substring(u,u+l),e);8>l?(l=to(Math.pow(e,l)),o=o.R(l).add(to(f))):o=(o=o.R(n)).add(to(f))}return o};var ke=Ve.createWebChannelTransport=function(){return new Qr},Qe=Ve.getStatEventTarget=function(){return Gr()},Vt=Ve.ErrorCode=ks,yr=Ve.EventType=Ho,Er=Ve.Event=Fi,Yn=Ve.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vn=Ve.FetchXmlHttpFactory=jr,Ar=Ve.WebChannel=De,Xn=Ve.XhrIo=hr,_i=Ve.Md5=Hi,Gi=Ve.Integer=qn;const Gs="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let Mr="9.23.0";const bi=new ae.Yd("@firebase/firestore");function ro(){return bi.logLevel}function at(i,...e){if(bi.logLevel<=ae.in.DEBUG){const n=e.map(pa);bi.debug(`Firestore (${Mr}): ${i}`,...n)}}function wi(i,...e){if(bi.logLevel<=ae.in.ERROR){const n=e.map(pa);bi.error(`Firestore (${Mr}): ${i}`,...n)}}function zs(i,...e){if(bi.logLevel<=ae.in.WARN){const n=e.map(pa);bi.warn(`Firestore (${Mr}): ${i}`,...n)}}function pa(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function xt(i="Unexpected state"){const e=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: `+i;throw wi(e),new Error(e)}function Ht(i,e){i||xt()}function wt(i,e){return i}const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends se.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Or{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fr.UNAUTHENTICATED))}shutdown(){}}class La{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ns{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const l=F=>this.i!==u?(u=this.i,n(F)):Promise.resolve();let f=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ti,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const F=f;e.enqueueRetryable((0,ne.Z)(function*(){yield F.promise,yield l(o.currentUser)}))},N=F=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(F=>N(F)),setTimeout(()=>{if(!this.auth){const F=this.t.getImmediate({optional:!0});F?N(F):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ti)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ht("string"==typeof o.accessToken),new Or(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new fr(e)}}class gu{constructor(e,n,o){this.h=e,this.l=n,this.m=o,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Qa{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new gu(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ga{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class es{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const o=l=>{null!=l.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const u=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>u(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?u(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ht("string"==typeof n.token),this.T=n.token,new ga(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Pi(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class mu{static A(){const n=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=Pi(40);for(let l=0;l<u.length;++l)o.length<20&&u[l]<n&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[l]%62))}return o}}function St(i,e){return i<e?-1:i>e?1:0}function qo(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class $r{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new rt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new $r(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new $r(0,0))}static max(){return new Nt(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ma{constructor(e,n,o){void 0===n?n=0:n>e.length&&xt(),void 0===o?o=e.length-n:o>e.length-n&&xt(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ma.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const l=e.get(u),f=n.get(u);if(l<f)return-1;if(l>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ar extends ma{construct(e,n,o){return new ar(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new rt(xe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new ar(n)}static emptyPath(){return new ar([])}}const on=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends ma{construct(e,n,o){return new oi(e,n,o)}static isValidIdentifier(e){return on.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oi(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const l=()=>{if(0===o.length)throw new rt(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new rt(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new rt(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=N,u+=2}else"`"===D?(f=!f,u++):"."!==D||f?(o+=D,u++):(l(),u++)}if(l(),f)throw new rt(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(n)}static emptyPath(){return new oi([])}}class _t{constructor(e){this.path=e}static fromPath(e){return new _t(ar.fromString(e))}static fromName(e){return new _t(ar.fromString(e).popFirst(5))}static empty(){return new _t(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ar.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new ar(e.slice()))}}function uc(i){return new Ws(i.readTime,i.key,-1)}class Ws{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ws(Nt.min(),_t.empty(),-1)}static max(){return new Ws(Nt.max(),_t.empty(),-1)}}function nt(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=_t.comparator(i.documentKey,e.documentKey),0!==n?n:St(i.largestBatchId,e.largestBatchId))}const Kn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function io(i){return Si.apply(this,arguments)}function Si(){return Si=(0,ne.Z)(function*(i){if(i.code!==xe.FAILED_PRECONDITION||i.message!==Kn)throw i;at("LocalStore","Unexpectedly lost primary lease")}),Si.apply(this,arguments)}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((o,u)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,u)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,o)=>{n(e)})}static reject(e){return new Se((n,o)=>{o(e)})}static waitFor(e){return new Se((n,o)=>{let u=0,l=0,f=!1;e.forEach(D=>{++u,D.next(()=>{++l,f&&l===u&&n()},N=>o(N))}),f=!0,l===u&&n()})}static or(e){let n=Se.resolve(!1);for(const o of e)n=n.next(u=>u?Se.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,l)=>{o.push(n.call(this,u,l))}),this.waitFor(o)}static mapArray(e,n){return new Se((o,u)=>{const l=e.length,f=new Array(l);let D=0;for(let N=0;N<l;N++){const F=N;n(e[F]).next(Z=>{f[F]=Z,++D,D===l&&o(f)},Z=>u(Z))}})}static doWhile(e,n){return new Se((o,u)=>{const l=()=>{!0===e()?n().next(()=>{l()},u):o()};l()})}}function Yo(i){return"IndexedDbTransactionError"===i.name}let Xr=(()=>{class i{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.ot(u),this.ut=u=>o.writeSequenceNumber(u))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return i.ct=-1,i})();function yu(i){return null==i}function v(i){return 0===i&&1/i==-1/0}function cc(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function _a(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function zu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Pr{constructor(e,n){this.comparator=e,this.root=n||Ai.EMPTY}insert(e,n){return new Pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&u&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,n,o,u,l){this.key=e,this.value=n,this.color=o??Ai.RED,this.left=u??Ai.EMPTY,this.right=l??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,l){return new Ai(e??this.key,n??this.value,o??this.color,u??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const l=o(e,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===l?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ai.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xt();const e=this.left.check();if(e!==this.right.check())throw xt();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw xt()}get value(){throw xt()}get color(){throw xt()}get left(){throw xt()}get right(){throw xt()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ai(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jc(this.data.getIterator())}getIteratorFrom(e){return new jc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof xr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(0!==this.comparator(u,l))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xr(this.comparator);return n.data=e,n}}class jc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ns{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new ns([])}unionWith(e){let n=new xr(oi.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qo(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xd("Invalid base64 string: "+u):u}}(e);return new rs(n)}static fromUint8Array(e){const n=function(o){let u="";for(let l=0;l<o.length;++l)u+=String.fromCharCode(o[l]);return u}(e);return new rs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const Nd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(i){if(Ht(!!i),"string"==typeof i){let e=0;const n=Nd.exec(i);if(Ht(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ci(i.seconds),nanos:ci(i.nanos)}}function ci(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function oo(i){return"string"==typeof i?rs.fromBase64String(i):rs.fromUint8Array(i)}function Iu(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Eu(i){const e=i.mapValue.fields.__previous_value__;return Iu(e)?Eu(e):e}function wa(i){const e=so(i.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}class lc{constructor(e,n,o,u,l,f,D,N,F){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=N,this.useFetchStreams=F}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}const ea={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Iu(i)?4:To(i)?9007199254740991:10:xt()}function qi(i,e){if(i===e)return!0;const n=Ea(i);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return wa(i).isEqual(wa(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const l=so(o.timestampValue),f=so(u.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,oo(i.bytesValue).isEqual(oo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ci(o.geoPointValue.latitude)===ci(u.geoPointValue.latitude)&&ci(o.geoPointValue.longitude)===ci(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ci(o.integerValue)===ci(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const l=ci(o.doubleValue),f=ci(u.doubleValue);return l===f?v(l)===v(f):isNaN(l)&&isNaN(f)}return!1}(i,e);case 9:return qo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:return function(o,u){const l=o.mapValue.fields||{},f=u.mapValue.fields||{};if(cc(l)!==cc(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!qi(l[D],f[D])))return!1;return!0}(i,e);default:return xt()}var u}function Ua(i,e){return void 0!==(i.values||[]).find(n=>qi(n,e))}function qs(i,e){if(i===e)return 0;const n=Ea(i),o=Ea(e);if(n!==o)return St(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return St(i.booleanValue,e.booleanValue);case 2:return function(u,l){const f=ci(u.integerValue||u.doubleValue),D=ci(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(i,e);case 3:return Du(i.timestampValue,e.timestampValue);case 4:return Du(wa(i),wa(e));case 5:return St(i.stringValue,e.stringValue);case 6:return function(u,l){const f=oo(u),D=oo(l);return f.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,l){const f=u.split("/"),D=l.split("/");for(let N=0;N<f.length&&N<D.length;N++){const F=St(f[N],D[N]);if(0!==F)return F}return St(f.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,l){const f=St(ci(u.latitude),ci(l.latitude));return 0!==f?f:St(ci(u.longitude),ci(l.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,l){const f=u.values||[],D=l.values||[];for(let N=0;N<f.length&&N<D.length;++N){const F=qs(f[N],D[N]);if(F)return F}return St(f.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,l){if(u===ea.mapValue&&l===ea.mapValue)return 0;if(u===ea.mapValue)return 1;if(l===ea.mapValue)return-1;const f=u.fields||{},D=Object.keys(f),N=l.fields||{},F=Object.keys(N);D.sort(),F.sort();for(let Z=0;Z<D.length&&Z<F.length;++Z){const re=St(D[Z],F[Z]);if(0!==re)return re;const Te=qs(f[D[Z]],N[F[Z]]);if(0!==Te)return Te}return St(D.length,F.length)}(i.mapValue,e.mapValue);default:throw xt()}}function Du(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return St(i,e);const n=so(i),o=so(e),u=St(n.seconds,o.seconds);return 0!==u?u:St(n.nanos,o.nanos)}function Da(i){return ta(i)}function ta(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=so(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?oo(i.bytesValue).toBase64():"referenceValue"in i?_t.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",l=!0;for(const f of o.values||[])l?l=!1:u+=",",u+=ta(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let l="{",f=!0;for(const D of u)f?f=!1:l+=",",l+=`${D}:${ta(o.fields[D])}`;return l+"}"}(i.mapValue):xt();var e}function Ca(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hc(i){return!!i&&"integerValue"in i}function tu(i){return!!i&&"arrayValue"in i}function Ml(i){return!!i&&"nullValue"in i}function Gc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wu(i){return!!i&&"mapValue"in i}function ao(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _a(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=ao(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ao(i.arrayValue.values[n]);return e}return Object.assign({},i)}function To(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(n)}setAll(e){let n=oi.emptyPath(),o={},u=[];e.forEach((f,D)=>{if(!n.isImmediateParentOf(D)){const N=this.getFieldsMap(n);this.applyChanges(N,o,u),o={},u=[],n=D.popLast()}f?o[D.lastSegment()]=ao(f):u.push(D.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,o,u)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Wu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){_a(n,(u,l)=>e[u]=l);for(const u of o)delete e[u]}clone(){return new Ii(ao(this.value))}}function Rs(i){const e=[];return _a(i.fields,(n,o)=>{const u=new oi([n]);if(Wu(o)){const l=Rs(o.mapValue).fields;if(0===l.length)e.push(u);else for(const f of l)e.push(u.child(f))}else e.push(u)}),new ns(e)}class li{constructor(e,n,o,u,l,f,D){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new li(e,0,Nt.min(),Nt.min(),Nt.min(),Ii.empty(),0)}static newFoundDocument(e,n,o,u){return new li(e,1,n,Nt.min(),o,u,0)}static newNoDocument(e,n){return new li(e,2,n,Nt.min(),Nt.min(),Ii.empty(),0)}static newUnknownDocument(e,n){return new li(e,3,n,Nt.min(),Nt.min(),Ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof li&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ta{constructor(e,n){this.position=e,this.inclusive=n}}function bu(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const l=e[u],f=i.position[u];if(o=l.field.isKeyField()?_t.comparator(_t.fromName(f.referenceValue),n.key):qs(f,n.data.field(l.field)),"desc"===l.dir&&(o*=-1),0!==o)break}return o}function Nl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function I(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class A{}class O extends A{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,o):new uo(e,n,o):"array-contains"===n?new Tu(e,o):"in"===n?new Vo(e,o):"not-in"===n?new ei(e,o):"array-contains-any"===n?new dc(e,o):new O(e,n,o)}static createKeyFieldInFilter(e,n,o){return"in"===n?new vs(e,o):new zc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(qs(n,this.value)):null!==n&&Ea(this.value)===Ea(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Y extends A{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Y(e,n)}matches(e){return ce(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ce(i){return"and"===i.op}function Fe(i){return function Tt(i){for(const e of i.filters)if(e instanceof Y)return!1;return!0}(i)&&ce(i)}function Et(i){if(i instanceof O)return i.field.canonicalString()+i.op.toString()+Da(i.value);if(Fe(i))return i.filters.map(e=>Et(e)).join(",");{const e=i.filters.map(n=>Et(n)).join(",");return`${i.op}(${e})`}}function Gt(i,e){return i instanceof O?(n=i,(o=e)instanceof O&&n.op===o.op&&n.field.isEqual(o.field)&&qi(n.value,o.value)):i instanceof Y?function(n,o){return o instanceof Y&&n.op===o.op&&n.filters.length===o.filters.length&&n.filters.reduce((u,l,f)=>u&&Gt(l,o.filters[f]),!0)}(i,e):void xt();var n,o}function wn(i){return i instanceof O?`${(e=i).field.canonicalString()} ${e.op} ${Da(e.value)}`:i instanceof Y?function(e){return e.op.toString()+" {"+e.getFilters().map(wn).join(" ,")+"}"}(i):"Filter";var e}class uo extends O{constructor(e,n,o){super(e,n,o),this.key=_t.fromName(o.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class vs extends O{constructor(e,n){super(e,"in",n),this.keys=ja(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zc extends O{constructor(e,n){super(e,"not-in",n),this.keys=ja(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ja(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>_t.fromName(o.referenceValue))}class Tu extends O{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tu(n)&&Ua(n.arrayValue,this.value)}}class Vo extends O{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ua(this.value.arrayValue,n)}}class ei extends O{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ua(this.value.arrayValue,n)}}class dc extends O{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Ua(this.value.arrayValue,o))}}class hc{constructor(e,n=null,o=[],u=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function fc(i,e=null,n=[],o=[],u=null,l=null,f=null){return new hc(i,e,n,o,u,l,f)}function cs(i){const e=wt(i);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Et(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),yu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Da(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Da(o)).join(",")),e.dt=n}return e.dt}function Sa(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!I(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Gt(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nl(i.startAt,e.startAt)&&Nl(i.endAt,e.endAt)}function Wc(i){return _t.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Su{constructor(e,n=null,o=[],u=[],l=null,f="F",D=null,N=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=N,this.wt=null,this._t=null}}function qc(i){return new Su(i)}function So(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function gc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function na(i){for(const e of i.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function Pd(i){return null!==i.collectionGroup}function Ku(i){const e=wt(i);if(null===e.wt){e.wt=[];const n=na(e),o=gc(e);if(null!==n&&null===o)n.isKeyField()||e.wt.push(new nu(n)),e.wt.push(new nu(oi.keyField(),"asc"));else{let u=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(u=!0);if(!u){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nu(oi.keyField(),l))}}}return e.wt}function Os(i){const e=wt(i);if(!e._t)if("F"===e.limitType)e._t=fc(e.path,e.collectionGroup,Ku(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const l of Ku(e))n.push(new nu(l.field,"desc"===l.dir?"asc":"desc"));const o=e.endAt?new Ta(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ta(e.startAt.position,e.startAt.inclusive):null;e._t=fc(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e._t}function kd(i,e){e.getFirstInequalityField(),na(i);const n=i.filters.concat([e]);return new Su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Rl(i,e,n){return new Su(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Kc(i,e){return Sa(Os(i),Os(e))&&i.limitType===e.limitType}function Fh(i){return`${cs(Os(i))}|lt:${i.limitType}`}function Fd(i){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(o=>wn(o)).join(", ")}]`),yu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Da(o)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Da(o)).join(",")),`Target(${n})`}(Os(i))}; limitType=${i.limitType})`}function Zu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):_t.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of Ku(n))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,l,f){const D=bu(u,l,f);return u.inclusive?D<=0:D<0}(n.startAt,Ku(n),o)||n.endAt&&!function(u,l,f){const D=bu(u,l,f);return u.inclusive?D>=0:D>0}(n.endAt,Ku(n),o)));var n,o}function Ip(i){return(e,n)=>{let o=!1;for(const u of Ku(i)){const l=Ld(u,e,n);if(0!==l)return l;o=o||u.field.isKeyField()}return 0}}function Ld(i,e,n){const o=i.field.isKeyField()?_t.comparator(e.key,n.key):function(u,l,f){const D=l.data.field(u),N=f.data.field(u);return null!==D&&null!==N?qs(D,N):xt()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return xt()}}class Au{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,l]of o)if(this.equalsFn(u,e))return l}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<u.length;l++)if(this.equalsFn(u[l][0],e))return void(u[l]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,o)=>{for(const[u,l]of o)e(u,l)})}isEmpty(){return zu(this.inner)}size(){return this.innerSize}}const Vd=new Pr(_t.comparator);function Uo(){return Vd}const Lh=new Pr(_t.comparator);function mc(...i){let e=Lh;for(const n of i)e=e.insert(n.key,n);return e}function Zc(i){let e=Lh;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function $a(){return Pl()}function Ep(){return Pl()}function Pl(){return new Au(i=>i.toString(),(i,e)=>i.isEqual(e))}const yc=new Pr(_t.comparator),kl=new xr(_t.comparator);function Hn(...i){let e=kl;for(const n of i)e=e.add(n);return e}const gv=new xr(St);function Dp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:v(e)?"-0":e}}function cm(i){return{integerValue:""+i}}function Cp(i,e){return function b(i){return"number"==typeof i&&Number.isInteger(i)&&!v(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?cm(e):Dp(i,e)}class Bd{constructor(){this._=void 0}}function lm(i,e,n){return i instanceof Yc?function(o,u){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Iu(u)&&(u=Eu(u)),u&&(l.fields.__previous_value__=u),{mapValue:l}}(n,e):i instanceof Yu?dm(i,e):i instanceof Qu?hm(i,e):function(o,u){const l=Vh(o,u),f=bp(l)+bp(o.gt);return Hc(l)&&Hc(o.gt)?cm(f):Dp(o.serializer,f)}(i,e)}function jd(i,e,n){return i instanceof Yu?dm(i,e):i instanceof Qu?hm(i,e):n}function Vh(i,e){return i instanceof Qc?Hc(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Yc extends Bd{}class Yu extends Bd{constructor(e){super(),this.elements=e}}function dm(i,e){const n=$d(e);for(const o of i.elements)n.some(u=>qi(u,o))||n.push(o);return{arrayValue:{values:n}}}class Qu extends Bd{constructor(e){super(),this.elements=e}}function hm(i,e){let n=$d(e);for(const o of i.elements)n=n.filter(u=>!qi(u,o));return{arrayValue:{values:n}}}class Qc extends Bd{constructor(e,n){super(),this.serializer=e,this.gt=n}}function bp(i){return ci(i.integerValue||i.doubleValue)}function $d(i){return tu(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Uh{constructor(e,n){this.version=e,this.transformResults=n}}class Ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class jh{}function fm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new wc(i.key,Ui.none()):new vc(i.key,i.data,Ui.none());{const n=i.data,o=Ii.empty();let u=new xr(oi.comparator);for(let l of e.fields)if(!u.has(l)){let f=n.field(l);null===f&&l.length>1&&(l=l.popLast(),f=n.field(l)),null===f?o.delete(l):o.set(l,f),u=u.add(l)}return new Ha(i.key,o,new ns(u.toArray()),Ui.none())}}function pm(i,e,n){i instanceof vc?function(o,u,l){const f=o.value.clone(),D=_c(o.fieldTransforms,u,l.transformResults);f.setAll(D),u.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(i,e,n):i instanceof Ha?function(o,u,l){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(l.version);const f=_c(o.fieldTransforms,u,l.transformResults),D=u.data;D.setAll($h(o)),D.setAll(f),u.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Fl(i,e,n,o){return i instanceof vc?function(u,l,f,D){if(!Bh(u.precondition,l))return f;const N=u.value.clone(),F=Hh(u.fieldTransforms,D,l);return N.setAll(F),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),null}(i,e,n,o):i instanceof Ha?function(u,l,f,D){if(!Bh(u.precondition,l))return f;const N=Hh(u.fieldTransforms,D,l),F=l.data;return F.setAll($h(u)),F.setAll(N),l.convertToFoundDocument(l.version,F).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Z=>Z.field))}(i,e,n,o):(f=n,Bh(i.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Gd(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),l=Vh(o.transform,u||null);null!=l&&(null===n&&(n=Ii.empty()),n.set(o.field,l))}return n||null}function Ll(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&qo(n,o,(u,l)=>function mv(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Yu&&o instanceof Yu||n instanceof Qu&&o instanceof Qu?qo(n.elements,o.elements,qi):n instanceof Qc&&o instanceof Qc?qi(n.gt,o.gt):n instanceof Yc&&o instanceof Yc);var n,o}(u,l))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class vc extends jh{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ha extends jh{constructor(e,n,o,u,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $h(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function _c(i,e,n){const o=new Map;Ht(i.length===n.length);for(let u=0;u<n.length;u++){const l=i[u],f=l.transform,D=e.data.field(l.field);o.set(l.field,jd(f,D,n[u]))}return o}function Hh(i,e,n){const o=new Map;for(const u of i){const l=u.transform,f=n.data.field(u.field);o.set(u.field,lm(l,f,e))}return o}class wc extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jc extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xc{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const l=this.mutations[u];l.key.isEqual(e.key)&&pm(l,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Fl(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Fl(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Ep();return this.mutations.forEach(u=>{const l=e.get(u.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=n.has(u.key)?null:D;const N=fm(f,D);null!==N&&o.set(u.key,N),f.isValidDocument()||f.convertToNoDocument(Nt.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Hn())}isEqual(e){return this.batchId===e.batchId&&qo(this.mutations,e.mutations,(n,o)=>Ll(n,o))&&qo(this.baseMutations,e.baseMutations,(n,o)=>Ll(n,o))}}class el{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Ht(e.mutations.length===o.length);let u=yc;const l=e.mutations;for(let f=0;f<l.length;f++)u=u.insert(l[f].key,o[f].version);return new el(e,n,o,u)}}class Gh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class w{constructor(e,n){this.count=e,this.unchangedNames=n}}var h,p;function U(i){if(void 0===i)return wi("GRPC error has no .code"),xe.UNKNOWN;switch(i){case h.OK:return xe.OK;case h.CANCELLED:return xe.CANCELLED;case h.UNKNOWN:return xe.UNKNOWN;case h.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case h.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case h.INTERNAL:return xe.INTERNAL;case h.UNAVAILABLE:return xe.UNAVAILABLE;case h.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case h.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case h.NOT_FOUND:return xe.NOT_FOUND;case h.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case h.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case h.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case h.ABORTED:return xe.ABORTED;case h.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case h.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case h.DATA_LOSS:return xe.DATA_LOSS;default:return xt()}}(p=h||(h={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class J{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ye}static getOrCreateInstance(){return null===ye&&(ye=new J),ye}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ye=null;const yt=new Gi([4294967295,4294967295],0);function vt(i){const e=function Le(){return new TextEncoder}().encode(i),n=new _i;return n.update(e),new Uint8Array(n.digest())}function Zt(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gi([n,o],0),new Gi([u,l],0)]}class Zn{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new is(`Invalid padding: ${n}`);if(o<0)throw new is(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new is(`Invalid hash count: ${o}`);if(0===e.length&&0!==n)throw new is(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Gi.fromNumber(this.It)}Et(e,n,o){let u=e.add(n.multiply(Gi.fromNumber(o)));return 1===u.compare(yt)&&(u=new Gi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=vt(e),[o,u]=Zt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);if(!this.At(f))return!1}return!0}static create(e,n,o){const u=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Zn(l,u,n);return o.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const n=vt(e),[o,u]=Zt(n);for(let l=0;l<this.hashCount;l++){const f=this.Et(o,u,l);this.Rt(f)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ti{constructor(e,n,o,u,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new ti(Nt.min(),u,new Pr(St),Uo(),Hn())}}class ra{constructor(e,n,o,u,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new ra(o,n,Hn(),Hn(),Hn())}}class Ic{constructor(e,n,o,u){this.Pt=e,this.removedTargetIds=n,this.key=o,this.bt=u}}class tl{constructor(e,n){this.targetId=e,this.Vt=n}}class zd{constructor(e,n,o=rs.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Vl{constructor(){this.St=0,this.Dt=qd(),this.Ct=rs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Hn(),n=Hn(),o=Hn();return this.Dt.forEach((u,l)=>{switch(l){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:xt()}}),new ra(this.Ct,this.xt,e,n,o)}Ft(){this.Nt=!1,this.Dt=qd()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Wd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Uo(),this.zt=Ul(),this.Wt=new Pr(St)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const o=this.Zt(n);switch(e.state){case 0:this.te(n)&&o.$t(e.resumeToken);break;case 1:o.Ut(),o.kt||o.Ft(),o.$t(e.resumeToken);break;case 2:o.Ut(),o.kt||this.removeTarget(n);break;case 3:this.te(n)&&(o.Kt(),o.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),o.$t(e.resumeToken));break;default:xt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((o,u)=>{this.te(u)&&n(u)})}ne(e){var n;const o=e.targetId,u=e.Vt.count,l=this.se(o);if(l){const f=l.target;if(Wc(f))if(0===u){const D=new _t(f.path);this.Yt(o,D,li.newNoDocument(D,Nt.min()))}else Ht(1===u);else{const D=this.ie(o);if(D!==u){const N=this.re(e,D);0!==N&&(this.ee(o),this.Wt=this.Wt.insert(o,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=J.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(F,Z,re){var Te,je,gt,Mt,Rt,Gn;const _r={localCacheCount:Z,existenceFilterCount:re.count},er=re.unchangedNames;return er&&(_r.bloomFilter={applied:0===F,hashCount:null!==(Te=er?.hashCount)&&void 0!==Te?Te:0,bitmapLength:null!==(Mt=null===(gt=null===(je=er?.bits)||void 0===je?void 0:je.bitmap)||void 0===gt?void 0:gt.length)&&void 0!==Mt?Mt:0,padding:null!==(Gn=null===(Rt=er?.bits)||void 0===Rt?void 0:Rt.padding)&&void 0!==Gn?Gn:0}),_r}(N,D,e.Vt))}}}}re(e,n){const{unchangedNames:o,count:u}=e.Vt;if(!o||!o.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=o;let N,F;try{N=oo(l).toUint8Array()}catch(Z){if(Z instanceof xd)return zs("Decoding the base64 bloom filter in existence filter failed ("+Z.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Z}try{F=new Zn(N,f,D)}catch(Z){return zs(Z instanceof is?"BloomFilter error: ":"Applying bloom filter failed: ",Z),1}return 0===F.It?1:u!==n-this.oe(e.targetId,F)?2:0}oe(e,n){const o=this.Gt.getRemoteKeysForTarget(e);let u=0;return o.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;n.vt(D)||(this.Yt(e,l,null),u++)}),u}ce(e){const n=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&Wc(D.target)){const N=new _t(D.target.path);null!==this.jt.get(N)||this.ae(f,N)||this.Yt(f,N,li.newNoDocument(N,e))}l.Mt&&(n.set(f,l.Ot()),l.Ft())}});let o=Hn();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(N=>{const F=this.se(N);return!F||"TargetPurposeLimboResolution"===F.purpose||(D=!1,!1)}),D&&(o=o.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const u=new ti(e,n,this.Wt,this.jt,o);return this.jt=Uo(),this.zt=Ul(),this.Wt=new Pr(St),u}Jt(e,n){if(!this.te(e))return;const o=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,o),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,o){if(!this.te(e))return;const u=this.Zt(e);this.ae(e,n)?u.Bt(n,1):u.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),o&&(this.jt=this.jt.insert(n,o))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Vl,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xr(St),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||at("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Vl),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Ul(){return new Pr(_t.comparator)}function qd(){return new Pr(_t.comparator)}const Bl={asc:"ASCENDING",desc:"DESCENDING"},zh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tp={and:"AND",or:"OR"};class nl{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rl(i,e){return i.useProto3Json||yu(e)?e:{value:e}}function jl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $l(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function yv(i,e){return jl(i,e.toTimestamp())}function ls(i){return Ht(!!i),Nt.fromTimestamp(function(e){const n=so(e);return new $r(n.seconds,n.nanos)}(i))}function Wh(i,e){return(n=i,new ar(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Sp(i){const e=ar.fromString(i);return Ht(Jd(e)),e}function Hl(i,e){return Wh(i.databaseId,e.path)}function Bo(i,e){const n=Sp(e);if(n.get(1)!==i.databaseId.projectId)throw new rt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new rt(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _t(Kd(n))}function Gl(i,e){return Wh(i.databaseId,e)}function il(i){return new ar(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kd(i){return Ht(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function mm(i,e,n){return{name:Hl(i,e),fields:n.value.mapValue.fields}}function Yd(i,e){return{documents:[Gl(i,e.path)]}}function Qd(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Gl(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gl(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(N){if(0!==N.length)return Im(Y.create(N,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const l=function(N){if(0!==N.length)return N.map(F=>{return{field:Ju((Z=F).field),direction:xp(Z.dir)};var Z})}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const f=rl(i,e.limit);var D,N;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(n.structuredQuery.endAt={before:!(N=e.endAt).inclusive,values:N.position}),n}function qh(i){let e=function Ap(i){const e=Sp(i);return 4===e.length?ar.emptyPath():Kd(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Ht(1===o);const Z=n.from[0];Z.allDescendants?u=Z.collectionId:e=e.child(Z.collectionId)}let l=[];n.where&&(l=function(Z){const re=_m(Z);return re instanceof Y&&Fe(re)?re.getFilters():[re]}(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(Z=>{return new nu(ol((re=Z).field),function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(re.direction));var re}));let D=null;n.limit&&(D=function(Z){let re;return re="object"==typeof Z?Z.value:Z,yu(re)?null:re}(n.limit));let N=null;var Z;n.startAt&&(N=new Ta((Z=n.startAt).values||[],!!Z.before));let F=null;return n.endAt&&(F=function(Z){return new Ta(Z.values||[],!Z.before)}(n.endAt)),function Od(i,e,n,o,u,l,f,D){return new Su(i,e,n,o,u,l,f,D)}(e,u,f,l,D,"F",N,F)}function _m(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ol(e.unaryFilter.field);return O.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=ol(e.unaryFilter.field);return O.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ol(e.unaryFilter.field);return O.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ol(e.unaryFilter.field);return O.create(l,"!=",{nullValue:"NULL_VALUE"});default:return xt()}}(i):void 0!==i.fieldFilter?O.create(ol((e=i).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==i.compositeFilter?function(e){return Y.create(e.compositeFilter.filters.map(n=>_m(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return xt()}}(e.compositeFilter.op))}(i):xt();var e}function xp(i){return Bl[i]}function wm(i){return zh[i]}function sl(i){return Tp[i]}function Ju(i){return{fieldPath:i.canonicalString()}}function ol(i){return oi.fromServerFormat(i.fieldPath)}function Im(i){return i instanceof O?function(e){if("=="===e.op){if(Gc(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NAN"}};if(Ml(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gc(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NAN"}};if(Ml(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(e.field),op:wm(e.op),value:e.value}}}(i):i instanceof Y?function(e){const n=e.getFilters().map(o=>Im(o));return 1===n.length?n[0]:{compositeFilter:{op:sl(e.op),filters:n}}}(i):xt()}function K0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jd(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Xu{constructor(e,n,o,u,l=Nt.min(),f=Nt.min(),D=rs.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=N}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Np{constructor(e){this.fe=e}}function ql(i){const e=qh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Rl(e,e.limit,"L"):e}class Dc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ci(e.integerValue));else if("doubleValue"in e){const o=ci(e.doubleValue);isNaN(o)?this.ye(n,13):(this.ye(n,15),v(o)?n.pe(0):n.pe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ye(n,20),"string"==typeof o?n.Ie(o):(n.Ie(`${o.seconds||""}`),n.pe(o.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(oo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ye(n,45),n.pe(o.latitude||0),n.pe(o.longitude||0)}else"mapValue"in e?To(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):xt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const o=e.fields||{};this.ye(n,55);for(const u of Object.keys(o))this.Te(u,n),this.me(o[u],n)}Pe(e,n){const o=e.values||[];this.ye(n,50);for(const u of o)this.me(u,n)}ve(e,n){this.ye(n,37),_t.fromName(e).path.forEach(o=>{this.ye(n,60),this.be(o,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Dc.Ve=new Dc;class Cv{constructor(){this.rn=new Fp}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(Ws.min())}updateCollectionGroup(e,n,o){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class Fp{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new xr(ar.comparator),l=!u.has(o);return this.index[n]=u.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new xr(ar.comparator)).toArray()}}new Uint8Array(0);class jo{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new jo(e,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class iu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new iu(0)}static Mn(){return new iu(-1)}}class Mv{constructor(){this.changes=new Au(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,li.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Se.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jl{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,n))).next(u=>(null!==o&&Fl(o.mutation,u,ns.empty(),$r.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Hn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Hn()){const u=$a();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(l=>{let f=mc();return l.forEach((D,N)=>{f=f.insert(D,N.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=$a();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Hn()))}populateOverlays(e,n,o){const u=[];return o.forEach(l=>{n.has(l)||u.push(l)}),this.documentOverlayCache.getOverlays(e,u).next(l=>{l.forEach((f,D)=>{n.set(f,D)})})}computeViews(e,n,o,u){let l=Uo();const f=Pl(),D=Pl();return n.forEach((N,F)=>{const Z=o.get(F.key);u.has(F.key)&&(void 0===Z||Z.mutation instanceof Ha)?l=l.insert(F.key,F):void 0!==Z?(f.set(F.key,Z.mutation.getFieldMask()),Fl(Z.mutation,F,Z.mutation.getFieldMask(),$r.now())):f.set(F.key,ns.empty())}),this.recalculateAndSaveOverlays(e,l).next(N=>(N.forEach((F,Z)=>f.set(F,Z)),n.forEach((F,Z)=>{var re;return D.set(F,new Jl(Z,null!==(re=f.get(F))&&void 0!==re?re:null))}),D))}recalculateAndSaveOverlays(e,n){const o=Pl();let u=new Pr((f,D)=>f-D),l=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const D of f)D.keys().forEach(N=>{const F=n.get(N);if(null===F)return;let Z=o.get(N)||ns.empty();Z=D.applyToLocalView(F,Z),o.set(N,Z);const re=(u.get(D.batchId)||Hn()).add(N);u=u.insert(D.batchId,re)})}).next(()=>{const f=[],D=u.getReverseIterator();for(;D.hasNext();){const N=D.getNext(),F=N.key,Z=N.value,re=Ep();Z.forEach(Te=>{if(!l.has(Te)){const je=fm(n.get(Te),o.get(Te));null!==je&&re.set(Te,je),l=l.add(Te)}}),f.push(this.documentOverlayCache.saveOverlays(e,F,re))}return Se.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return _t.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):Pd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(l=>{const f=u-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-l.size):Se.resolve($a());let D=-1,N=l;return f.next(F=>Se.forEach(F,(Z,re)=>(D<re.largestBatchId&&(D=re.largestBatchId),l.get(Z)?Se.resolve():this.remoteDocumentCache.getEntry(e,Z).next(Te=>{N=N.insert(Z,Te)}))).next(()=>this.populateOverlays(e,F,l)).next(()=>this.computeViews(e,N,F,Hn())).next(Z=>({batchId:D,changes:Zc(Z)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(o=>{let u=mc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let l=mc();return this.indexManager.getCollectionParents(e,u).next(f=>Se.forEach(f,D=>{const N=(F=n,Z=D.child(u),new Su(Z,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt));var F,Z;return this.getDocumentsMatchingCollectionQuery(e,N,o).next(F=>{F.forEach((Z,re)=>{l=l.insert(Z,re)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(l=>(u=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u))).next(l=>{u.forEach((D,N)=>{const F=N.getKey();null===l.get(F)&&(l=l.insert(F,li.newInvalidDocument(F)))});let f=mc();return l.forEach((D,N)=>{const F=u.get(D);void 0!==F&&Fl(F.mutation,N,ns.empty(),$r.now()),Zu(n,N)&&(f=f.insert(D,N))}),f})}}class Rv{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var o;return this.cs.set(n.id,{id:(o=n).id,version:o.version,createTime:ls(o.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(o=n).name,query:ql(o.bundledQuery),readTime:ls(o.readTime)}),Se.resolve();var o}}class $p{constructor(){this.overlays=new Pr(_t.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const o=$a();return Se.forEach(n,u=>this.getOverlay(e,u).next(l=>{null!==l&&o.set(u,l)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,l)=>{this.we(e,n,l)}),Se.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.ls.get(o);return void 0!==u&&(u.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(o)),Se.resolve()}getOverlaysForCollection(e,n,o){const u=$a(),l=n.length+1,f=new _t(n.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const N=D.getNext().value,F=N.getKey();if(!n.isPrefixOf(F.path))break;F.path.length===l&&N.largestBatchId>o&&u.set(N.getKey(),N)}return Se.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let l=new Pr((F,Z)=>F-Z);const f=this.overlays.getIterator();for(;f.hasNext();){const F=f.getNext().value;if(F.getKey().getCollectionGroup()===n&&F.largestBatchId>o){let Z=l.get(F.largestBatchId);null===Z&&(Z=$a(),l=l.insert(F.largestBatchId,Z)),Z.set(F.getKey(),F)}}const D=$a(),N=l.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((F,Z)=>D.set(F,Z)),!(D.size()>=u)););return Se.resolve(D)}we(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.ls.get(u.largestBatchId).delete(o.key);this.ls.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Gh(n,o));let l=this.ls.get(n);void 0===l&&(l=Hn(),this.ls.set(n,l)),this.ls.set(n,l.add(o.key))}}class hf{constructor(){this.fs=new xr(Ks.ds),this.ws=new xr(Ks._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const o=new Ks(e,n);this.fs=this.fs.add(o),this.ws=this.ws.add(o)}gs(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.ys(new Ks(e,n))}ps(e,n){e.forEach(o=>this.removeReference(o,n))}Is(e){const n=new _t(new ar([])),o=new Ks(n,e),u=new Ks(n,e+1),l=[];return this.ws.forEachInRange([o,u],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new _t(new ar([])),o=new Ks(n,e),u=new Ks(n,e+1);let l=Hn();return this.ws.forEachInRange([o,u],f=>{l=l.add(f.key)}),l}containsKey(e){const n=new Ks(e,0),o=this.fs.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ks{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return _t.comparator(e.key,n.key)||St(e.As,n.As)}static _s(e,n){return St(e.As,n.As)||_t.comparator(e.key,n.key)}}class Ov{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xr(Ks.ds)}checkEmpty(e){return Se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const l=this.vs;this.vs++;const f=new Xc(l,n,o,u);this.mutationQueue.push(f);for(const D of u)this.Rs=this.Rs.add(new Ks(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Se.resolve(f)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.bs(n+1),l=u<0?0:u;return Se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ks(n,0),u=new Ks(n,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([o,u],f=>{const D=this.Ps(f.As);l.push(D)}),Se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new xr(St);return n.forEach(u=>{const l=new Ks(u,0),f=new Ks(u,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{o=o.add(D.As)})}),Se.resolve(this.Vs(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let l=o;_t.isDocumentKey(l)||(l=l.child(""));const f=new Ks(new _t(l),0);let D=new xr(St);return this.Rs.forEachWhile(N=>{const F=N.key.path;return!!o.isPrefixOf(F)&&(F.length===u&&(D=D.add(N.As)),!0)},f),Se.resolve(this.Vs(D))}Vs(e){const n=[];return e.forEach(o=>{const u=this.Ps(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Ht(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let o=this.Rs;return Se.forEach(n.mutations,u=>{const l=new Ks(u.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Rs=o})}Cn(e){}containsKey(e,n){const o=new Ks(n,0),u=this.Rs.firstAfterOrEqual(o);return Se.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Pv{constructor(e){this.Ds=e,this.docs=new Pr(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),l=u?u.size:0,f=this.Ds(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Se.resolve(o?o.document.mutableCopy():li.newInvalidDocument(n))}getEntries(e,n){let o=Uo();return n.forEach(u=>{const l=this.docs.get(u);o=o.insert(u,l?l.document.mutableCopy():li.newInvalidDocument(u))}),Se.resolve(o)}getDocumentsMatchingQuery(e,n,o,u){let l=Uo();const f=n.path,D=new _t(f.child("")),N=this.docs.getIteratorFrom(D);for(;N.hasNext();){const{key:F,value:{document:Z}}=N.getNext();if(!f.isPrefixOf(F.path))break;F.path.length>f.length+1||nt(uc(Z),o)<=0||(u.has(Z.key)||Zu(n,Z))&&(l=l.insert(Z.key,Z.mutableCopy()))}return Se.resolve(l)}getAllFromCollectionGroup(e,n,o,u){xt()}Cs(e,n){return Se.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new kv(this)}getSize(e){return Se.resolve(this.size)}}class kv extends Mv{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.os.addEntry(e,u)):this.os.removeEntry(o)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Nm{constructor(e){this.persistence=e,this.xs=new Au(n=>cs(n),Sa),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hf,this.targetCount=0,this.Ms=iu.kn()}forEachTarget(e,n){return this.xs.forEach((o,u)=>n(u)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new iu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,o){let u=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Se.waitFor(l).next(()=>u)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const o=this.xs.get(n)||null;return Se.resolve(o)}addMatchingKeys(e,n,o){return this.ks.gs(n,o),Se.resolve()}removeMatchingKeys(e,n,o){this.ks.ps(n,o);const u=this.persistence.referenceDelegate,l=[];return u&&n.forEach(f=>{l.push(u.markPotentiallyOrphaned(e,f))}),Se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const o=this.ks.Es(n);return Se.resolve(o)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}class Rm{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Nm(this),this.indexManager=new Cv,this.remoteDocumentCache=new Pv(o=>this.referenceDelegate.Ls(o)),this.serializer=new Np(n),this.qs=new Rv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $p,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.$s[e.toKey()];return o||(o=new Ov(n,this.referenceDelegate),this.$s[e.toKey()]=o),o}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,o){at("MemoryPersistence","Starting transaction:",e);const u=new Q0(this.Os.next());return this.referenceDelegate.Us(),o(u).next(l=>this.referenceDelegate.Ks(u).next(()=>l)).toPromise().then(l=>(u.raiseOnCommittedEvent(),l))}Gs(e,n){return Se.or(Object.values(this.$s).map(o=>()=>o.containsKey(e,n)))}}class Q0 extends Bu{constructor(e){super(),this.currentSequenceNumber=e}}class Ac{constructor(e){this.persistence=e,this.Qs=new hf,this.js=null}static zs(e){return new Ac(e)}get Ws(){if(this.js)return this.js;throw xt()}addReference(e,n,o){return this.Qs.addReference(o,n),this.Ws.delete(o.toString()),Se.resolve()}removeReference(e,n,o){return this.Qs.removeReference(o,n),this.Ws.add(o.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(u=>this.Ws.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(l=>this.Ws.add(l.toString()))}).next(()=>o.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,o=>{const u=_t.fromPath(o);return this.Hs(e,u).next(l=>{l||n.removeEntry(u,Nt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(o=>{o?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class mf{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Fi=o,this.Bi=u}static Li(e,n){let o=Hn(),u=Hn();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:u=u.add(l.doc.key)}return new mf(e,n.fromCache,o,u)}}class uh{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.Ki(e,n).next(l=>l||this.Gi(e,n,u,o)).next(l=>l||this.Qi(e,n))}Ki(e,n){if(So(n))return Se.resolve(null);let o=Os(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=Rl(n,null,"F"),o=Os(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const f=Hn(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,o).next(N=>{const F=this.ji(n,D);return this.zi(n,F,f,N.readTime)?this.Ki(e,Rl(n,null,"F")):this.Wi(e,F,n,N)}))})))}Gi(e,n,o,u){return So(n)||u.isEqual(Nt.min())?this.Qi(e,n):this.Ui.getDocuments(e,o).next(l=>{const f=this.ji(n,l);return this.zi(n,f,o,u)?this.Qi(e,n):(ro()<=ae.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Fd(n)),this.Wi(e,f,n,function ac(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Nt.fromTimestamp(1e9===o?new $r(n+1,0):new $r(n,o));return new Ws(u,_t.empty(),e)}(u,-1)))})}ji(e,n){let o=new xr(Ip(e));return n.forEach((u,l)=>{Zu(e,l)&&(o=o.add(l))}),o}zi(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const l="F"===e.limitType?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(u)>0)}Qi(e,n){return ro()<=ae.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fd(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ws.min())}Wi(e,n,o,u){return this.Ui.getDocumentsMatchingQuery(e,o,u).next(l=>(n.forEach(f=>{l=l.insert(f.key,f)}),l))}}class J0{constructor(e,n,o,u){this.persistence=e,this.Hi=n,this.serializer=u,this.Ji=new Pr(St),this.Yi=new Au(l=>cs(l),Sa),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(o)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xm(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Om(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,ne.Z)(function*(i,e){const n=wt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(l=>(u=l,n.tr(e),n.mutationQueue.getAllMutationBatches(o))).next(l=>{const f=[],D=[];let N=Hn();for(const F of u){f.push(F.batchId);for(const Z of F.mutations)N=N.add(Z.key)}for(const F of l){D.push(F.batchId);for(const Z of F.mutations)N=N.add(Z.key)}return n.localDocuments.getDocuments(o,N).next(F=>({er:F,removedBatchIds:f,addedBatchIds:D}))})})}),ch.apply(this,arguments)}function Gp(i){const e=wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function zp(i,e){const n=wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Xl(i,e,n){return lh.apply(this,arguments)}function lh(){return lh=(0,ne.Z)(function*(i,e,n){const o=wt(i),u=o.Ji.get(e),l=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",l,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Yo(f))throw f;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ji=o.Ji.remove(e),o.Yi.delete(u.target)}),lh.apply(this,arguments)}function hl(i,e,n){const o=wt(i);let u=Nt.min(),l=Hn();return o.persistence.runTransaction("Execute query","readonly",f=>function(D,N,F){const Z=wt(D),re=Z.Yi.get(F);return void 0!==re?Se.resolve(Z.Ji.get(re)):Z.Bs.getTargetData(N,F)}(o,f,Os(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.Bs.getMatchingKeysForTargetId(f,D.targetId).next(N=>{l=N})}).next(()=>o.Hi.getDocumentsMatchingQuery(f,e,n?u:Nt.min(),n?l:Hn())).next(D=>(function vf(i,e,n){let o=i.Xi.get(e)||Nt.min();n.forEach((u,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),i.Xi.set(e,o)}(o,function Ol(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),D),{documents:D,ir:l})))}class hh{constructor(){this.activeTargetIds=function Ud(){return gv}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lv{constructor(){this.Hr=new hh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,o){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new hh,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vv{Yr(e){}shutdown(){}}class Bm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kp=null;function jm(){return null===Kp?Kp=268435456+Math.round(2147483648*Math.random()):Kp++,"0x"+Kp.toString(16)}const If={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uv{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Zs="WebChannelConnection";class Zp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,o,u,l){const f=jm(),D=this.To(e,n);at("RestConnection",`Sending RPC '${e}' ${f}:`,D,o);const N={};return this.Eo(N,u,l),this.Ao(e,D,N,o).then(F=>(at("RestConnection",`Received RPC '${e}' ${f}: `,F),F),F=>{throw zs("RestConnection",`RPC '${e}' ${f} failed with error: `,F,"url: ",D,"request:",o),F})}vo(e,n,o,u,l,f){return this.Io(e,n,o,u,l)}Eo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,l)=>e[l]=u),o&&o.headers.forEach((u,l)=>e[l]=u)}To(e,n){return`${this.mo}/v1/${n}:${If[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,o,u){const l=jm();return new Promise((f,D)=>{const N=new Xn;N.setWithCredentials(!0),N.listenOnce(yr.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Vt.NO_ERROR:const Z=N.getResponseJson();at(Zs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(Z)),f(Z);break;case Vt.TIMEOUT:at(Zs,`RPC '${e}' ${l} timed out`),D(new rt(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Vt.HTTP_ERROR:const re=N.getStatus();if(at(Zs,`RPC '${e}' ${l} failed with status:`,re,"response text:",N.getResponseText()),re>0){let Te=N.getResponseJson();Array.isArray(Te)&&(Te=Te[0]);const je=Te?.error;if(je&&je.status&&je.message){const gt=function(Mt){const Rt=Mt.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(Rt)>=0?Rt:xe.UNKNOWN}(je.status);D(new rt(gt,je.message))}else D(new rt(xe.UNKNOWN,"Server responded with status "+N.getStatus()))}else D(new rt(xe.UNAVAILABLE,"Connection failed."));break;default:xt()}}finally{at(Zs,`RPC '${e}' ${l} completed.`)}});const F=JSON.stringify(u);at(Zs,`RPC '${e}' ${l} sending request:`,u),N.send(n,"POST",F,o,15)})}Ro(e,n,o){const u=jm(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ke(),D=Qe(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},F=this.longPollingOptions.timeoutSeconds;void 0!==F&&(N.longPollingTimeout=Math.round(1e3*F)),this.useFetchStreams&&(N.xmlHttpFactory=new vn({})),this.Eo(N.initMessageHeaders,n,o),N.encodeInitMessageHeaders=!0;const Z=l.join("");at(Zs,`Creating RPC '${e}' stream ${u}: ${Z}`,N);const re=f.createWebChannel(Z,N);let Te=!1,je=!1;const gt=new Uv({ro:Rt=>{je?at(Zs,`Not sending because RPC '${e}' stream ${u} is closed:`,Rt):(Te||(at(Zs,`Opening RPC '${e}' stream ${u} transport.`),re.open(),Te=!0),at(Zs,`RPC '${e}' stream ${u} sending:`,Rt),re.send(Rt))},oo:()=>re.close()}),Mt=(Rt,Gn,_r)=>{Rt.listen(Gn,er=>{try{_r(er)}catch(ws){setTimeout(()=>{throw ws},0)}})};return Mt(re,Ar.EventType.OPEN,()=>{je||at(Zs,`RPC '${e}' stream ${u} transport opened.`)}),Mt(re,Ar.EventType.CLOSE,()=>{je||(je=!0,at(Zs,`RPC '${e}' stream ${u} transport closed`),gt.wo())}),Mt(re,Ar.EventType.ERROR,Rt=>{je||(je=!0,zs(Zs,`RPC '${e}' stream ${u} transport errored:`,Rt),gt.wo(new rt(xe.UNAVAILABLE,"The operation could not be completed")))}),Mt(re,Ar.EventType.MESSAGE,Rt=>{var Gn;if(!je){const _r=Rt.data[0];Ht(!!_r);const ws=_r.error||(null===(Gn=_r[0])||void 0===Gn?void 0:Gn.error);if(ws){at(Zs,`RPC '${e}' stream ${u} received error:`,ws);const ds=ws.status;let ki=function(Tl){const ev=h[Tl];if(void 0!==ev)return U(ev)}(ds),sa=ws.message;void 0===ki&&(ki=xe.INTERNAL,sa="Unknown error status: "+ds+" with message "+ws.message),je=!0,gt.wo(new rt(ki,sa)),re.close()}else at(Zs,`RPC '${e}' stream ${u} received:`,_r),gt._o(_r)}}),Mt(D,Er.STAT_EVENT,Rt=>{Rt.stat===Yn.PROXY?at(Zs,`RPC '${e}' stream ${u} detected buffering proxy`):Rt.stat===Yn.NOPROXY&&at(Zs,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{gt.fo()},0),gt}}function nd(){return typeof document<"u"?document:null}function pl(i){return new nl(i,!0)}class gl{constructor(e,n,o=1e3,u=1.5,l=6e4){this.ii=e,this.timerId=n,this.Po=o,this.bo=u,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),o=Math.max(0,Date.now()-this.Co),u=Math.max(0,n-o);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class fh{constructor(e,n,o,u,l,f,D,N){this.ii=e,this.$o=o,this.Oo=u,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=N,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new gl(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ne.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ne.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var o=this;return(0,ne.Z)(function*(){o.Ho(),o.Jo(),o.qo.cancel(),o.Fo++,4!==e?o.qo.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),o.qo.xo()):n&&n.code===xe.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Yo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Fo===n&&this.Zo(o,u)},o=>{e(()=>{const u=new rt(xe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.tu(u)})})}Zo(e,n){const o=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{o(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(u=>{o(()=>this.tu(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Go(){var e=this;this.state=5,this.qo.No((0,ne.Z)(function*(){e.state=0,e.start()}))}tu(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rd extends fh{constructor(e,n,o,u,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function _v(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(N=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===N?1:"REMOVE"===N?2:"CURRENT"===N?3:"RESET"===N?4:xt(),u=e.targetChange.targetIds||[],l=function(N,F){return N.useProto3Json?(Ht(void 0===F||"string"==typeof F),rs.fromBase64String(F||"")):(Ht(void 0===F||F instanceof Uint8Array),rs.fromUint8Array(F||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(N){const F=void 0===N.code?xe.UNKNOWN:U(N.code);return new rt(F,N.message||"")}(f);n=new zd(o,u,l,D||null)}else if("documentChange"in e){const o=e.documentChange,u=Bo(i,o.document.name),l=ls(o.document.updateTime),f=o.document.createTime?ls(o.document.createTime):Nt.min(),D=new Ii({mapValue:{fields:o.document.fields}}),N=li.newFoundDocument(u,l,f,D);n=new Ic(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const o=e.documentDelete,u=Bo(i,o.document),l=o.readTime?ls(o.readTime):Nt.min(),f=li.newNoDocument(u,l);n=new Ic([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Bo(i,o.document);n=new Ic([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return xt();{const o=e.filter,{count:u=0,unchangedNames:l}=o,f=new w(u,l);n=new tl(o.targetId,f)}}var N;return n}(this.serializer,e),o=function(u){if(!("targetChange"in u))return Nt.min();const l=u.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?ls(l.readTime):Nt.min()}(e);return this.listener.nu(n,o)}su(e){const n={};n.database=il(this.serializer),n.addTarget=function(u,l){let f;const D=l.target;if(f=Wc(D)?{documents:Yd(u,D)}:{query:Qd(u,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=$l(u,l.resumeToken);const N=rl(u,l.expectedCount);null!==N&&(f.expectedCount=N)}else if(l.snapshotVersion.compareTo(Nt.min())>0){f.readTime=jl(u,l.snapshotVersion.toTimestamp());const N=rl(u,l.expectedCount);null!==N&&(f.expectedCount=N)}return f}(this.serializer,e);const o=function wv(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Wo(n)}iu(e){const n={};n.database=il(this.serializer),n.removeTarget=e,this.Wo(n)}}class Yp extends fh{constructor(e,n,o,u,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function vm(i,e){return i&&i.length>0?(Ht(void 0!==e),i.map(n=>function(o,u){let l=ls(o.updateTime?o.updateTime:u);return l.isEqual(Nt.min())&&(l=ls(u)),new Uh(l,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ls(e.commitTime);return this.listener.cu(o,n)}return Ht(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=il(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function Zd(i,e){let n;if(e instanceof vc)n={update:mm(i,e.key,e.value)};else if(e instanceof wc)n={delete:Hl(i,e.key)};else if(e instanceof Ha)n={update:mm(i,e.key,e.data),updateMask:K0(e.fieldMask)};else{if(!(e instanceof Jc))return xt();n={verify:Hl(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,l){const f=l.transform;if(f instanceof Yc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Qu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qc)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw xt()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:yv(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:xt()),n;var u}(this.serializer,o))};this.Wo(n)}}class Qp extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=u,this.lu=!1}fu(){if(this.lu)throw new rt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.Io(e,n,o,u,l)).catch(u=>{throw"FirebaseError"===u.name?(u.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt(xe.UNKNOWN,u.toString())})}vo(e,n,o,u){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,n,o,l,f,u)).catch(l=>{throw"FirebaseError"===l.name?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new rt(xe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Jp{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(wi(n),this.mu=!1):at("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ph{constructor(e,n,o,u,l){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{o.enqueueAndForget((0,ne.Z)(function*(){var N;ou(f)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,ne.Z)(function*(F){const Z=wt(F);Z.vu.add(4),yield id(Z),Z.bu.set("Unknown"),Z.vu.delete(4),yield gh(Z)}),function(F){return N.apply(this,arguments)})(f))}))}),this.bu=new Jp(o,u)}}function gh(i){return Df.apply(this,arguments)}function Df(){return Df=(0,ne.Z)(function*(i){if(ou(i))for(const e of i.Ru)yield e(!0)}),Df.apply(this,arguments)}function id(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,ne.Z)(function*(i){for(const e of i.Ru)yield e(!1)}),Xp.apply(this,arguments)}function sd(i,e){const n=wt(i);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),tg(n)?Gm(n):ml(n).Ko()&&eg(n,e))}function od(i,e){const n=wt(i),o=ml(n);n.Au.delete(e),o.Ko()&&Hm(n,e),0===n.Au.size&&(o.Ko()?o.jo():ou(n)&&n.bu.set("Unknown"))}function eg(i,e){if(i.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ml(i).su(e)}function Hm(i,e){i.Vu.qt(e),ml(i).iu(e)}function Gm(i){i.Vu=new Wd({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),le:e=>i.Au.get(e)||null,ue:()=>i.datastore.serializer.databaseId}),ml(i).start(),i.bu.gu()}function tg(i){return ou(i)&&!ml(i).Uo()&&i.Au.size>0}function ou(i){return 0===wt(i).vu.size}function Cf(i){i.Vu=void 0}function Bv(i){return bf.apply(this,arguments)}function bf(){return bf=(0,ne.Z)(function*(i){i.Au.forEach((e,n)=>{eg(i,e)})}),bf.apply(this,arguments)}function ng(i,e){return ad.apply(this,arguments)}function ad(){return ad=(0,ne.Z)(function*(i,e){Cf(i),tg(i)?(i.bu.Iu(e),Gm(i)):i.bu.set("Unknown")}),ad.apply(this,arguments)}function jv(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,ne.Z)(function*(i,e,n){if(i.bu.set("Online"),e instanceof zd&&2===e.state&&e.cause)try{yield(o=(0,ne.Z)(function*(u,l){const f=l.cause;for(const D of l.targetIds)u.Au.has(D)&&(yield u.remoteSyncer.rejectListen(D,f),u.Au.delete(D),u.Vu.removeTarget(D))}),function(u,l){return o.apply(this,arguments)})(i,e)}catch(o){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Sf(i,o)}else if(e instanceof Ic?i.Vu.Ht(e):e instanceof tl?i.Vu.ne(e):i.Vu.Xt(e),!n.isEqual(Nt.min()))try{const o=yield Gp(i.localStore);n.compareTo(o)>=0&&(yield function(u,l){const f=u.Vu.ce(l);return f.targetChanges.forEach((D,N)=>{if(D.resumeToken.approximateByteSize()>0){const F=u.Au.get(N);F&&u.Au.set(N,F.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,N)=>{const F=u.Au.get(D);if(!F)return;u.Au.set(D,F.withResumeToken(rs.EMPTY_BYTE_STRING,F.snapshotVersion)),Hm(u,D);const Z=new Xu(F.target,D,N,F.sequenceNumber);eg(u,Z)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){at("RemoteStore","Failed to raise snapshot:",o),yield Sf(i,o)}var o}),Tf.apply(this,arguments)}function Sf(i,e,n){return Af.apply(this,arguments)}function Af(){return Af=(0,ne.Z)(function*(i,e,n){if(!Yo(e))throw e;i.vu.add(1),yield id(i),i.bu.set("Offline"),n||(n=()=>Gp(i.localStore)),i.asyncQueue.enqueueRetryable((0,ne.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield n(),i.vu.delete(1),yield gh(i)}))}),Af.apply(this,arguments)}function $v(i,e){return e().catch(n=>Sf(i,n,e))}function ud(i){return cd.apply(this,arguments)}function cd(){return cd=(0,ne.Z)(function*(i){const e=wt(i),n=xc(e);let o=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Hv(e);)try{const u=yield zp(e.localStore,o);if(null===u){0===e.Eu.length&&n.jo();break}o=u.batchId,ld(e,u)}catch(u){yield Sf(e,u)}dd(e)&&zm(e)}),cd.apply(this,arguments)}function Hv(i){return ou(i)&&i.Eu.length<10}function ld(i,e){i.Eu.push(e);const n=xc(i);n.Ko()&&n.ou&&n.uu(e.mutations)}function dd(i){return ou(i)&&!xc(i).Uo()&&i.Eu.length>0}function zm(i){xc(i).start()}function Wm(i){return rg.apply(this,arguments)}function rg(){return rg=(0,ne.Z)(function*(i){xc(i).hu()}),rg.apply(this,arguments)}function Gv(i){return ig.apply(this,arguments)}function ig(){return ig=(0,ne.Z)(function*(i){const e=xc(i);for(const n of i.Eu)e.uu(n.mutations)}),ig.apply(this,arguments)}function qm(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,ne.Z)(function*(i,e,n){const o=i.Eu.shift(),u=el.from(o,e,n);yield $v(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield ud(i)}),Mf.apply(this,arguments)}function sg(i,e){return Km.apply(this,arguments)}function Km(){return Km=(0,ne.Z)(function*(i,e){var n;e&&xc(i).ou&&(yield(n=(0,ne.Z)(function*(o,u){if(function C(i){switch(i){default:return xt();case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0}}(l=u.code)&&l!==xe.ABORTED){const f=o.Eu.shift();xc(o).Qo(),yield $v(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield ud(o)}var l}),function(o,u){return n.apply(this,arguments)})(i,e)),dd(i)&&zm(i)}),Km.apply(this,arguments)}function xf(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,ne.Z)(function*(i,e){const n=wt(i);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const o=ou(n);n.vu.add(3),yield id(n),o&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield gh(n)}),Nf.apply(this,arguments)}function ag(){return ag=(0,ne.Z)(function*(i,e){const n=wt(i);e?(n.vu.delete(2),yield gh(n)):e||(n.vu.add(2),yield id(n),n.bu.set("Unknown"))}),ag.apply(this,arguments)}function ml(i){return i.Su||(i.Su=function(e,n,o){const u=wt(e);return u.fu(),new rd(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Bv.bind(null,i),ao:ng.bind(null,i),nu:jv.bind(null,i)}),i.Ru.push(function(){var e=(0,ne.Z)(function*(n){n?(i.Su.Qo(),tg(i)?Gm(i):i.bu.set("Unknown")):(yield i.Su.stop(),Cf(i))});return function(n){return e.apply(this,arguments)}}())),i.Su}function xc(i){return i.Du||(i.Du=function(e,n,o){const u=wt(e);return u.fu(),new Yp(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{uo:Wm.bind(null,i),ao:sg.bind(null,i),au:Gv.bind(null,i),cu:qm.bind(null,i)}),i.Ru.push(function(){var e=(0,ne.Z)(function*(n){n?(i.Du.Qo(),yield ud(i)):(yield i.Du.stop(),i.Eu.length>0&&(at("RemoteStore",`Stopping write stream with ${i.Eu.length} pending writes`),i.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Du}class Rf{constructor(e,n,o,u,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=l,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,l){const f=Date.now()+o,D=new Rf(e,n,f,u,l);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rt(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hd(i,e){if(wi("AsyncQueue",`${e}: ${i}`),Yo(i))return new rt(xe.UNAVAILABLE,`${e}: ${i}`);throw i}class fd{constructor(e){this.comparator=e?(n,o)=>e(n,o)||_t.comparator(n.key,o.key):(n,o)=>_t.comparator(n.key,o.key),this.keyedMap=mc(),this.sortedSet=new Pr(this.comparator)}static emptySet(e){return new fd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,l=o.getNext().key;if(!u.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new fd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class zv{constructor(){this.Cu=new Pr(_t.comparator)}track(e){const n=e.doc.key,o=this.Cu.get(n);o?0!==e.type&&3===o.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==o.type?this.Cu=this.Cu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Cu=this.Cu.remove(n):1===e.type&&2===o.type?this.Cu=this.Cu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):xt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,o)=>{e.push(o)}),e}}class yl{constructor(e,n,o,u,l,f,D,N,F){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=N,this.hasCachedResults=F}static fromInitialDocuments(e,n,o,u,l){const f=[];return n.forEach(D=>{f.push({type:0,doc:D})}),new yl(e,n,fd.emptySet(n),f,o,u,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Zm{constructor(){this.Nu=void 0,this.listeners=[]}}class au{constructor(){this.queries=new Au(e=>Fh(e),Kc),this.onlineState="Unknown",this.ku=new Set}}function Ym(){return Ym=(0,ne.Z)(function*(i,e){const n=wt(i),o=e.query;let u=!1,l=n.queries.get(o);if(l||(u=!0,l=new Zm),u)try{l.Nu=yield n.onListen(o)}catch(f){const D=hd(f,`Initialization of query '${Fd(e.query)}' failed`);return void e.onError(D)}n.queries.set(o,l),l.listeners.push(e),e.Mu(n.onlineState),l.Nu&&e.$u(l.Nu)&&Qm(n)}),Ym.apply(this,arguments)}function Ru(){return Ru=(0,ne.Z)(function*(i,e){const n=wt(i),o=e.query;let u=!1;const l=n.queries.get(o);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),u=0===l.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Ru.apply(this,arguments)}function ug(i,e){const n=wt(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const D of f.listeners)D.$u(u)&&(o=!0);f.Nu=u}}o&&Qm(n)}function Wv(i,e,n){const o=wt(i),u=o.queries.get(e);if(u)for(const l of u.listeners)l.onError(n);o.queries.delete(e)}function Qm(i){i.ku.forEach(e=>{e.next()})}class cg{constructor(e,n,o){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=o||{}}$u(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new yl(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qv{constructor(e){this.key=e}}class Ps{constructor(e){this.key=e}}class ey{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Hn(),this.mutatedKeys=Hn(),this.tc=Ip(e),this.ec=new fd(this.tc)}get nc(){return this.Yu}sc(e,n){const o=n?n.ic:new zv,u=n?n.ec:this.ec;let l=n?n.mutatedKeys:this.mutatedKeys,f=u,D=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,F="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Z,re)=>{const Te=u.get(Z),je=Zu(this.query,re)?re:null,gt=!!Te&&this.mutatedKeys.has(Te.key),Mt=!!je&&(je.hasLocalMutations||this.mutatedKeys.has(je.key)&&je.hasCommittedMutations);let Rt=!1;Te&&je?Te.data.isEqual(je.data)?gt!==Mt&&(o.track({type:3,doc:je}),Rt=!0):this.rc(Te,je)||(o.track({type:2,doc:je}),Rt=!0,(N&&this.tc(je,N)>0||F&&this.tc(je,F)<0)&&(D=!0)):!Te&&je?(o.track({type:0,doc:je}),Rt=!0):Te&&!je&&(o.track({type:1,doc:Te}),Rt=!0,(N||F)&&(D=!0)),Rt&&(je?(f=f.add(je),l=Mt?l.add(Z):l.delete(Z)):(f=f.delete(Z),l=l.delete(Z)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Z="F"===this.query.limitType?f.last():f.first();f=f.delete(Z.key),l=l.delete(Z.key),o.track({type:1,doc:Z})}return{ec:f,ic:o,zi:D,mutatedKeys:l}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((F,Z)=>function(re,Te){const je=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt()}};return je(re)-je(Te)}(F.type,Z.type)||this.tc(F.doc,Z.doc)),this.oc(o);const f=n?this.uc():[],D=0===this.Zu.size&&this.current?1:0,N=D!==this.Xu;return this.Xu=D,0!==l.length||N?{snapshot:new yl(this.query,e.ec,u,l,e.mutatedKeys,0===D,N,!1,!!o&&o.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new zv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Hn(),this.ec.forEach(o=>{this.ac(o.key)&&(this.Zu=this.Zu.add(o.key))});const n=[];return e.forEach(o=>{this.Zu.has(o)||n.push(new Ps(o))}),this.Zu.forEach(o=>{e.has(o)||n.push(new qv(o))}),n}hc(e){this.Yu=e.ir,this.Zu=Hn();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return yl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dg{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Kv{constructor(e){this.key=e,this.fc=!1}}class Zv{constructor(e,n,o,u,l,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Au(D=>Fh(D),Kc),this._c=new Map,this.mc=new Set,this.gc=new Pr(_t.comparator),this.yc=new Map,this.Ic=new hf,this.Tc={},this.Ec=new Map,this.Ac=iu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function hg(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,ne.Z)(function*(i,e){const n=function md(i){const e=wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=gg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tc.bind(null,e),e.dc.nu=ug.bind(null,e.eventManager),e.dc.Pc=Wv.bind(null,e.eventManager),e}(i);let o,u;const l=n.wc.get(e);if(l)o=l.targetId,n.sharedClientState.addLocalQueryTarget(o),u=l.view.lc();else{const f=yield function ec(i,e){const n=wt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Bs.getTargetData(o,e).next(l=>l?(u=l,Se.resolve(u)):n.Bs.allocateTargetId(o).next(f=>(u=new Xu(e,f,"TargetPurposeListen",o.currentSequenceNumber),n.Bs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ji.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(o.targetId,o),n.Yi.set(e,o.targetId)),o})}(n.localStore,Os(e)),D=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield function kf(i,e,n,o,u){return fg.apply(this,arguments)}(n,e,o,"current"===D,f.resumeToken),n.isPrimaryClient&&sd(n.remoteStore,f)}return u}),Pf.apply(this,arguments)}function fg(){return fg=(0,ne.Z)(function*(i,e,n,o,u){i.Rc=(re,Te,je)=>{return(gt=(0,ne.Z)(function*(Mt,Rt,Gn,_r){let er=Rt.view.sc(Gn);er.zi&&(er=yield hl(Mt.localStore,Rt.query,!1).then(({documents:ki})=>Rt.view.sc(ki,er)));const ws=_r&&_r.targetChanges.get(Rt.targetId),ds=Rt.view.applyChanges(er,Mt.isPrimaryClient,ws);return vg(Mt,Rt.targetId,ds.cc),ds.snapshot}),function(Mt,Rt,Gn,_r){return gt.apply(this,arguments)})(i,re,Te,je);var gt};const l=yield hl(i.localStore,e,!0),f=new ey(e,l.ir),D=f.sc(l.documents),N=ra.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),F=f.applyChanges(D,i.isPrimaryClient,N);vg(i,n,F.cc);const Z=new dg(e,n,f);return i.wc.set(e,Z),i._c.has(n)?i._c.get(n).push(e):i._c.set(n,[e]),F.snapshot}),fg.apply(this,arguments)}function ty(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ne.Z)(function*(i,e){const n=wt(i),o=n.wc.get(e),u=n._c.get(o.targetId);if(u.length>1)return n._c.set(o.targetId,u.filter(l=>!Kc(l,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Xl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),od(n.remoteStore,o.targetId),wl(n,o.targetId)}).catch(io))):(wl(n,o.targetId),yield Xl(n.localStore,o.targetId,!0))}),Ff.apply(this,arguments)}function pg(){return pg=(0,ne.Z)(function*(i,e,n){const o=function Oc(i){const e=wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ny.bind(null,e),e}(i);try{const u=yield function(l,f){const D=wt(l),N=$r.now(),F=f.reduce((Te,je)=>Te.add(je.key),Hn());let Z,re;return D.persistence.runTransaction("Locally write mutations","readwrite",Te=>{let je=Uo(),gt=Hn();return D.Zi.getEntries(Te,F).next(Mt=>{je=Mt,je.forEach((Rt,Gn)=>{Gn.isValidDocument()||(gt=gt.add(Rt))})}).next(()=>D.localDocuments.getOverlayedDocuments(Te,je)).next(Mt=>{Z=Mt;const Rt=[];for(const Gn of f){const _r=Gd(Gn,Z.get(Gn.key).overlayedDocument);null!=_r&&Rt.push(new Ha(Gn.key,_r,Rs(_r.value.mapValue),Ui.exists(!0)))}return D.mutationQueue.addMutationBatch(Te,N,Rt,f)}).next(Mt=>{re=Mt;const Rt=Mt.applyToLocalDocumentSet(Z,gt);return D.documentOverlayCache.saveOverlays(Te,Mt.batchId,Rt)})}).then(()=>({batchId:re.batchId,changes:Zc(Z)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(l,f,D){let N=l.Tc[l.currentUser.toKey()];N||(N=new Pr(St)),N=N.insert(f,D),l.Tc[l.currentUser.toKey()]=N}(o,u.batchId,n),yield Ou(o,u.changes),yield ud(o.remoteStore)}catch(u){const l=hd(u,"Failed to persist write");n.reject(l)}}),pg.apply(this,arguments)}function gg(i,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ne.Z)(function*(i,e){const n=wt(i);try{const o=yield function dl(i,e){const n=wt(i),o=e.snapshotVersion;let u=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=n.Zi.newChangeBuffer({trackRemovals:!0});u=n.Ji;const D=[];e.targetChanges.forEach((Z,re)=>{const Te=u.get(re);if(!Te)return;D.push(n.Bs.removeMatchingKeys(l,Z.removedDocuments,re).next(()=>n.Bs.addMatchingKeys(l,Z.addedDocuments,re)));let je=Te.withSequenceNumber(l.currentSequenceNumber);var gt,Mt,Rt;null!==e.targetMismatches.get(re)?je=je.withResumeToken(rs.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):Z.resumeToken.approximateByteSize()>0&&(je=je.withResumeToken(Z.resumeToken,o)),u=u.insert(re,je),Mt=je,Rt=Z,(0===(gt=Te).resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-gt.snapshotVersion.toMicroseconds()>=3e8||Rt.addedDocuments.size+Rt.modifiedDocuments.size+Rt.removedDocuments.size>0)&&D.push(n.Bs.updateTargetData(l,je))});let N=Uo(),F=Hn();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(l,Z))}),D.push(function km(i,e,n){let o=Hn(),u=Hn();return n.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let f=Uo();return n.forEach((D,N)=>{const F=l.get(D);N.isFoundDocument()!==F.isFoundDocument()&&(u=u.add(D)),N.isNoDocument()&&N.version.isEqual(Nt.min())?(e.removeEntry(D,N.readTime),f=f.insert(D,N)):!F.isValidDocument()||N.version.compareTo(F.version)>0||0===N.version.compareTo(F.version)&&F.hasPendingWrites?(e.addEntry(N),f=f.insert(D,N)):at("LocalStore","Ignoring outdated watch update for ",D,". Current version:",F.version," Watch version:",N.version)}),{nr:f,sr:u}})}(l,f,e.documentUpdates).next(Z=>{N=Z.nr,F=Z.sr})),!o.isEqual(Nt.min())){const Z=n.Bs.getLastRemoteSnapshotVersion(l).next(re=>n.Bs.setTargetsMetadata(l,l.currentSequenceNumber,o));D.push(Z)}return Se.waitFor(D).next(()=>f.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,N,F)).next(()=>N)}).then(l=>(n.Ji=u,l))}(n.localStore,e);e.targetChanges.forEach((u,l)=>{const f=n.yc.get(l);f&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.fc=!0:u.modifiedDocuments.size>0?Ht(f.fc):u.removedDocuments.size>0&&(Ht(f.fc),f.fc=!1))}),yield Ou(n,o,e)}catch(o){yield io(o)}}),Lf.apply(this,arguments)}function vl(i,e,n){const o=wt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&u.push(D.snapshot)}),function(l,f){const D=wt(l);D.onlineState=f;let N=!1;D.queries.forEach((F,Z)=>{for(const re of Z.listeners)re.Mu(f)&&(N=!0)}),N&&Qm(D)}(o.eventManager,e),u.length&&o.dc.nu(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function tc(i,e,n){return Nc.apply(this,arguments)}function Nc(){return Nc=(0,ne.Z)(function*(i,e,n){const o=wt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.yc.get(e),l=u&&u.key;if(l){let f=new Pr(_t.comparator);f=f.insert(l,li.newNoDocument(l,Nt.min()));const D=Hn().add(l),N=new ti(Nt.min(),new Map,new Pr(St),f,D);yield gg(o,N),o.gc=o.gc.remove(l),o.yc.delete(e),_g(o)}else yield Xl(o.localStore,e,!1).then(()=>wl(o,e,n)).catch(io)}),Nc.apply(this,arguments)}function Qv(i,e){return mg.apply(this,arguments)}function mg(){return mg=(0,ne.Z)(function*(i,e){const n=wt(i),o=e.batch.batchId;try{const u=yield function Pm(i,e){const n=wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),l=n.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,N,F){const Z=N.batch,re=Z.keys();let Te=Se.resolve();return re.forEach(je=>{Te=Te.next(()=>F.getEntry(D,je)).next(gt=>{const Mt=N.docVersions.get(je);Ht(null!==Mt),gt.version.compareTo(Mt)<0&&(Z.applyToRemoteDocument(gt,N),gt.isValidDocument()&&(gt.setReadTime(N.commitVersion),F.addEntry(gt)))})}),Te.next(()=>f.mutationQueue.removeMutationBatch(D,Z))}(n,o,e,l).next(()=>l.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let D=Hn();for(let N=0;N<f.mutationResults.length;++N)f.mutationResults[N].transformResults.length>0&&(D=D.add(f.batch.mutations[N].key));return D}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}(n.localStore,e);Uf(n,o,null),pd(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ou(n,u)}catch(u){yield io(u)}}),mg.apply(this,arguments)}function ny(i,e,n){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,ne.Z)(function*(i,e,n){const o=wt(i);try{const u=yield function(l,f){const D=wt(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",N=>{let F;return D.mutationQueue.lookupMutationBatch(N,f).next(Z=>(Ht(null!==Z),F=Z.keys(),D.mutationQueue.removeMutationBatch(N,Z))).next(()=>D.mutationQueue.performConsistencyCheck(N)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(N,F,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(N,F)).next(()=>D.localDocuments.getDocuments(N,F))})}(o.localStore,e);Uf(o,e,n),pd(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ou(o,u)}catch(u){yield io(u)}}),Vf.apply(this,arguments)}function pd(i,e){(i.Ec.get(e)||[]).forEach(n=>{n.resolve()}),i.Ec.delete(e)}function Uf(i,e,n){const o=wt(i);let u=o.Tc[o.currentUser.toKey()];if(u){const l=u.get(e);l&&(n?l.reject(n):l.resolve(),u=u.remove(e)),o.Tc[o.currentUser.toKey()]=u}}function wl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i._c.get(e))i.wc.delete(o),n&&i.dc.Pc(o,n);i._c.delete(e),i.isPrimaryClient&&i.Ic.Is(e).forEach(o=>{i.Ic.containsKey(o)||ry(i,o)})}function ry(i,e){i.mc.delete(e.path.canonicalString());const n=i.gc.get(e);null!==n&&(od(i.remoteStore,n),i.gc=i.gc.remove(e),i.yc.delete(n),_g(i))}function vg(i,e,n){for(const o of n)o instanceof qv?(i.Ic.addReference(o.key,e),Jv(i,o)):o instanceof Ps?(at("SyncEngine","Document no longer in limbo: "+o.key),i.Ic.removeReference(o.key,e),i.Ic.containsKey(o.key)||ry(i,o.key)):xt()}function Jv(i,e){const n=e.key,o=n.path.canonicalString();i.gc.get(n)||i.mc.has(o)||(at("SyncEngine","New document in limbo: "+n),i.mc.add(o),_g(i))}function _g(i){for(;i.mc.size>0&&i.gc.size<i.maxConcurrentLimboResolutions;){const e=i.mc.values().next().value;i.mc.delete(e);const n=new _t(ar.fromString(e)),o=i.Ac.next();i.yc.set(o,new Kv(n)),i.gc=i.gc.insert(n,o),sd(i.remoteStore,new Xu(Os(qc(n.path)),o,"TargetPurposeLimboResolution",Xr.ct))}}function Ou(i,e,n){return iy.apply(this,arguments)}function iy(){return iy=(0,ne.Z)(function*(i,e,n){const o=wt(i),u=[],l=[],f=[];var D;o.wc.isEmpty()||(o.wc.forEach((D,N)=>{f.push(o.Rc(N,e,n).then(F=>{if((F||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(N.targetId,F?.fromCache?"not-current":"current"),F){u.push(F);const Z=mf.Li(N.targetId,F);l.push(Z)}}))}),yield Promise.all(f),o.dc.nu(u),yield(D=(0,ne.Z)(function*(N,F){const Z=wt(N);try{yield Z.persistence.runTransaction("notifyLocalViewChanges","readwrite",re=>Se.forEach(F,Te=>Se.forEach(Te.Fi,je=>Z.persistence.referenceDelegate.addReference(re,Te.targetId,je)).next(()=>Se.forEach(Te.Bi,je=>Z.persistence.referenceDelegate.removeReference(re,Te.targetId,je)))))}catch(re){if(!Yo(re))throw re;at("LocalStore","Failed to update sequence numbers: "+re)}for(const re of F){const Te=re.targetId;if(!re.fromCache){const je=Z.Ji.get(Te),Mt=je.withLastLimboFreeSnapshotVersion(je.snapshotVersion);Z.Ji=Z.Ji.insert(Te,Mt)}}}),function(N,F){return D.apply(this,arguments)})(o.localStore,l))}),iy.apply(this,arguments)}function Xv(i,e){return sy.apply(this,arguments)}function sy(){return sy=(0,ne.Z)(function*(i,e){const n=wt(i);if(!n.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const o=yield Om(n.localStore,e);n.currentUser=e,(u=n).Ec.forEach(f=>{f.forEach(D=>{D.reject(new rt(xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Ec.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ou(n,o.er)}var u}),sy.apply(this,arguments)}function X0(i,e){const n=wt(i),o=n.yc.get(e);if(o&&o.fc)return Hn().add(o.key);{let u=Hn();const l=n._c.get(e);if(!l)return u;for(const f of l){const D=n.wc.get(f);u=u.unionWith(D.view.nc)}return u}}class Pc{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,ne.Z)(function*(){n.serializer=pl(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function yf(i,e,n,o){return new J0(i,e,n,o)}(this.persistence,new uh,e.initialUser,this.serializer)}createPersistence(e){return new Rm(Ac.zs,this.serializer)}createSharedClientState(e){return new Lv}terminate(){var e=this;return(0,ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kc{initialize(e,n){var o=this;return(0,ne.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>vl(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Xv.bind(null,o.syncEngine),yield function og(i,e){return ag.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new au}createDatastore(e){const n=pl(e.databaseInfo.databaseId),o=new Zp(e.databaseInfo);return new Qp(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,l=D=>vl(this.syncEngine,D,0),f=Bm.D()?new Bm:new Vv,new ph(n,o,u,l,f);var n,o,u,l,f}createSyncEngine(e,n){return function(o,u,l,f,D,N,F){const Z=new Zv(o,u,l,f,D,N);return F&&(Z.vc=!0),Z}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,ne.Z)(function*(n){const o=wt(n);at("RemoteStore","RemoteStore shutting down."),o.vu.add(5),yield id(o),o.Pu.shutdown(),o.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class yd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class hy{constructor(e,n,o,u){var l=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=fr.UNAUTHENTICATED,this.clientId=mu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,ne.Z)(function*(D){at("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(at("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ne.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=hd(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function zf(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,ne.Z)(function*(l){o.isEqual(l)||(yield Om(e.localStore,l),o=l)});return function(l){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),bg.apply(this,arguments)}function Tg(i,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,ne.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function Wf(i){return Mg.apply(this,arguments)}(i);at("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>xf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,l)=>xf(e.remoteStore,l)),i._onlineComponents=e}),Sg.apply(this,arguments)}function Mg(){return Mg=(0,ne.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield zf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function Ag(i){return"FirebaseError"===i.name?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),yield zf(i,new Pc)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield zf(i,new Pc);return i._offlineComponents}),Mg.apply(this,arguments)}function qf(i){return $o.apply(this,arguments)}function $o(){return $o=(0,ne.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield Tg(i,i._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield Tg(i,new kc))),i._onlineComponents}),$o.apply(this,arguments)}function Ng(){return Ng=(0,ne.Z)(function*(i){const e=yield qf(i),n=e.eventManager;return n.onListen=hg.bind(null,e.syncEngine),n.onUnlisten=ty.bind(null,e.syncEngine),n}),Ng.apply(this,arguments)}function my(i,e,n={}){const o=new Ti;return i.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function(u,l,f,D,N){const F=new yd({next:re=>{l.enqueueAndForget(()=>function mh(i,e){return Ru.apply(this,arguments)}(u,Z)),re.fromCache&&"server"===D.source?N.reject(new rt(xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):N.resolve(re)},error:re=>N.reject(re)}),Z=new cg(f,F,{includeMetadataChanges:!0,Ku:!0});return function Of(i,e){return Ym.apply(this,arguments)}(u,Z)}(yield function vd(i){return Ng.apply(this,arguments)}(i),i.asyncQueue,e,n,o)})),o.promise}function cu(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Zf=new Map;function Og(i,e,n){if(!n)throw new rt(xe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function vy(i){if(!_t.isDocumentKey(i))throw new rt(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pg(i){if(_t.isDocumentKey(i))throw new rt(xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function vh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":xt()}function cr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new rt(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(i);throw new rt(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class l_{constructor(e){var n,o;if(void 0===e.host){if(void 0!==e.ssl)throw new rt(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rt(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function yy(i,e,n,o){if(!0===e&&!0===o)throw new rt(xe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=cu(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(u){if(void 0!==u.timeoutSeconds){if(isNaN(u.timeoutSeconds))throw new rt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new rt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new rt(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rt(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new xs;switch(n.type){case"firstParty":return new Qa(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Zf.get(e);n&&(at("ComponentProvider","Removing Datastore"),Zf.delete(e),n.terminate())}(this),Promise.resolve()}}class ss{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ss(this.firestore,e,this._key)}}class Ys{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Ga extends Ys{constructor(e,n,o){super(e,n,qc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ss(this.firestore,null,new _t(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function nc(i,e,...n){if(i=(0,se.m9)(i),Og("collection","path",e),i instanceof _d){const o=ar.fromString(e,...n);return Pg(o),new Ga(i,null,o)}{if(!(i instanceof ss||i instanceof Ga))throw new rt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ar.fromString(e,...n));return Pg(o),new Ga(i.firestore,null,o)}}class Ey{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new gl(this,"async_queue_retry"),this.Xc=()=>{const n=nd();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=nd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=nd();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ti;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ne.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Yo(n))throw n;at("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(o=>{throw this.Wc=o,this.Hc=!1,wi("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(o)),o}).then(o=>(this.Hc=!1,o))));return this.Gc=n,n}enqueueAfterDelay(e,n,o){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const u=Rf.createAndSchedule(this,e,n,o,l=>this.na(l));return this.zc.push(u),u}Zc(){this.Wc&&xt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ne.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Mi extends _d{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new Ey,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Lg(this),this._firestoreClient.terminate()}}function rw(i,e){const n="object"==typeof i?i:(0,Ke.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,Ke.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const l=(0,se.P0)("firestore");l&&function _y(i,e,n,o={}){var u;const l=(i=cr(i,_d))._getSettings(),f=`${e}:${n}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),o.mockUserToken){let D,N;if("string"==typeof o.mockUserToken)D=o.mockUserToken,N=fr.MOCK_USER;else{D=(0,se.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const F=o.mockUserToken.sub||o.mockUserToken.user_id;if(!F)throw new rt(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new fr(F)}i._authCredentials=new La(new Or(D,N))}}(u,...l)}return u}function _s(i){return i._firestoreClient||Lg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Lg(i){var e,n,o;const u=i._freezeSettings(),l=(D=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new lc(i._databaseId,D,i._persistenceKey,(F=u).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,cu(F.experimentalLongPollingOptions),F.useFetchStreams));var D,F;i._firestoreClient=new hy(i._authCredentials,i._appCheckCredentials,i._queue,l),null!==(n=u.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}class Il{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Il(rs.fromBase64String(e))}catch(n){throw new rt(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Il(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new rt(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class by{constructor(e){this._methodName=e}}class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}const v_=/^__.*__$/;class __{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}function ep(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt()}}class tp{constructor(e,n,o,u,l,f){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.fa(e),u}da(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.aa({path:o,la:!1});return u.ua(),u}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ep(this.ca)&&v_.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class np{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||pl(e)}ya(e,n,o,u=!1){return new tp({ca:e,methodName:n,ga:o,path:oi.emptyPath(),la:!1,ma:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(i){const e=i._freezeSettings(),n=pl(i._databaseId);return new np(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Bg(i,e,n,o,u,l={}){const f=i.ya(l.merge||l.mergeFields?2:0,e,n,u);Ed("Data must be an object, but it was:",f,o);const D=Hg(o,f);let N,F;if(l.merge)N=new ns(f.fieldMask),F=f.fieldTransforms;else if(l.mergeFields){const Z=[];for(const re of l.mergeFields){const Te=wh(e,re,n);if(!f.contains(Te))throw new rt(xe.INVALID_ARGUMENT,`Field '${Te}' is specified in your field mask but missing from your input data.`);lu(Z,Te)||Z.push(Te)}N=new ns(Z),F=f.fieldTransforms.filter(re=>N.covers(re.field))}else N=null,F=f.fieldTransforms;return new __(new Ii(D),N,F)}function Fc(i,e){if(D_(i=(0,se.m9)(i)))return Ed("Unsupported field value:",e,i),Hg(i,e);if(i instanceof by)return function(n,o){if(!ep(o.ca))throw o._a(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o._a(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,o){const u=[];let l=0;for(const f of n){let D=Fc(f,o.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),l++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,se.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Cp(o.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=$r.fromDate(n);return{timestampValue:jl(o.serializer,u)}}if(n instanceof $r){const u=new $r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jl(o.serializer,u)}}if(n instanceof Vg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:$l(o.serializer,n._byteString)};if(n instanceof ss){const u=o.databaseId,l=n.firestore._databaseId;if(!l.isEqual(u))throw o._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wh(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o._a(`Unsupported field value: ${vh(n)}`)}(i,e)}function Hg(i,e){const n={};return zu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(i,(o,u)=>{const l=Fc(u,e.ha(o));null!=l&&(n[o]=l)}),{mapValue:{fields:n}}}function D_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof $r||i instanceof Vg||i instanceof Il||i instanceof ss||i instanceof by)}function Ed(i,e,n){if(!D_(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=vh(n);throw e._a("an object"===o?i+" a custom object":i+" "+o)}var o}function wh(i,e,n){if((e=(0,se.m9)(e))instanceof wd)return e._internalPath;if("string"==typeof e)return Dd(i,e);throw rp("Field path arguments must be of type string or ",i,!1,void 0,n)}const C_=new RegExp("[~\\*/\\[\\]]");function Dd(i,e,n){if(e.search(C_)>=0)throw rp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw rp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function rp(i,e,n,o,u){const l=o&&!o.isEmpty(),f=void 0!==u;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let N="";return(l||f)&&(N+=" (found",l&&(N+=` in field ${o}`),f&&(N+=` in document ${u}`),N+=")"),new rt(xe.INVALID_ARGUMENT,D+i+N)}function lu(i,e){return i.some(n=>n.isEqual(e))}class El{constructor(e,n,o,u,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ao(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Ao extends El{data(){return super.data()}}function Pu(i,e){return"string"==typeof e?Dd(i,e):e instanceof wd?e._internalPath:e._delegate._internalPath}class ia{}class ip extends ia{}function Cd(i,e,...n){let o=[];e instanceof ia&&o.push(e),o=o.concat(n),function(u){const l=u.filter(D=>D instanceof du).length,f=u.filter(D=>D instanceof ku).length;if(l>1||l>0&&f>0)throw new rt(xe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class ku extends ip{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new ku(e,n,o)}_apply(e){const n=this._parse(e);return N_(e._query,n),new Ys(e.firestore,e.converter,kd(e._query,n))}_parse(e){const n=Id(e.firestore);return function(u,l,f,D,N,F,Z){let re;if(N.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new rt(xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${F}' queries on documentId().`);if("in"===F||"not-in"===F){My(Z,F);const Te=[];for(const je of Z)Te.push(sp(D,u,je));re={arrayValue:{values:Te}}}else re=sp(D,u,Z)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||My(Z,F),re=function E_(i,e,n,o=!1){return Fc(n,i.ya(o?4:3,e))}(f,"where",Z,"in"===F||"not-in"===F);return O.create(N,F,re)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class du extends ia{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new du(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===n.length?n[0]:Y.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(o,u){let l=o;const f=u.getFlattenedFilters();for(const D of f)N_(l,D),l=kd(l,D)}(e._query,n),new Ys(e.firestore,e.converter,kd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Lc extends ip{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lc(e,n)}_apply(e){const n=function(o,u,l){if(null!==o.startAt)throw new rt(xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new rt(xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new nu(u,l);return function(D,N){if(null===gc(D)){const F=na(D);null!==F&&R_(0,F,N.field)}}(o,f),f}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(o,u){const l=o.explicitOrderBy.concat([u]);return new Su(o.path,o.collectionGroup,l,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function bd(i,e="asc"){const n=e,o=Pu("orderBy",i);return Lc._create(o,n)}function sp(i,e,n){if("string"==typeof(n=(0,se.m9)(n))){if(""===n)throw new rt(xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pd(e)&&-1!==n.indexOf("/"))throw new rt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(ar.fromString(n));if(!_t.isDocumentKey(o))throw new rt(xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ca(i,new _t(o))}if(n instanceof ss)return Ca(i,n._key);throw new rt(xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function My(i,e){if(!Array.isArray(i)||0===i.length)throw new rt(xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N_(i,e){if(e.isInequality()){const o=na(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new rt(xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const l=gc(i);null!==l&&R_(0,u,l)}const n=function(o,u){for(const l of o)for(const f of l.getFlattenedFilters())if(u.indexOf(f.op)>=0)return f.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new rt(xe.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function R_(i,e,n){if(!n.isEqual(e))throw new rt(xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class O_{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return _a(e,(u,l)=>{o[u]=this.convertValue(l,n)}),o}convertGeoPoint(e){return new Vg(ci(e.latitude),ci(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Eu(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(wa(e));default:return null}}convertTimestamp(e){const n=so(e);return new $r(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=ar.fromString(e);Ht(Jd(o));const u=new Ia(o.get(1),o.get(3)),l=new _t(o.popFirst(5));return u.isEqual(n)||wi(`Document ${l} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends El{constructor(e,n,o,u,l,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Pu("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Dl extends Vc{data(e={}){return super.data(e)}}class Cl{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new hu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Dl(this._firestore,this._userDataWriter,o.key,o,new hu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Dl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:l++}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const D=new Dl(o._firestore,o._userDataWriter,f.doc.key,f.doc,new hu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let N=-1,F=-1;return 0!==f.type&&(N=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),F=l.indexOf(f.doc.key)),{type:Sh(f.type),doc:D,oldIndex:N,newIndex:F}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sh(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt()}}class za extends O_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ss(this.firestore,null,n)}}function F_(i){i=cr(i,Ys);const e=cr(i.firestore,Mi),n=_s(e),o=new za(e);return function Ih(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new rt(xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query),my(n,i._query).then(u=>new Cl(e,o,i,u))}function L_(i,e){const n=cr(i.firestore,Mi),o=function d_(i,e,...n){if(i=(0,se.m9)(i),1===arguments.length&&(e=mu.A()),Og("doc","path",e),i instanceof _d){const o=ar.fromString(e,...n);return vy(o),new ss(i,null,new _t(o))}{if(!(i instanceof ss||i instanceof Ga))throw new rt(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ar.fromString(e,...n));return vy(o),new ss(i.firestore,i instanceof Ga?i.converter:null,new _t(o))}}(i),u=function Ny(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}(i.converter,e);return function Ah(i,e){return function(n,o){const u=new Ti;return n.asyncQueue.enqueueAndForget((0,ne.Z)(function*(){return function Yv(i,e,n){return pg.apply(this,arguments)}(yield function yh(i){return qf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(_s(i),e)}(n,[Bg(Id(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ui.exists(!1))]).then(()=>o)}!function(i,e=!0){Mr=Ke.Jn,(0,Ke.Xd)(new He.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const l=n.getProvider("app").getImmediate(),f=new Mi(new Ns(n.getProvider("auth-internal")),new es(n.getProvider("app-check-internal")),function(D,N){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new rt(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(D.options.projectId,N)}(l,o),l);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,Ke.KN)(Gs,"3.13.0",i),(0,Ke.KN)(Gs,"3.13.0","esm2017")}();class Mh{constructor(e){return e}}const lp="firestore",dp=new ie.OlP("angularfire2.firestore-instances");function Gy(i){return(e,n)=>{const o=e.runOutsideAngular(()=>i(n));return new Mh(o)}}const zy={provide:class $y{constructor(){return(0,y.vb)(lp)}},deps:[[new ie.FiY,dp]]},z_={provide:Mh,useFactory:function Hy(i,e){const n=(0,y.JM)(lp,i,e);return n&&new Mh(n)},deps:[[new ie.FiY,dp],ge.Ot]};let W_=(()=>{class i{constructor(){(0,fe.KN)("angularfire",y.q4.full,"fst")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=ie.oAB({type:i}),i.\u0275inj=ie.cJS({providers:[z_,zy]}),i})();function q_(i,...e){return{ngModule:W_,providers:[{provide:dp,useFactory:Gy(i),multi:!0,deps:[ie.R0b,ie.zs3,y.HU,ge.z6,[new ie.FiY,pe.dh],[new ie.FiY,j.nm],...e]}]}}const Wy=(0,y.u3)(L_,!0),n0=(0,y.u3)(nc,!0),Yy=(0,y.u3)(F_,!0),Qy=(0,y.u3)(rw,!0),Jg=(0,y.u3)(bd,!0),Fu=(0,y.u3)(Cd,!0)},456:(zt,qe,W)=>{W.d(qe,{q4:()=>qi,HU:()=>xl,vb:()=>Wu,JM:()=>Gc,u3:()=>nu});var y=W(4946),ie=W(3182),pe=W(5861),ge=W(534),fe=W(9058),j=W(4537),ne=W(7879);const Ke=(I,A)=>A.some(O=>I instanceof O);let He,ae;const Ve=new WeakMap,me=new WeakMap,lt=new WeakMap,ht=new WeakMap,Wt=new WeakMap;let Sn={get(I,A,O){if(I instanceof IDBTransaction){if("done"===A)return me.get(I);if("objectStoreNames"===A)return I.objectStoreNames||lt.get(I);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Be(I[A])},set:(I,A,O)=>(I[A]=O,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function Oe(I){return"function"==typeof I?function et(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(Je(this),A),Be(Ve.get(this))}:function(...A){return Be(I.apply(Je(this),A))}:function(A,...O){const Y=I.call(Je(this),A,...O);return lt.set(Y,A.sort?A.sort():[A]),Be(Y)}}(I):(I instanceof IDBTransaction&&function Tn(I){if(me.has(I))return;const A=new Promise((O,Y)=>{const ce=()=>{I.removeEventListener("complete",_e),I.removeEventListener("error",Fe),I.removeEventListener("abort",Fe)},_e=()=>{O(),ce()},Fe=()=>{Y(I.error||new DOMException("AbortError","AbortError")),ce()};I.addEventListener("complete",_e),I.addEventListener("error",Fe),I.addEventListener("abort",Fe)});me.set(I,A)}(I),Ke(I,function se(){return He||(He=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Sn):I)}function Be(I){if(I instanceof IDBRequest)return function Ut(I){const A=new Promise((O,Y)=>{const ce=()=>{I.removeEventListener("success",_e),I.removeEventListener("error",Fe)},_e=()=>{O(Be(I.result)),ce()},Fe=()=>{Y(I.error),ce()};I.addEventListener("success",_e),I.addEventListener("error",Fe)});return A.then(O=>{O instanceof IDBCursor&&Ve.set(O,I)}).catch(()=>{}),Wt.set(A,I),A}(I);if(ht.has(I))return ht.get(I);const A=Oe(I);return A!==I&&(ht.set(I,A),Wt.set(A,I)),A}const Je=I=>Wt.get(I),dn=["get","getKey","getAll","getAllKeys","count"],Ln=["put","add","delete","clear"],Cr=new Map;function st(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Cr.get(A))return Cr.get(A);const O=A.replace(/FromIndex$/,""),Y=A!==O,ce=Ln.includes(O);if(!(O in(Y?IDBIndex:IDBObjectStore).prototype)||!ce&&!dn.includes(O))return;const _e=function(){var Fe=(0,pe.Z)(function*(Tt,...Et){const Gt=this.transaction(Tt,ce?"readwrite":"readonly");let fn=Gt.store;return Y&&(fn=fn.index(Et.shift())),(yield Promise.all([fn[O](...Et),ce&&Gt.done]))[0]});return function(Et){return Fe.apply(this,arguments)}}();return Cr.set(A,_e),_e}!function Ie(I){Sn=I(Sn)}(I=>({...I,get:(A,O,Y)=>st(A,O)||I.get(A,O,Y),has:(A,O)=>!!st(A,O)||I.has(A,O)}));const tt="@firebase/installations",In="0.6.4",pt=1e4,Yt=`w:${In}`,Ee="FIS_v2",Ne="https://firebaseinstallations.googleapis.com/v1",Ue=36e5,Ot=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function an(I){return I instanceof fe.ZR&&I.code.includes("request-failed")}function Bt({projectId:I}){return`${Ne}/projects/${I}/installations`}function ft(I){return{token:I.token,requestStatus:2,expiresIn:kr(I.expiresIn),creationTime:Date.now()}}function Xt(I,A){return zn.apply(this,arguments)}function zn(){return(zn=(0,pe.Z)(function*(I,A){const Y=(yield A.json()).error;return Ot.create("request-failed",{requestName:I,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function An({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ur(I){return xn.apply(this,arguments)}function xn(){return(xn=(0,pe.Z)(function*(I){const A=yield I();return A.status>=500&&A.status<600?I():A})).apply(this,arguments)}function kr(I){return Number(I.replace("s","000"))}function Vn(){return(Vn=(0,pe.Z)(function*({appConfig:I,heartbeatServiceProvider:A},{fid:O}){const Y=Bt(I),ce=An(I),_e=A.getImmediate({optional:!0});if(_e){const Gt=yield _e.getHeartbeatsHeader();Gt&&ce.append("x-firebase-client",Gt)}const Tt={method:"POST",headers:ce,body:JSON.stringify({fid:O,authVersion:Ee,appId:I.appId,sdkVersion:Yt})},Et=yield ur(()=>fetch(Y,Tt));if(Et.ok){const Gt=yield Et.json();return{fid:Gt.fid||O,registrationStatus:2,refreshToken:Gt.refreshToken,authToken:ft(Gt.authToken)}}throw yield Xt("Create Installation",Et)})).apply(this,arguments)}function kt(I){return new Promise(A=>{setTimeout(A,I)})}const _n=/^[cdef][\w-]{21}$/,tr="";function tn(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const O=function en(I){return function Fr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return _n.test(O)?O:tr}catch{return tr}}function Un(I){return`${I.appName}!${I.appId}`}const pr=new Map;function Nr(I,A){const O=Un(I);Lr(O,A),function On(I,A){const O=function Dt(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=I=>{Lr(I.data.key,I.data.fid)}),Bi}();O&&O.postMessage({key:I,fid:A}),function xi(){0===pr.size&&Bi&&(Bi.close(),Bi=null)}()}(O,A)}function Lr(I,A){const O=pr.get(I);if(O)for(const Y of O)Y(A)}let Bi=null;const di="firebase-installations-database",wr=1,Rr="firebase-installations-store";let qr=null;function jt(){return qr||(qr=function $e(I,A,{blocked:O,upgrade:Y,blocking:ce,terminated:_e}={}){const Fe=indexedDB.open(I,A),Tt=Be(Fe);return Y&&Fe.addEventListener("upgradeneeded",Et=>{Y(Be(Fe.result),Et.oldVersion,Et.newVersion,Be(Fe.transaction))}),O&&Fe.addEventListener("blocked",()=>O()),Tt.then(Et=>{_e&&Et.addEventListener("close",()=>_e()),ce&&Et.addEventListener("versionchange",()=>ce())}).catch(()=>{}),Tt}(di,wr,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Rr)}})),qr}function Kr(I,A){return Di.apply(this,arguments)}function Di(){return(Di=(0,pe.Z)(function*(I,A){const O=Un(I),ce=(yield jt()).transaction(Rr,"readwrite"),_e=ce.objectStore(Rr),Fe=yield _e.get(O);return yield _e.put(A,O),yield ce.done,(!Fe||Fe.fid!==A.fid)&&Nr(I,A.fid),A})).apply(this,arguments)}function dr(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,pe.Z)(function*(I){const A=Un(I),Y=(yield jt()).transaction(Rr,"readwrite");yield Y.objectStore(Rr).delete(A),yield Y.done})).apply(this,arguments)}function nn(I,A){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,pe.Z)(function*(I,A){const O=Un(I),ce=(yield jt()).transaction(Rr,"readwrite"),_e=ce.objectStore(Rr),Fe=yield _e.get(O),Tt=A(Fe);return void 0===Tt?yield _e.delete(O):yield _e.put(Tt,O),yield ce.done,Tt&&(!Fe||Fe.fid!==Tt.fid)&&Nr(I,Tt.fid),Tt})).apply(this,arguments)}function oe(I){return z.apply(this,arguments)}function z(){return z=(0,pe.Z)(function*(I){let A;const O=yield nn(I.appConfig,Y=>{const ce=function K(I){return qt(I||{fid:tn(),registrationStatus:0})}(Y),_e=function q(I,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(Ot.create("app-offline"))};const O={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Q(I,A){return ve.apply(this,arguments)}(I,O);return{installationEntry:O,registrationPromise:Y}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Xe(I)}:{installationEntry:A}}(I,ce);return A=_e.registrationPromise,_e.installationEntry});return O.fid===tr?{installationEntry:yield A}:{installationEntry:O,registrationPromise:A}}),z.apply(this,arguments)}function ve(){return ve=(0,pe.Z)(function*(I,A){try{const O=yield function Kt(I,A){return Vn.apply(this,arguments)}(I,A);return Kr(I.appConfig,O)}catch(O){throw an(O)&&409===O.customData.serverCode?yield dr(I.appConfig):yield Kr(I.appConfig,{fid:A.fid,registrationStatus:0}),O}}),ve.apply(this,arguments)}function Xe(I){return dt.apply(this,arguments)}function dt(){return(dt=(0,pe.Z)(function*(I){let A=yield $t(I.appConfig);for(;1===A.registrationStatus;)yield kt(100),A=yield $t(I.appConfig);if(0===A.registrationStatus){const{installationEntry:O,registrationPromise:Y}=yield oe(I);return Y||O}return A})).apply(this,arguments)}function $t(I){return nn(I,A=>{if(!A)throw Ot.create("installation-not-found");return qt(A)})}function qt(I){return function kn(I){return 1===I.registrationStatus&&I.registrationTime+pt<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function gr(){return(gr=(0,pe.Z)(function*({appConfig:I,heartbeatServiceProvider:A},O){const Y=function Ir(I,{fid:A}){return`${Bt(I)}/${A}/authTokens:generate`}(I,O),ce=function Mn(I,{refreshToken:A}){const O=An(I);return O.append("Authorization",function Cn(I){return`${Ee} ${I}`}(A)),O}(I,O),_e=A.getImmediate({optional:!0});if(_e){const Gt=yield _e.getHeartbeatsHeader();Gt&&ce.append("x-firebase-client",Gt)}const Tt={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:Yt,appId:I.appId}})},Et=yield ur(()=>fetch(Y,Tt));if(Et.ok)return ft(yield Et.json());throw yield Xt("Generate Auth Token",Et)})).apply(this,arguments)}function br(I){return ji.apply(this,arguments)}function ji(){return ji=(0,pe.Z)(function*(I,A=!1){let O;const Y=yield nn(I.appConfig,_e=>{if(!Jt(_e))throw Ot.create("not-registered");const Fe=_e.authToken;if(!A&&function hn(I){return 2===I.requestStatus&&!function mr(I){const A=Date.now();return A<I.creationTime||I.creationTime+I.expiresIn<A+Ue}(I)}(Fe))return _e;if(1===Fe.requestStatus)return O=function Pe(I,A){return Ce.apply(this,arguments)}(I,A),_e;{if(!navigator.onLine)throw Ot.create("app-offline");const Tt=function rr(I){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:A})}(_e);return O=function Pt(I,A){return Ct.apply(this,arguments)}(I,Tt),Tt}});return O?yield O:Y.authToken}),ji.apply(this,arguments)}function Ce(){return(Ce=(0,pe.Z)(function*(I,A){let O=yield We(I.appConfig);for(;1===O.authToken.requestStatus;)yield kt(100),O=yield We(I.appConfig);const Y=O.authToken;return 0===Y.requestStatus?br(I,A):Y})).apply(this,arguments)}function We(I){return nn(I,A=>{if(!Jt(A))throw Ot.create("not-registered");return function hi(I){return 1===I.requestStatus&&I.requestTime+pt<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Ct(){return Ct=(0,pe.Z)(function*(I,A){try{const O=yield function rn(I,A){return gr.apply(this,arguments)}(I,A),Y=Object.assign(Object.assign({},A),{authToken:O});return yield Kr(I.appConfig,Y),O}catch(O){if(!an(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const Y=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Kr(I.appConfig,Y)}else yield dr(I.appConfig);throw O}}),Ct.apply(this,arguments)}function Jt(I){return void 0!==I&&2===I.registrationStatus}function fi(){return(fi=(0,pe.Z)(function*(I){const A=I,{installationEntry:O,registrationPromise:Y}=yield oe(A);return Y?Y.catch(console.error):br(A).catch(console.error),O.fid})).apply(this,arguments)}function Hr(){return Hr=(0,pe.Z)(function*(I,A=!1){const O=I;return yield function Gr(I){return bn.apply(this,arguments)}(O),(yield br(O,A)).token}),Hr.apply(this,arguments)}function bn(){return(bn=(0,pe.Z)(function*(I){const{registrationPromise:A}=yield oe(I);A&&(yield A)})).apply(this,arguments)}function de(I){return Ot.create("missing-app-config-values",{valueName:I})}const De="installations",ut=I=>{const A=I.getProvider("app").getImmediate(),O=function le(I){if(!I||!I.options)throw de("App Configuration");if(!I.name)throw de("App Name");const A=["projectId","apiKey","appId"];for(const O of A)if(!I.options[O])throw de(O);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(A);return{app:A,appConfig:O,heartbeatServiceProvider:(0,ge.qX)(A,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=I=>{const A=I.getProvider("app").getImmediate(),O=(0,ge.qX)(A,De).getImmediate();return{getId:()=>function Is(I){return fi.apply(this,arguments)}(O),getToken:ce=>function Fi(I){return Hr.apply(this,arguments)}(O,ce)}};(function En(){(0,ge.Xd)(new j.wA(De,ut,"PUBLIC")),(0,ge.Xd)(new j.wA("installations-internal",Ft,"PRIVATE"))})(),(0,ge.KN)(tt,In),(0,ge.KN)(tt,In,"esm2017");const un="@firebase/remote-config",zr=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ir{constructor(A,O,Y,ce){this.client=A,this.storage=O,this.storageCache=Y,this.logger=ce}isCachedDataFresh(A,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-O,ce=Y<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${ce}.`),ce}fetch(A){var O=this;return(0,pe.Z)(function*(){const[Y,ce]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(ce&&O.isCachedDataFresh(A.cacheMaxAgeMillis,Y))return ce;A.eTag=ce&&ce.eTag;const _e=yield O.client.fetch(A),Fe=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_e.status&&Fe.push(O.storage.setLastSuccessfulFetchResponse(_e)),yield Promise.all(Fe),_e})()}}function Wn(I=navigator){return I.languages&&I.languages[0]||I.language}class gn{constructor(A,O,Y,ce,_e,Fe){this.firebaseInstallations=A,this.sdkVersion=O,this.namespace=Y,this.projectId=ce,this.apiKey=_e,this.appId=Fe}fetch(A){var O=this;return(0,pe.Z)(function*(){const[Y,ce]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,Tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Et={sdk_version:O.sdkVersion,app_instance_id:Y,app_instance_id_token:ce,app_id:O.appId,language_code:Wn()},Gt={method:"POST",headers:Tt,body:JSON.stringify(Et)},fn=fetch(Fe,Gt),wn=new Promise((Vo,ei)=>{A.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",ei(dc)})});let uo;try{yield Promise.race([fn,wn]),uo=yield fn}catch(Vo){let ei="fetch-client-network";throw"AbortError"===Vo?.name&&(ei="fetch-timeout"),zr.create(ei,{originalErrorMessage:Vo?.message})}let vs=uo.status;const zc=uo.headers.get("ETag")||void 0;let ja,Tu;if(200===uo.status){let Vo;try{Vo=yield uo.json()}catch(ei){throw zr.create("fetch-client-parse",{originalErrorMessage:ei?.message})}ja=Vo.entries,Tu=Vo.state}if("INSTANCE_STATE_UNSPECIFIED"===Tu?vs=500:"NO_CHANGE"===Tu?vs=304:("NO_TEMPLATE"===Tu||"EMPTY_CONFIG"===Tu)&&(ja={}),304!==vs&&200!==vs)throw zr.create("fetch-status",{httpStatus:vs});return{status:vs,eTag:zc,config:ja}})()}}class po{constructor(A,O){this.client=A,this.storage=O}fetch(A){var O=this;return(0,pe.Z)(function*(){const Y=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(A,Y)})()}attemptFetch(A,{throttleEndTimeMillis:O,backoffCount:Y}){var ce=this;return(0,pe.Z)(function*(){yield function Yr(I,A){return new Promise((O,Y)=>{const ce=Math.max(A-Date.now(),0),_e=setTimeout(O,ce);I.addEventListener(()=>{clearTimeout(_e),Y(zr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,O);try{const _e=yield ce.client.fetch(A);return yield ce.storage.deleteThrottleMetadata(),_e}catch(_e){if(!function Yi(I){if(!(I instanceof fe.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(_e))throw _e;const Fe={throttleEndTimeMillis:Date.now()+(0,fe.$s)(Y),backoffCount:Y+1};return yield ce.storage.setThrottleMetadata(Fe),ce.attemptFetch(A,Fe)}})()}}class la{constructor(A,O,Y,ce,_e){this.app=A,this._client=O,this._storageCache=Y,this._storage=ce,this._logger=_e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(I,A){const O=I.target.error||void 0;return zr.create(A,{originalErrorMessage:O&&O?.message})}const mt="app_namespace_store";class Qi{constructor(A,O,Y,ce=function Ur(){return new Promise((I,A)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=Y=>{A(sr(Y,"storage-open"))},O.onsuccess=Y=>{I(Y.target.result)},O.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(mt,{keyPath:"compositeKey"})}}catch(O){A(zr.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=A,this.appName=O,this.namespace=Y,this.openDbPromise=ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var O=this;return(0,pe.Z)(function*(){const Y=yield O.openDbPromise;return new Promise((ce,_e)=>{const Tt=Y.transaction([mt],"readonly").objectStore(mt),Et=O.createCompositeKey(A);try{const Gt=Tt.get(Et);Gt.onerror=fn=>{_e(sr(fn,"storage-get"))},Gt.onsuccess=fn=>{const wn=fn.target.result;ce(wn?wn.value:void 0)}}catch(Gt){_e(zr.create("storage-get",{originalErrorMessage:Gt?.message}))}})})()}set(A,O){var Y=this;return(0,pe.Z)(function*(){const ce=yield Y.openDbPromise;return new Promise((_e,Fe)=>{const Et=ce.transaction([mt],"readwrite").objectStore(mt),Gt=Y.createCompositeKey(A);try{const fn=Et.put({compositeKey:Gt,value:O});fn.onerror=wn=>{Fe(sr(wn,"storage-set"))},fn.onsuccess=()=>{_e()}}catch(fn){Fe(zr.create("storage-set",{originalErrorMessage:fn?.message}))}})})()}delete(A){var O=this;return(0,pe.Z)(function*(){const Y=yield O.openDbPromise;return new Promise((ce,_e)=>{const Tt=Y.transaction([mt],"readwrite").objectStore(mt),Et=O.createCompositeKey(A);try{const Gt=Tt.delete(Et);Gt.onerror=fn=>{_e(sr(fn,"storage-delete"))},Gt.onsuccess=()=>{ce()}}catch(Gt){_e(zr.create("storage-delete",{originalErrorMessage:Gt?.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class ni{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,pe.Z)(function*(){const O=A.storage.getLastFetchStatus(),Y=A.storage.getLastSuccessfulFetchTimestampMillis(),ce=A.storage.getActiveConfig(),_e=yield O;_e&&(A.lastFetchStatus=_e);const Fe=yield Y;Fe&&(A.lastSuccessfulFetchTimestampMillis=Fe);const Tt=yield ce;Tt&&(A.activeConfig=Tt)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Xs(){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,pe.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function mo(){(0,ge.Xd)(new j.wA("remote-config",function I(A,{instanceIdentifier:O}){const Y=A.getProvider("app").getImmediate(),ce=A.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw zr.create("registration-window");if(!(0,fe.hl)())throw zr.create("indexed-db-unavailable");const{projectId:_e,apiKey:Fe,appId:Tt}=Y.options;if(!_e)throw zr.create("registration-project-id");if(!Fe)throw zr.create("registration-api-key");if(!Tt)throw zr.create("registration-app-id");const Et=new Qi(Tt,Y.name,O=O||"firebase"),Gt=new ni(Et),fn=new ne.Yd(un);fn.logLevel=ne.in.ERROR;const wn=new gn(ce,ge.Jn,O,_e,Fe,Tt),uo=new po(wn,Et),vs=new ir(uo,Et,Gt,fn),zc=new la(Y,vs,Gt,Et,fn);return function Cs(I){const A=(0,fe.m9)(I);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(zc),zc},"PUBLIC").setMultipleInstances(!0)),(0,ge.KN)(un,"0.4.4"),(0,ge.KN)(un,"0.4.4","esm2017")}();const ps=(I,A)=>A.some(O=>I instanceof O);let bs,Ts;const Ls=new WeakMap,Br=new WeakMap,gs=new WeakMap,yo=new WeakMap,Vs=new WeakMap;let jr={get(I,A,O){if(I instanceof IDBTransaction){if("done"===A)return Br.get(I);if("objectStoreNames"===A)return I.objectStoreNames||gs.get(I);if("store"===A)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return gi(I[A])},set:(I,A,O)=>(I[A]=O,!0),has:(I,A)=>I instanceof IDBTransaction&&("done"===A||"store"===A)||A in I};function vo(I){return"function"==typeof I?function Za(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fs(){return Ts||(Ts=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...A){return I.apply(mi(this),A),gi(Ls.get(this))}:function(...A){return gi(I.apply(mi(this),A))}:function(A,...O){const Y=I.call(mi(this),A,...O);return gs.set(Y,A.sort?A.sort():[A]),gi(Y)}}(I):(I instanceof IDBTransaction&&function Us(I){if(Br.has(I))return;const A=new Promise((O,Y)=>{const ce=()=>{I.removeEventListener("complete",_e),I.removeEventListener("error",Fe),I.removeEventListener("abort",Fe)},_e=()=>{O(),ce()},Fe=()=>{Y(I.error||new DOMException("AbortError","AbortError")),ce()};I.addEventListener("complete",_e),I.addEventListener("error",Fe),I.addEventListener("abort",Fe)});Br.set(I,A)}(I),ps(I,function Sr(){return bs||(bs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,jr):I)}function gi(I){if(I instanceof IDBRequest)return function Ji(I){const A=new Promise((O,Y)=>{const ce=()=>{I.removeEventListener("success",_e),I.removeEventListener("error",Fe)},_e=()=>{O(gi(I.result)),ce()},Fe=()=>{Y(I.error),ce()};I.addEventListener("success",_e),I.addEventListener("error",Fe)});return A.then(O=>{O instanceof IDBCursor&&Ls.set(O,I)}).catch(()=>{}),Vs.set(A,I),A}(I);if(yo.has(I))return yo.get(I);const A=vo(I);return A!==I&&(yo.set(I,A),Vs.set(A,I)),A}const mi=I=>Vs.get(I);function Ri(I,A,{blocked:O,upgrade:Y,blocking:ce,terminated:_e}={}){const Fe=indexedDB.open(I,A),Tt=gi(Fe);return Y&&Fe.addEventListener("upgradeneeded",Et=>{Y(gi(Fe.result),Et.oldVersion,Et.newVersion,gi(Fe.transaction))}),O&&Fe.addEventListener("blocked",()=>O()),Tt.then(Et=>{_e&&Et.addEventListener("close",()=>_e()),ce&&Et.addEventListener("versionchange",()=>ce())}).catch(()=>{}),Tt}function hr(I,{blocked:A}={}){const O=indexedDB.deleteDatabase(I);return A&&O.addEventListener("blocked",()=>A()),gi(O).then(()=>{})}const $i=["get","getKey","getAll","getAllKeys","count"],ri=["put","add","delete","clear"],Ma=new Map;function yi(I,A){if(!(I instanceof IDBDatabase)||A in I||"string"!=typeof A)return;if(Ma.get(A))return Ma.get(A);const O=A.replace(/FromIndex$/,""),Y=A!==O,ce=ri.includes(O);if(!(O in(Y?IDBIndex:IDBObjectStore).prototype)||!ce&&!$i.includes(O))return;const _e=function(){var Fe=(0,pe.Z)(function*(Tt,...Et){const Gt=this.transaction(Tt,ce?"readwrite":"readonly");let fn=Gt.store;return Y&&(fn=fn.index(Et.shift())),(yield Promise.all([fn[O](...Et),ce&&Gt.done]))[0]});return function(Et){return Fe.apply(this,arguments)}}();return Ma.set(A,_e),_e}!function mn(I){jr=I(jr)}(I=>({...I,get:(A,O,Y)=>yi(A,O)||I.get(A,O,Y),has:(A,O)=>!!yi(A,O)||I.has(A,O)}));const Wr="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",Ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_o="https://fcmregistrations.googleapis.com/v1",yn="google.c.a.c_id",vi="google.c.a.c_l",da="google.c.a.ts";var M=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(M||{});function G(I){const A=new Uint8Array(I);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ue(I){const O=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(O),ce=new Uint8Array(Y.length);for(let _e=0;_e<Y.length;++_e)ce[_e]=Y.charCodeAt(_e);return ce}const bt="fcm_token_details_db",cn=5,Oi="fcm_token_object_Store";function As(){return As=(0,pe.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_e=>_e.name).includes(bt))return null;let A=null;return(yield Ri(bt,cn,{upgrade:(Y=(0,pe.Z)(function*(ce,_e,Fe,Tt){var Et;if(_e<2||!ce.objectStoreNames.contains(Oi))return;const Gt=Tt.objectStore(Oi),fn=yield Gt.index("fcmSenderId").get(I);if(yield Gt.clear(),fn)if(2===_e){const wn=fn;if(!wn.auth||!wn.p256dh||!wn.endpoint)return;A={token:wn.fcmToken,createTime:null!==(Et=wn.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:wn.auth,p256dh:wn.p256dh,endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:"string"==typeof wn.vapidKey?wn.vapidKey:G(wn.vapidKey)}}}else if(3===_e){const wn=fn;A={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:G(wn.auth),p256dh:G(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:G(wn.vapidKey)}}}else if(4===_e){const wn=fn;A={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:G(wn.auth),p256dh:G(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:G(wn.vapidKey)}}}}),function(_e,Fe,Tt,Et){return Y.apply(this,arguments)})})).close(),yield hr(bt),yield hr("fcm_vapid_details_db"),yield hr("undefined"),function wo(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:A}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}(A)?A:null;var Y}),As.apply(this,arguments)}const Xi="firebase-messaging-database",Ro=1,Ci="firebase-messaging-store";let fu=null;function ha(){return fu||(fu=Ri(Xi,Ro,{upgrade:(I,A)=>{0===A&&I.createObjectStore(Ci)}})),fu}function xa(I){return js.apply(this,arguments)}function js(){return js=(0,pe.Z)(function*(I){const A=$s(I),Y=yield(yield ha()).transaction(Ci).objectStore(Ci).get(A);if(Y)return Y;{const ce=yield function ms(I){return As.apply(this,arguments)}(I.appConfig.senderId);if(ce)return yield pu(I,ce),ce}}),js.apply(this,arguments)}function pu(I,A){return Na.apply(this,arguments)}function Na(){return(Na=(0,pe.Z)(function*(I,A){const O=$s(I),ce=(yield ha()).transaction(Ci,"readwrite");return yield ce.objectStore(Ci).put(A,O),yield ce.done,A})).apply(this,arguments)}function us(){return(us=(0,pe.Z)(function*(I){const A=$s(I),Y=(yield ha()).transaction(Ci,"readwrite");yield Y.objectStore(Ci).delete(A),yield Y.done})).apply(this,arguments)}function $s({appConfig:I}){return I.appId}const Li=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qr(I,A){return ii.apply(this,arguments)}function ii(){return(ii=(0,pe.Z)(function*(I,A){const O=yield Io(I),Y=Pa(A),ce={method:"POST",headers:O,body:JSON.stringify(Y)};let _e;try{_e=yield(yield fetch(Hi(I.appConfig),ce)).json()}catch(Fe){throw Li.create("token-subscribe-failed",{errorInfo:Fe?.toString()})}if(_e.error)throw Li.create("token-subscribe-failed",{errorInfo:_e.error.message});if(!_e.token)throw Li.create("token-subscribe-no-token");return _e.token})).apply(this,arguments)}function Ra(){return(Ra=(0,pe.Z)(function*(I,A){const O=yield Io(I),Y=Pa(A.subscriptionOptions),ce={method:"PATCH",headers:O,body:JSON.stringify(Y)};let _e;try{_e=yield(yield fetch(`${Hi(I.appConfig)}/${A.token}`,ce)).json()}catch(Fe){throw Li.create("token-update-failed",{errorInfo:Fe?.toString()})}if(_e.error)throw Li.create("token-update-failed",{errorInfo:_e.error.message});if(!_e.token)throw Li.create("token-update-no-token");return _e.token})).apply(this,arguments)}function eo(I,A){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,pe.Z)(function*(I,A){const Y={method:"DELETE",headers:yield Io(I)};try{const _e=yield(yield fetch(`${Hi(I.appConfig)}/${A}`,Y)).json();if(_e.error)throw Li.create("token-unsubscribe-failed",{errorInfo:_e.error.message})}catch(ce){throw Li.create("token-unsubscribe-failed",{errorInfo:ce?.toString()})}})).apply(this,arguments)}function Hi({projectId:I}){return`${_o}/projects/${I}/registrations`}function Io(I){return qn.apply(this,arguments)}function qn(){return(qn=(0,pe.Z)(function*({appConfig:I,installations:A}){const O=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Pa({p256dh:I,auth:A,endpoint:O,vapidKey:Y}){const ce={web:{endpoint:O,auth:A,p256dh:I}};return Y!==Ss&&(ce.web.applicationPubKey=Y),ce}const Oo=6048e5;function zo(){return zo=(0,pe.Z)(function*(I){const A=yield function si(I,A){return Wo.apply(this,arguments)}(I.swRegistration,I.vapidKey),O={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:A.endpoint,auth:G(A.getKey("auth")),p256dh:G(A.getKey("p256dh"))},Y=yield xa(I.firebaseDependencies);if(Y){if(function E(I,A){return A.vapidKey===I.vapidKey&&A.endpoint===I.endpoint&&A.auth===I.auth&&A.p256dh===I.p256dh}(Y.subscriptionOptions,O))return Date.now()>=Y.createTime+Oo?function Eo(I,A){return Hs.apply(this,arguments)}(I,{token:Y.token,createTime:Date.now(),subscriptionOptions:O}):Y.token;try{yield eo(I.firebaseDependencies,Y.token)}catch(ce){console.warn(ce)}return no(I.firebaseDependencies,O)}return no(I.firebaseDependencies,O)}),zo.apply(this,arguments)}function ys(){return ys=(0,pe.Z)(function*(I){const A=yield xa(I.firebaseDependencies);A&&(yield eo(I.firebaseDependencies,A.token),yield function fa(I){return us.apply(this,arguments)}(I.firebaseDependencies));const O=yield I.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),ys.apply(this,arguments)}function Hs(){return Hs=(0,pe.Z)(function*(I,A){try{const O=yield function Vi(I,A){return Ra.apply(this,arguments)}(I.firebaseDependencies,A),Y=Object.assign(Object.assign({},A),{token:O,createTime:Date.now()});return yield pu(I.firebaseDependencies,Y),O}catch(O){throw yield function ka(I){return ys.apply(this,arguments)}(I),O}}),Hs.apply(this,arguments)}function no(I,A){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,pe.Z)(function*(I,A){const Y={token:yield Qr(I,A),createTime:Date.now(),subscriptionOptions:A};return yield pu(I,Y),Y.token})).apply(this,arguments)}function Wo(){return(Wo=(0,pe.Z)(function*(I,A){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ue(A)})})).apply(this,arguments)}function B(I){const A={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function x(I,A){if(!A.notification)return;I.notification={};const O=A.notification.title;O&&(I.notification.title=O);const Y=A.notification.body;Y&&(I.notification.body=Y);const ce=A.notification.image;ce&&(I.notification.image=ce);const _e=A.notification.icon;_e&&(I.notification.icon=_e)}(A,I),function V(I,A){A.data&&(I.data=A.data)}(A,I),function te(I,A){var O,Y,ce,_e,Fe;if(!(A.fcmOptions||null!==(O=A.notification)&&void 0!==O&&O.click_action))return;I.fcmOptions={};const Tt=null!==(ce=null===(Y=A.fcmOptions)||void 0===Y?void 0:Y.link)&&void 0!==ce?ce:null===(_e=A.notification)||void 0===_e?void 0:_e.click_action;Tt&&(I.fcmOptions.link=Tt);const Et=null===(Fe=A.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;Et&&(I.fcmOptions.analyticsLabel=Et)}(A,I),A}function Qe(I,A){const O=[];for(let Y=0;Y<I.length;Y++)O.push(I.charAt(Y)),Y<A.length&&O.push(A.charAt(Y));return O.join("")}function yr(I){return Li.create("missing-app-config-values",{valueName:I})}Qe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Er{constructor(A,O,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ce=function Vt(I){if(!I||!I.options)throw yr("App Configuration Object");if(!I.name)throw yr("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:O}=I;for(const Y of A)if(!O[Y])throw yr(Y);return{appName:I.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:ce,installations:O,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function vn(){return(vn=(0,pe.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Wr,{scope:Bs}),I.swRegistration.update().catch(()=>{})}catch(A){throw Li.create("failed-service-worker-registration",{browserErrorMessage:A?.message})}})).apply(this,arguments)}function Xn(){return(Xn=(0,pe.Z)(function*(I,A){if(!A&&!I.swRegistration&&(yield function Yn(I){return vn.apply(this,arguments)}(I)),A||!I.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Li.create("invalid-sw-registration");I.swRegistration=A}})).apply(this,arguments)}function Gi(){return(Gi=(0,pe.Z)(function*(I,A){A?I.vapidKey=A:I.vapidKey||(I.vapidKey=Ss)})).apply(this,arguments)}function fr(){return fr=(0,pe.Z)(function*(I,A){if(!navigator)throw Li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Li.create("permission-blocked");return yield function _i(I,A){return Gi.apply(this,arguments)}(I,A?.vapidKey),yield function Ar(I,A){return Xn.apply(this,arguments)}(I,A?.serviceWorkerRegistration),function to(I){return zo.apply(this,arguments)}(I)}),fr.apply(this,arguments)}function bi(){return(bi=(0,pe.Z)(function*(I,A,O){const Y=function ro(I){switch(I){case M.NOTIFICATION_CLICKED:return"notification_open";case M.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(A);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:O[yn],message_name:O[vi],message_time:O[da],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function at(){return at=(0,pe.Z)(function*(I,A){const O=A.data;if(!O.isFirebaseMessaging)return;I.onMessageHandler&&O.messageType===M.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(B(O)):I.onMessageHandler.next(B(O)));const Y=O.data;(function ke(I){return"object"==typeof I&&!!I&&yn in I})(Y)&&"1"===Y["google.c.a.e"]&&(yield function Mr(I,A,O){return bi.apply(this,arguments)}(I,O.messageType,Y))}),at.apply(this,arguments)}const wi="@firebase/messaging",pa=I=>{const A=new Er(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function Po(I,A){return at.apply(this,arguments)}(A,O)),A},xt=I=>{const A=I.getProvider("messaging").getImmediate();return{getToken:Y=>function Gs(I,A){return fr.apply(this,arguments)}(A,Y)}};function Fa(){return wt.apply(this,arguments)}function wt(){return(wt=(0,pe.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ht(){(0,ge.Xd)(new j.wA("messaging",pa,"PUBLIC")),(0,ge.Xd)(new j.wA("messaging-internal",xt,"PRIVATE")),(0,ge.KN)(wi,"0.12.4"),(0,ge.KN)(wi,"0.12.4","esm2017")}();const Qa="analytics",ga="firebase_id",es="origin",Ad=6e4,Pi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mu="https://www.googletagmanager.com/gtag/js",St=new ne.Yd("@firebase/analytics"),zi=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function $r(I){if(!I.startsWith(mu)){const A=zi.create("invalid-gtag-resource",{gtagURL:I});return St.warn(A.message),""}return I}function Nt(I){return Promise.all(I.map(A=>A.catch(O=>O)))}function _t(){return(_t=(0,pe.Z)(function*(I,A,O,Y,ce,_e){const Fe=Y[ce];try{if(Fe)yield A[Fe];else{const Et=(yield Nt(O)).find(Gt=>Gt.measurementId===ce);Et&&(yield A[Et.appId])}}catch(Tt){St.error(Tt)}I("config",ce,_e)})).apply(this,arguments)}function ya(){return(ya=(0,pe.Z)(function*(I,A,O,Y,ce){try{let _e=[];if(ce&&ce.send_to){let Fe=ce.send_to;Array.isArray(Fe)||(Fe=[Fe]);const Tt=yield Nt(O);for(const Et of Fe){const Gt=Tt.find(wn=>wn.measurementId===Et),fn=Gt&&A[Gt.appId];if(!fn){_e=[];break}_e.push(fn)}}0===_e.length&&(_e=Object.values(A)),yield Promise.all(_e),I("event",Y,ce||{})}catch(_e){St.error(_e)}})).apply(this,arguments)}const oc=30,uc=new class ac{constructor(A={},O=1e3){this.throttleMetadata=A,this.intervalMillis=O}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,O){this.throttleMetadata[A]=O}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function Ws(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Kn(){return(Kn=(0,pe.Z)(function*(I){var A;const{appId:O,apiKey:Y}=I,ce={method:"GET",headers:Ws(Y)},_e=Pi.replace("{app-id}",O),Fe=yield fetch(_e,ce);if(200!==Fe.status&&304!==Fe.status){let Tt="";try{const Et=yield Fe.json();null!==(A=Et.error)&&void 0!==A&&A.message&&(Tt=Et.error.message)}catch{}throw zi.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:Tt})}return Fe.json()})).apply(this,arguments)}function io(){return(io=(0,pe.Z)(function*(I,A=uc,O){const{appId:Y,apiKey:ce,measurementId:_e}=I.options;if(!Y)throw zi.create("no-app-id");if(!ce){if(_e)return{measurementId:_e,appId:Y};throw zi.create("no-api-key")}const Fe=A.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Tt=new ju;return setTimeout((0,pe.Z)(function*(){Tt.abort()}),void 0!==O?O:Ad),Si({appId:Y,apiKey:ce,measurementId:_e},Fe,Tt,A)})).apply(this,arguments)}function Si(I,A,O){return Se.apply(this,arguments)}function Se(){return Se=(0,pe.Z)(function*(I,{throttleEndTimeMillis:A,backoffCount:O},Y,ce=uc){var _e;const{appId:Fe,measurementId:Tt}=I;try{yield function Zo(I,A){return new Promise((O,Y)=>{const ce=Math.max(A-Date.now(),0),_e=setTimeout(O,ce);I.addEventListener(()=>{clearTimeout(_e),Y(zi.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(Y,A)}catch(Et){if(Tt)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Et?.message}]`),{appId:Fe,measurementId:Tt};throw Et}try{const Et=yield function nt(I){return Kn.apply(this,arguments)}(I);return ce.deleteThrottleMetadata(Fe),Et}catch(Et){const Gt=Et;if(!function Jr(I){if(!(I instanceof fe.ZR&&I.customData))return!1;const A=Number(I.customData.httpStatus);return 429===A||500===A||503===A||504===A}(Gt)){if(ce.deleteThrottleMetadata(Fe),Tt)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Tt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:Fe,measurementId:Tt};throw Et}const fn=503===Number(null===(_e=Gt?.customData)||void 0===_e?void 0:_e.httpStatus)?(0,fe.$s)(O,ce.intervalMillis,oc):(0,fe.$s)(O,ce.intervalMillis),wn={throttleEndTimeMillis:Date.now()+fn,backoffCount:O+1};return ce.setThrottleMetadata(Fe,wn),St.debug(`Calling attemptFetch again in ${fn} millis`),Si(I,wn,Y,ce)}}),Se.apply(this,arguments)}class ju{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}let Fo,T;function Ja(){return(Ja=(0,pe.Z)(function*(I,A,O,Y,ce){if(ce&&ce.global)I("event",O,Y);else{const _e=yield A;I("event",O,Object.assign(Object.assign({},Y),{send_to:_e}))}})).apply(this,arguments)}function Me(){return(Me=(0,pe.Z)(function*(){if(!(0,fe.hl)())return St.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(I){return St.warn(zi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function It(){return It=(0,pe.Z)(function*(I,A,O,Y,ce,_e,Fe){var Tt;const Et=function Bu(I){return io.apply(this,arguments)}(I);Et.then(vs=>{O[vs.measurementId]=vs.appId,I.options.measurementId&&vs.measurementId!==I.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vs=>St.error(vs)),A.push(Et);const Gt=function ee(){return Me.apply(this,arguments)}().then(vs=>{if(vs)return Y.getId()}),[fn,wn]=yield Promise.all([Et,Gt]);(function Do(I){const A=window.document.getElementsByTagName("script");for(const O of Object.values(A))if(O.src&&O.src.includes(mu)&&O.src.includes(I))return O;return null})(_e)||function ar(I,A){const O=function ma(I,A){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(I,A)),O}("firebase-js-sdk-policy",{createScriptURL:$r}),Y=document.createElement("script"),ce=`${mu}?l=${I}&id=${A}`;Y.src=O?O?.createScriptURL(ce):ce,Y.async=!0,document.head.appendChild(Y)}(_e,fn.measurementId),T&&(ce("consent","default",T),function R(I){T=I}(void 0)),ce("js",new Date);const uo=null!==(Tt=Fe?.config)&&void 0!==Tt?Tt:{};return uo[es]="firebase",uo.update=!0,null!=wn&&(uo[ga]=wn),ce("config",fn.measurementId,uo),Fo&&(ce("set",Fo),function H(I){Fo=I}(void 0)),fn.measurementId}),It.apply(this,arguments)}class ln{constructor(A){this.app=A}_delete(){return delete jn[this.app.options.appId],Promise.resolve()}}let jn={},$n=[];const bo={};let vu,vr,ts="dataLayer",Lo=!1;function Ph(I,A,O){!function Md(){const I=[];if((0,fe.ru)()&&I.push("This is a browser extension environment."),(0,fe.zI)()||I.push("Cookies are not available."),I.length>0){const A=I.map((Y,ce)=>`(${ce+1}) ${Y}`).join(" "),O=zi.create("invalid-analytics-context",{errorInfo:A});St.warn(O.message)}}();const Y=I.options.appId;if(!Y)throw zi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw zi.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jn[Y])throw zi.create("already-exists",{id:Y});if(!Lo){!function on(I){let A=[];Array.isArray(window[I])?A=window[I]:window[I]=A}(ts);const{wrappedGtag:_e,gtagCore:Fe}=function Uu(I,A,O,Y,ce){let _e=function(...Fe){window[Y].push(arguments)};return window[ce]&&"function"==typeof window[ce]&&(_e=window[ce]),window[ce]=function ko(I,A,O,Y){function _e(){return _e=(0,pe.Z)(function*(Fe,...Tt){try{if("event"===Fe){const[Et,Gt]=Tt;yield function Ko(I,A,O,Y,ce){return ya.apply(this,arguments)}(I,A,O,Et,Gt)}else if("config"===Fe){const[Et,Gt]=Tt;yield function oi(I,A,O,Y,ce,_e){return _t.apply(this,arguments)}(I,A,O,Y,Et,Gt)}else if("consent"===Fe){const[Et]=Tt;I("consent","update",Et)}else if("get"===Fe){const[Et,Gt,fn]=Tt;I("get",Et,Gt,fn)}else if("set"===Fe){const[Et]=Tt;I("set",Et)}else I(Fe,...Tt)}catch(Et){St.error(Et)}}),_e.apply(this,arguments)}return function ce(Fe){return _e.apply(this,arguments)}}(_e,I,A,O),{gtagCore:_e,wrappedGtag:window[ce]}}(jn,$n,bo,ts,"gtag");vr=_e,vu=Fe,Lo=!0}return jn[Y]=function be(I,A,O,Y,ce,_e,Fe){return It.apply(this,arguments)}(I,$n,bo,A,vu,ts,O),new ln(I)}function Al(){return _u.apply(this,arguments)}function _u(){return(_u=(0,pe.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const eu="@firebase/analytics";!function xr(){(0,ge.Xd)(new j.wA(Qa,(A,{options:O})=>Ph(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ge.Xd)(new j.wA("analytics-internal",function I(A){try{const O=A.getProvider(Qa).getImmediate();return{logEvent:(Y,ce,_e)=>function zu(I,A,O,Y){I=(0,fe.m9)(I),function Yo(I,A,O,Y,ce){return Ja.apply(this,arguments)}(vr,jn[I.app.options.appId],A,O,Y).catch(ce=>St.error(ce))}(O,Y,ce,_e)}}catch(O){throw zi.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ge.KN)(eu,"0.10.0"),(0,ge.KN)(eu,"0.10.0","esm2017")}();var jc=W(7394);class wu extends jc.w0{constructor(A,O){super()}schedule(A,O=0){return this}}const ns={setInterval(I,A,...O){const{delegate:Y}=ns;return Y?.setInterval?Y.setInterval(I,A,...O):setInterval(I,A,...O)},clearInterval(I){const{delegate:A}=ns;return(A?.clearInterval||clearInterval)(I)},delegate:void 0};var xd=W(9039);class $c extends wu{constructor(A,O){super(A,O),this.scheduler=A,this.work=O,this.pending=!1}schedule(A,O=0){var Y;if(this.closed)return this;this.state=A;const ce=this.id,_e=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(_e,ce,O)),this.pending=!0,this.delay=O,this.id=null!==(Y=this.id)&&void 0!==Y?Y:this.requestAsyncId(_e,this.id,O),this}requestAsyncId(A,O,Y=0){return ns.setInterval(A.flush.bind(A,this),Y)}recycleAsyncId(A,O,Y=0){if(null!=Y&&this.delay===Y&&!1===this.pending)return O;null!=O&&ns.clearInterval(O)}execute(A,O){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Y=this._execute(A,O);if(Y)return Y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(A,O){let ce,Y=!1;try{this.work(A)}catch(_e){Y=!0,ce=_e||new Error("Scheduled action threw falsy error")}if(Y)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:A,scheduler:O}=this,{actions:Y}=O;this.work=this.state=this.scheduler=null,this.pending=!1,(0,xd.P)(Y,this),null!=A&&(this.id=this.recycleAsyncId(O,A,null)),this.delay=null,super.unsubscribe()}}}const Nd={now:()=>(Nd.delegate||Date).now(),delegate:void 0};class so{constructor(A,O=so.now){this.schedulerActionCtor=A,this.now=O}schedule(A,O=0,Y){return new this.schedulerActionCtor(this,A).schedule(Y,O)}}so.now=Nd.now;class ci extends so{constructor(A,O=so.now){super(A,O),this.actions=[],this._active=!1}flush(A){const{actions:O}=this;if(this._active)return void O.push(A);let Y;this._active=!0;do{if(Y=A.execute(A.state,A.delay))break}while(A=O.shift());if(this._active=!1,Y){for(;A=O.shift();)A.unsubscribe();throw Y}}}const Iu=new class oo extends ci{}(class rs extends $c{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(A,O,Y):(A.flush(this),0)}}),wa=new ci($c);var Ia=W(5592),ea=W(9397),Va=W(5137),Ea=W(3093);const qi=new y.GfV("7.6.1"),Ua="__angularfire_symbol__analyticsIsSupportedValue",qs="__angularfire_symbol__analyticsIsSupported",Du="__angularfire_symbol__remoteConfigIsSupportedValue",Da="__angularfire_symbol__remoteConfigIsSupported",ta="__angularfire_symbol__messagingIsSupportedValue",Ba="__angularfire_symbol__messagingIsSupported";function Gc(I,A,O){if(A){if(1===A.length)return A[0];const _e=A.filter(Fe=>Fe.app===O);if(1===_e.length)return _e[0]}return O.container.getProvider(I).getImmediate({optional:!0})}globalThis[qs]||(globalThis[qs]=Al().then(I=>globalThis[Ua]=I).catch(()=>globalThis[Ua]=!1)),globalThis[Ba]||(globalThis[Ba]=Fa().then(I=>globalThis[ta]=I).catch(()=>globalThis[ta]=!1)),globalThis[Da]||(globalThis[Da]=Xs().then(I=>globalThis[Du]=I).catch(()=>globalThis[Du]=!1));const Wu=(I,A)=>{const O=A?[A]:(0,ie.C6)(),Y=[];return O.forEach(ce=>{ce.container.getProvider(I).instances.forEach(Fe=>{Y.includes(Fe)||Y.push(Fe)})}),Y};function ao(){}class To{constructor(A,O=Iu){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,Y){const ce=this.zone;return this.delegate.schedule(function(Fe){ce.runGuarded(()=>{A.apply(this,[Fe])})},O,Y)}}class Rd{constructor(A){this.zone=A,this.task=null}call(A,O){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),O.pipe((0,ea.b)({next:Y,complete:Y,error:Y})).subscribe(A).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xl=(()=>{class I{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new To(Zone.current)),this.insideAngular=O.run(()=>new To(Zone.current,wa)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(O){return new(O||I)(y.LFG(y.R0b))},I.\u0275prov=y.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function ba(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Ii(I){return ba().ngZone.run(()=>I())}function Ta(I){return ba(),function bu(I){return function(O){return(O=O.lift(new Rd(I.ngZone))).pipe((0,Va.R)(I.outsideAngular),(0,Ea.Q)(I.insideAngular))}}(ba())(I)}const Nl=(I,A)=>function(){const Y=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Ii(()=>I.apply(void 0,Y))},nu=(I,A)=>function(){let O;const Y=arguments;for(let _e=0;_e<arguments.length;_e++)"function"==typeof Y[_e]&&(A&&(O||(O=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)))),Y[_e]=Nl(Y[_e],O));const ce=function Cu(I){return ba().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,Y));if(!A){if(ce instanceof Ia.y){const _e=ba();return ce.pipe((0,Va.R)(_e.outsideAngular),(0,Ea.Q)(_e.insideAngular))}return Ii(()=>ce)}return ce instanceof Ia.y?ce.pipe(Ta):ce instanceof Promise?Ii(()=>new Promise((_e,Fe)=>ce.then(Tt=>Ii(()=>_e(Tt)),Tt=>Ii(()=>Fe(Tt))))):"function"==typeof ce&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),ce.apply(this,arguments)}:Ii(()=>ce)}},9058:(zt,qe,W)=>{W.d(qe,{$s:()=>dr,BH:()=>Oe,L:()=>He,LL:()=>ot,P0:()=>Sn,Pz:()=>et,Sg:()=>Be,US:()=>j,ZR:()=>Ge,aH:()=>Ie,b$:()=>Cr,eu:()=>Ne,hl:()=>Ee,m9:()=>Qn,ne:()=>Un,pd:()=>tn,q4:()=>Tn,ru:()=>Ln,tV:()=>ae,uI:()=>$e,vZ:()=>Vn,w1:()=>tt,xO:()=>_n,xb:()=>Cn,z$:()=>Je,zI:()=>Ue,zd:()=>tr});const ge=function(oe){const z=[];let K=0;for(let q=0;q<oe.length;q++){let Q=oe.charCodeAt(q);Q<128?z[K++]=Q:Q<2048?(z[K++]=Q>>6|192,z[K++]=63&Q|128):55296==(64512&Q)&&q+1<oe.length&&56320==(64512&oe.charCodeAt(q+1))?(Q=65536+((1023&Q)<<10)+(1023&oe.charCodeAt(++q)),z[K++]=Q>>18|240,z[K++]=Q>>12&63|128,z[K++]=Q>>6&63|128,z[K++]=63&Q|128):(z[K++]=Q>>12|224,z[K++]=Q>>6&63|128,z[K++]=63&Q|128)}return z},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,z){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let Q=0;Q<oe.length;Q+=3){const ve=oe[Q],Xe=Q+1<oe.length,dt=Xe?oe[Q+1]:0,$t=Q+2<oe.length,qt=$t?oe[Q+2]:0;let gr=(15&dt)<<2|qt>>6,Ir=63&qt;$t||(Ir=64,Xe||(gr=64)),q.push(K[ve>>2],K[(3&ve)<<4|dt>>4],K[gr],K[Ir])}return q.join("")},encodeString(oe,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(oe):this.encodeByteArray(ge(oe),z)},decodeString(oe,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(oe):function(oe){const z=[];let K=0,q=0;for(;K<oe.length;){const Q=oe[K++];if(Q<128)z[q++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const ve=oe[K++];z[q++]=String.fromCharCode((31&Q)<<6|63&ve)}else if(Q>239&&Q<365){const $t=((7&Q)<<18|(63&oe[K++])<<12|(63&oe[K++])<<6|63&oe[K++])-65536;z[q++]=String.fromCharCode(55296+($t>>10)),z[q++]=String.fromCharCode(56320+(1023&$t))}else{const ve=oe[K++],Xe=oe[K++];z[q++]=String.fromCharCode((15&Q)<<12|(63&ve)<<6|63&Xe)}}return z.join("")}(this.decodeStringToByteArray(oe,z))},decodeStringToByteArray(oe,z){this.init_();const K=z?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let Q=0;Q<oe.length;){const ve=K[oe.charAt(Q++)],dt=Q<oe.length?K[oe.charAt(Q)]:0;++Q;const qt=Q<oe.length?K[oe.charAt(Q)]:64;++Q;const rn=Q<oe.length?K[oe.charAt(Q)]:64;if(++Q,null==ve||null==dt||null==qt||null==rn)throw new ne;q.push(ve<<2|dt>>4),64!==qt&&(q.push(dt<<4&240|qt>>2),64!==rn&&q.push(qt<<6&192|rn))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(oe){return function(oe){const z=ge(oe);return j.encodeByteArray(z,!0)}(oe).replace(/\./g,"")},ae=function(oe){try{return j.decodeString(oe,!0)}catch(z){console.error("base64Decode failed: ",z)}return null},Ut=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=oe&&ae(oe[1]);return z&&JSON.parse(z)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Tn=oe=>{var z,K;return null===(K=null===(z=Ut())||void 0===z?void 0:z.emulatorHosts)||void 0===K?void 0:K[oe]},Sn=oe=>{const z=Tn(oe);if(!z)return;const K=z.lastIndexOf(":");if(K<=0||K+1===z.length)throw new Error(`Invalid host ${z} with no separate hostname and port!`);const q=parseInt(z.substring(K+1),10);return"["===z[0]?[z.substring(1,K-1),q]:[z.substring(0,K),q]},Ie=()=>{var oe;return null===(oe=Ut())||void 0===oe?void 0:oe.config},et=oe=>{var z;return null===(z=Ut())||void 0===z?void 0:z[`_${oe}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,K)=>{this.resolve=z,this.reject=K})}wrapCallback(z){return(K,q)=>{K?this.reject(K):this.resolve(q),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(K):z(K,q))}}}function Be(oe,z){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=z||"demo-project",Q=oe.iat||0,ve=oe.sub||oe.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:Q,exp:Q+3600,auth_time:Q,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(Xe)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ln(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){const oe=Je();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((oe,z)=>{try{let K=!0;const q="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(q);Q.onsuccess=()=>{Q.result.close(),K||self.indexedDB.deleteDatabase(q),oe(!0)},Q.onupgradeneeded=()=>{K=!1},Q.onerror=()=>{var ve;z((null===(ve=Q.error)||void 0===ve?void 0:ve.message)||"")}}catch(K){z(K)}})}function Ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ge extends Error{constructor(z,K,q){super(K),this.code=z,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ot.prototype.create)}}class ot{constructor(z,K,q){this.service=z,this.serviceName=K,this.errors=q}create(z,...K){const q=K[0]||{},Q=`${this.service}/${z}`,ve=this.errors[z],Xe=ve?function Ot(oe,z){return oe.replace(an,(K,q)=>{const Q=z[q];return null!=Q?String(Q):`<${q}?>`})}(ve,q):"Error";return new Ge(Q,`${this.serviceName}: ${Xe} (${Q}).`,q)}}const an=/\{\$([^}]+)}/g;function Cn(oe){for(const z in oe)if(Object.prototype.hasOwnProperty.call(oe,z))return!1;return!0}function Vn(oe,z){if(oe===z)return!0;const K=Object.keys(oe),q=Object.keys(z);for(const Q of K){if(!q.includes(Q))return!1;const ve=oe[Q],Xe=z[Q];if(kt(ve)&&kt(Xe)){if(!Vn(ve,Xe))return!1}else if(ve!==Xe)return!1}for(const Q of q)if(!K.includes(Q))return!1;return!0}function kt(oe){return null!==oe&&"object"==typeof oe}function _n(oe){const z=[];for(const[K,q]of Object.entries(oe))Array.isArray(q)?q.forEach(Q=>{z.push(encodeURIComponent(K)+"="+encodeURIComponent(Q))}):z.push(encodeURIComponent(K)+"="+encodeURIComponent(q));return z.length?"&"+z.join("&"):""}function tr(oe){const z={};return oe.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[Q,ve]=q.split("=");z[decodeURIComponent(Q)]=decodeURIComponent(ve)}}),z}function tn(oe){const z=oe.indexOf("?");if(!z)return"";const K=oe.indexOf("#",z);return oe.substring(z,K>0?K:void 0)}function Un(oe,z){const K=new pr(oe,z);return K.subscribe.bind(K)}class pr{constructor(z,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{z(this)}).catch(q=>{this.error(q)})}next(z){this.forEachObserver(K=>{K.next(z)})}error(z){this.forEachObserver(K=>{K.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,K,q){let Q;if(void 0===z&&void 0===K&&void 0===q)throw new Error("Missing Observer.");Q=function Bn(oe,z){if("object"!=typeof oe||null===oe)return!1;for(const K of z)if(K in oe&&"function"==typeof oe[K])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:K,complete:q},void 0===Q.next&&(Q.next=nr),void 0===Q.error&&(Q.error=nr),void 0===Q.complete&&(Q.complete=nr);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),ve}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,z)}sendOne(z,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{K(this.observers[z])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nr(){}const qr=1e3,jt=2,Kr=144e5,Di=.5;function dr(oe,z=qr,K=jt){const q=z*Math.pow(K,oe),Q=Math.round(Di*q*(Math.random()-.5)*2);return Math.min(Kr,q+Q)}function Qn(oe){return oe&&oe._delegate?oe._delegate:oe}},9426:(zt,qe,W)=>{W.d(qe,{q:()=>ie});var y=W(4946);let ie=(()=>{class pe{static#e=this.\u0275fac=function(j){return new(j||pe)};static#t=this.\u0275cmp=y.Xpm({type:pe,selectors:[["app-error"]],decls:2,vars:0,consts:[[2,"width","100%","height","100vh"]],template:function(j,ne){1&j&&(y.TgZ(0,"div",0),y._uU(1," .\n"),y.qZA())},styles:["*[_ngcontent-%COMP%]{background:url(error.60012abed56f6bb0.jpg);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center}"]})}return pe})()},2333:(zt,qe,W)=>{W.d(qe,{e:()=>ge});var y=W(5861),ie=W(5609),pe=W(4946);let ge=(()=>{class fe{constructor(ne){this.auth=ne,this.email=""}login(ne,Ke){let He;try{this.email=ne,He=(0,ie.e5)(this.auth,ne,Ke)}catch(ae){console.log("Error al loguearse: ",ae),He=null}return He}signup(ne,Ke){var He=this;return(0,y.Z)(function*(){let ae;try{ae=(0,ie.Xb)(He.auth,ne,Ke)}catch(se){console.log("Error en register: ",se),ae=null}return ae})()}logout(){let ne;try{ne=(0,ie.w7)(this.auth),this.email=""}catch(Ke){console.log("Error al desloguarse: ",Ke),ne=null}return ne}get_email(){return this.email}static#e=this.\u0275fac=function(Ke){return new(Ke||fe)(pe.LFG(ie.gx))};static#t=this.\u0275prov=pe.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},8537:(zt,qe,W)=>{W.d(qe,{C:()=>ge});var y=W(5861),ie=W(4073),pe=W(4946);let ge=(()=>{class fe{static guardarFs(ne,Ke,He,ae="",se=""){let me,Ve=(new Date).toLocaleString("es-AR",{timeZone:"America/Argentina/Buenos_Aires"});me=""!=ae?{usuario:Ke,fecha:Ve,mensaje:ae}:""!=se?{usuario:Ke,fecha:Ve,respuesta:se}:{usuario:Ke,fecha:Ve};let lt=(0,ie.hJ)(He,ne);return(0,ie.ET)(lt,me),me}static traerFs(ne,Ke,He=!1){return(0,y.Z)(function*(){const ae=(0,ie.hJ)(Ke,ne);let se=(0,ie.IO)(ae);He&&(se=(0,ie.IO)(ae,(0,ie.Xo)("fecha")));try{const Ae=yield(0,ie.PL)(se),Ve=[];return Ae.forEach(me=>{Ve.push(me.data())}),Ve}catch(Ae){throw console.error("Error al obtener datos de Firestore:",Ae),Ae}})()}static#e=this.\u0275fac=function(Ke){return new(Ke||fe)};static#t=this.\u0275prov=pe.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"})}return fe})()},4069:(zt,qe,W)=>{var y=W(6593),ie=W(8589),pe=W(9426),ge=W(95),fe=W(8537),j=W(4946),ne=W(2333),Ke=W(4073),He=W(6814);function ae(Ie,et){if(1&Ie&&(j.TgZ(0,"div",14)(1,"div",15),j._uU(2,"!"),j.qZA(),j.TgZ(3,"div",16),j._uU(4),j.qZA()()),2&Ie){const Oe=j.oxw();j.xp6(4),j.Oqu(Oe.mensajeError)}}function Ae(Ie,et){if(1&Ie&&(j.TgZ(0,"div",13)(1,"div",14),j._uU(2,"!"),j.qZA(),j.TgZ(3,"div",15),j._uU(4),j.qZA()()),2&Ie){const Oe=j.oxw();j.xp6(4),j.Oqu(Oe.mensajeError)}}const me=[{path:"home",loadChildren:()=>Promise.all([W.e(285),W.e(899)]).then(W.bind(W,8899)).then(Ie=>Ie.HomeModule)},{path:"juegos",loadChildren:()=>Promise.all([W.e(285),W.e(592),W.e(494)]).then(W.bind(W,2494)).then(Ie=>Ie.JuegosModule)},{path:"error",component:pe.q},{path:"login",component:(()=>{class Ie{constructor(Oe,Be,Je,$e){this.auth=Oe,this.router=Be,this.firestore=$e,this.formValido=!0,this.correo="",this.password="",this.mensajeError="",this.form=Je.group({email:["",[ge.kI.required,ge.kI.email]],password:["",ge.kI.required]})}ingresar(){this.form.valid?this.auth.login(this.correo,this.password)?.then(Oe=>{fe.C.guardarFs("logsUsuarios",this.correo,this.firestore),this.correo="",this.password="",setTimeout(()=>{this.router.navigate(["/home"])},1500)}).catch(Oe=>{switch(console.log(Oe),this.formValido=!1,Oe.code){case"auth/invalid-email":this.mensajeError="Correo inv\xe1lido.";break;case"auth/missing-password":this.mensajeError="Contrase\xf1a inv\xe1lida.";break;case"auth/invalid-login-credentials":this.mensajeError="Correo y/o contrase\xf1a incorrectos."}setTimeout(()=>{this.formValido=!0},3e3)}):(this.formValido=!1,this.mensajeError="Complete los campos correctamente.",setTimeout(()=>{this.formValido=!0},1500))}cambiarSeleccion(Oe){switch(Oe){case"admin":this.correo="admin@admin.com",this.password="111111";break;case"invitado":this.correo="invitado@invitado.com",this.password="222222";break;case"usuario":this.correo="usuario@usuario.com",this.password="333333";break;case"anonimo":this.correo="anonimo@anonimo.com",this.password="444444";break;case"tester":this.correo="tester@tester.com",this.password="555555";break;case"ninguno":this.correo="",this.password=""}}static#e=this.\u0275fac=function(Be){return new(Be||Ie)(j.Y36(ne.e),j.Y36(ie.F0),j.Y36(ge.qu),j.Y36(Ke.gg))};static#t=this.\u0275cmp=j.Xpm({type:Ie,selectors:[["app-login"]],decls:24,vars:4,consts:[[1,"container-gral"],[1,"singin",3,"formGroup","ngSubmit"],["src","../../../assets/videojuego.png","routerLink","/home",1,"image"],["id","sInicio"],[1,"container-input"],[1,"input-container"],["type","email","formControlName","email","placeholder","Ingrese su correo","required","",1,"Linput",3,"ngModel","ngModelChange"],["type","password","placeholder","Ingrese su contrase\xf1a","formControlName","password","required","",1,"Linput",3,"ngModel","ngModelChange"],["type","submit","id","btn"],[1,"pregunta"],["href","/registro","id","registro"],[1,"botones-container"],[1,"boton",3,"click"],["class","error-toast",4,"ngIf"],[1,"error-toast"],[1,"error-toast-icon"],[1,"error-toast-message"]],template:function(Be,Je){1&Be&&(j.TgZ(0,"div",0)(1,"form",1),j.NdJ("ngSubmit",function(){return Je.ingresar()}),j._UZ(2,"img",2),j.TgZ(3,"span",3),j._uU(4,"Inciar Sesi\xf3n"),j.qZA(),j.TgZ(5,"div",4)(6,"div",5)(7,"input",6),j.NdJ("ngModelChange",function(Ye){return Je.correo=Ye}),j.qZA()(),j.TgZ(8,"div",5)(9,"input",7),j.NdJ("ngModelChange",function(Ye){return Je.password=Ye}),j.qZA()(),j.TgZ(10,"button",8),j._uU(11,"Ingresar"),j.qZA()(),j.TgZ(12,"div",9)(13,"a"),j._uU(14,"\xbfNo tenes cuenta todav\xeda? "),j.qZA(),j.TgZ(15,"a",10),j._uU(16," Registrate"),j.qZA()(),j.TgZ(17,"div",11)(18,"button",12),j.NdJ("click",function(){return Je.cambiarSeleccion("admin")}),j.qZA(),j.TgZ(19,"button",12),j.NdJ("click",function(){return Je.cambiarSeleccion("invitado")}),j.qZA(),j.TgZ(20,"button",12),j.NdJ("click",function(){return Je.cambiarSeleccion("usuario")}),j.qZA(),j.TgZ(21,"button",12),j.NdJ("click",function(){return Je.cambiarSeleccion("anonimo")}),j.qZA(),j.TgZ(22,"button",12),j.NdJ("click",function(){return Je.cambiarSeleccion("tester")}),j.qZA()()(),j.YNc(23,ae,5,1,"div",13),j.qZA()),2&Be&&(j.xp6(1),j.Q6J("formGroup",Je.form),j.xp6(6),j.Q6J("ngModel",Je.correo),j.xp6(2),j.Q6J("ngModel",Je.password),j.xp6(14),j.Q6J("ngIf",!Je.formValido))},dependencies:[He.O5,ie.rH,ge._Y,ge.Fj,ge.JJ,ge.JL,ge.Q7,ge.sg,ge.u],styles:[".container-gral[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;background-image:url(https://i.pinimg.com/originals/13/7e/45/137e45c33cb5939abcd3ff4d8f858c63.gif);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.singin[_ngcontent-%COMP%]{position:absolute;width:25%;height:75%;margin:0 auto;padding:20px;border-radius:10px;background-color:#4c3d5dcc;box-shadow:5px 5px 10px #000;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.input-container[_ngcontent-%COMP%]{text-align:center}.Linput[_ngcontent-%COMP%]{position:relative;margin:14px;padding:14px;width:21vw;border-radius:6px;border:none;font-size:16px;background-color:#c8bcfb;box-shadow:0 2px 6px #000;outline:none;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.Linput[_ngcontent-%COMP%]::placeholder{color:#000}.image[_ngcontent-%COMP%]{position:fixed;width:8%;height:auto;bottom:70%;left:46%;margin:0;cursor:pointer}#btn[_ngcontent-%COMP%]{position:absolute;border-radius:6px;border:none;margin-top:10%;padding:8px;width:40%;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;font-size:20px;background-color:#c8bcfb;box-shadow:0 2px 6px #000;top:90%;cursor:pointer}#btn[_ngcontent-%COMP%]:active{background-color:#fff;color:#432545}.boton[_ngcontent-%COMP%]{width:3.53vw;height:6.53vh;background-color:#c8bcfb;border:none;border-radius:6px;font-size:16px;margin:10px;display:inline-block;cursor:pointer;box-shadow:0 2px 6px #000}.botones-container[_ngcontent-%COMP%]{position:absolute;text-align:center;bottom:5%}.pregunta[_ngcontent-%COMP%]{position:fixed;bottom:13vh}#registro[_ngcontent-%COMP%]{color:#c8bcfb}#registro[_ngcontent-%COMP%]:active{color:#fff}#registro[_ngcontent-%COMP%]:visited{color:#261e4a}#registro[_ngcontent-%COMP%]:visited:active{color:#fff}.container-input[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;top:38%}#sInicio[_ngcontent-%COMP%]{position:absolute;top:28%;font-size:37px;color:#8984b1;text-shadow:2px 2px 5px rgb(0,0,0)}.error-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#f1815f;color:#fff;border-radius:5px;padding:10px;display:flex;align-items:center;box-shadow:0 2px 5px #0003}.error-toast-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.error-toast-message[_ngcontent-%COMP%]{font-size:16px}"]})}return Ie})()},{path:"registro",component:(()=>{class Ie{constructor(Oe,Be,Je,$e){this.auth=Oe,this.router=Be,this.firestore=$e,this.formValido=!0,this.correo="",this.password="",this.Rpassword="",this.mensajeError="",this.form=Je.group({email:["",[ge.kI.required,ge.kI.email]],password:["",ge.kI.required],Rpassword:["",ge.kI.required]})}ingresar(){this.form.valid&&this.password===this.Rpassword?this.auth.signup(this.correo,this.password)?.then(()=>{fe.C.guardarFs("logsUsuarios",this.correo,this.firestore),setTimeout(()=>{this.auth.login(this.correo,this.password)?.then(()=>{this.router.navigate(["/home"]),this.correo="",this.password="",this.Rpassword=""})},2e3)}).catch(Oe=>{switch(console.log(Oe),this.formValido=!1,Oe.code){case"auth/invalid-email":this.mensajeError="Correo inv\xe1lido.";break;case"auth/missing-password":this.mensajeError="Contrase\xf1a inv\xe1lida.";break;case"auth/invalid-login-credentials":this.mensajeError="Correo y/o contrase\xf1a incorrectos.";break;case"auth/email-already-in-use":this.mensajeError="El correo ya se encuentra en uso."}setTimeout(()=>{this.formValido=!0},3e3)}):(this.mensajeError="Complete los campos correctamente.",this.password!==this.Rpassword&&(this.mensajeError="Las contrase\xf1as no coinciden."),this.formValido=!1,setTimeout(()=>{this.formValido=!0,this.mensajeError=""},1500))}cambiarSeleccion(Oe){switch(Oe){case"admin":this.correo="admin@admin.com",this.password="111111";break;case"invitado":this.correo="invitado@invitado.com",this.password="222222";break;case"usuario":this.correo="usuario@usuario.com",this.password="333333";break;case"anonimo":this.correo="anonimo@anonimo.com",this.password="444444";break;case"tester":this.correo="tester@tester.com",this.password="555555";break;case"ninguno":this.correo="",this.password=""}}static#e=this.\u0275fac=function(Be){return new(Be||Ie)(j.Y36(ne.e),j.Y36(ie.F0),j.Y36(ge.qu),j.Y36(Ke.gg))};static#t=this.\u0275cmp=j.Xpm({type:Ie,selectors:[["app-registro"]],decls:20,vars:5,consts:[[1,"container-gral"],[1,"singin",3,"formGroup","ngSubmit"],["src","../../../assets/videojuego.png","routerLink","/home",1,"image"],["id","sInicio"],[1,"container-input"],[1,"input-container"],["type","email","formControlName","email","placeholder","Ingrese su correo","required","",1,"Linput",3,"ngModel","ngModelChange"],["type","password","placeholder","Ingrese su contrase\xf1a","formControlName","password","required","",1,"Linput",3,"ngModel","ngModelChange"],["type","password","placeholder","Reingrese su contrase\xf1a","formControlName","Rpassword","required","",1,"Linput",3,"ngModel","ngModelChange"],["type","submit","id","btn"],[1,"pregunta"],["href","/login","id","registro"],["class","error-toast",4,"ngIf"],[1,"error-toast"],[1,"error-toast-icon"],[1,"error-toast-message"]],template:function(Be,Je){1&Be&&(j.TgZ(0,"div",0)(1,"form",1),j.NdJ("ngSubmit",function(){return Je.ingresar()}),j._UZ(2,"img",2),j.TgZ(3,"span",3),j._uU(4,"Registro"),j.qZA(),j.TgZ(5,"div",4)(6,"div",5)(7,"input",6),j.NdJ("ngModelChange",function(Ye){return Je.correo=Ye}),j.qZA()(),j.TgZ(8,"div",5)(9,"input",7),j.NdJ("ngModelChange",function(Ye){return Je.password=Ye}),j.qZA()(),j.TgZ(10,"div",5)(11,"input",8),j.NdJ("ngModelChange",function(Ye){return Je.Rpassword=Ye}),j.qZA()(),j.TgZ(12,"button",9),j._uU(13,"Registrarse"),j.qZA()(),j.TgZ(14,"div",10)(15,"a"),j._uU(16,"\xbfYa ten\xe9s cuenta? "),j.qZA(),j.TgZ(17,"a",11),j._uU(18," Inicia sesi\xf3n"),j.qZA()()(),j.YNc(19,Ae,5,1,"div",12),j.qZA()),2&Be&&(j.xp6(1),j.Q6J("formGroup",Je.form),j.xp6(6),j.Q6J("ngModel",Je.correo),j.xp6(2),j.Q6J("ngModel",Je.password),j.xp6(2),j.Q6J("ngModel",Je.Rpassword),j.xp6(8),j.Q6J("ngIf",!Je.formValido))},dependencies:[He.O5,ie.rH,ge._Y,ge.Fj,ge.JJ,ge.JL,ge.Q7,ge.sg,ge.u],styles:[".container-gral[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;background-image:url(https://i.pinimg.com/originals/13/7e/45/137e45c33cb5939abcd3ff4d8f858c63.gif);background-size:cover;background-repeat:no-repeat;background-attachment:fixed;background-position:center;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.singin[_ngcontent-%COMP%]{position:absolute;width:25%;height:75%;margin:0 auto;padding:20px;border-radius:10px;background-color:#4c3d5dcc;box-shadow:5px 5px 10px #000;display:flex;flex-direction:column;justify-content:center;align-items:center;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.input-container[_ngcontent-%COMP%]{text-align:center}.Linput[_ngcontent-%COMP%]{position:relative;margin:6px;padding:14px;width:21vw;border-radius:6px;border:none;font-size:16px;background-color:#c8bcfb;box-shadow:0 2px 6px #000;outline:none;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif}.Linput[_ngcontent-%COMP%]::placeholder{color:#000}.image[_ngcontent-%COMP%]{position:fixed;width:8%;height:auto;bottom:70%;left:46%;margin:0;cursor:pointer}#btn[_ngcontent-%COMP%]{position:relative;border-radius:6px;border:none;margin-top:10%;padding:8px;width:40%;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif;font-size:20px;background-color:#c8bcfb;box-shadow:0 2px 6px #000;cursor:pointer}#btn[_ngcontent-%COMP%]:active{background-color:#fff;color:#432545}.boton[_ngcontent-%COMP%]{width:3.53vw;height:6.53vh;background-color:#c8bcfb;border:none;border-radius:6px;font-size:16px;margin:10px;display:inline-block;cursor:pointer;box-shadow:0 2px 6px #000}.pregunta[_ngcontent-%COMP%]{position:relative;top:34vh}#registro[_ngcontent-%COMP%]{color:#c8bcfb}#registro[_ngcontent-%COMP%]:active{color:#fff}#registro[_ngcontent-%COMP%]:visited{color:#261e4a}#registro[_ngcontent-%COMP%]:visited:active{color:#fff}.container-input[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;top:40%}#sInicio[_ngcontent-%COMP%]{position:absolute;top:28%;font-size:37px;color:#8984b1;text-shadow:2px 2px 5px rgb(0,0,0)}.error-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;background-color:#f1815f;color:#fff;border-radius:5px;padding:10px;display:flex;align-items:center;box-shadow:0 2px 5px #0003}.error-toast-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.error-toast-message[_ngcontent-%COMP%]{font-size:16px}"]})}return Ie})()},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",redirectTo:"error",pathMatch:"full"}];let lt=(()=>{class Ie{static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275mod=j.oAB({type:Ie});static#n=this.\u0275inj=j.cJS({imports:[ie.Bz.forRoot(me),ie.Bz]})}return Ie})(),ht=(()=>{class Ie{constructor(){this.title="TP"}static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275cmp=j.Xpm({type:Ie,selectors:[["app-root"]],decls:1,vars:0,template:function(Be,Je){1&Be&&j._UZ(0,"router-outlet")},dependencies:[ie.lC]})}return Ie})();var Wt=W(8726);const Ut_firebase={projectId:"sala-de-juegos-6c2dd",appId:"1:1021710030881:web:b7f8be8be4214b63e6ab60",storageBucket:"sala-de-juegos-6c2dd.appspot.com",apiKey:"AIzaSyA4ve1KRo6mEbUEh1vEPYSB0lilcdVIIqE",authDomain:"sala-de-juegos-6c2dd.firebaseapp.com",messagingSenderId:"1021710030881"};var Tn=W(5609);let Sn=(()=>{class Ie{static#e=this.\u0275fac=function(Be){return new(Be||Ie)};static#t=this.\u0275mod=j.oAB({type:Ie,bootstrap:[ht]});static#n=this.\u0275inj=j.cJS({imports:[y.b2,lt,ge.UX,ge.u5,(0,Wt.hX)(()=>(0,Wt.ZF)(Ut_firebase)),(0,Tn.AR)(()=>(0,Tn.v0)()),(0,Ke.Cm)(()=>(0,Ke.ad)())]})}return Ie})();y.q6().bootstrapModule(Sn).catch(Ie=>console.error(Ie))},5619:(zt,qe,W)=>{W.d(qe,{X:()=>ie});var y=W(8645);class ie extends y.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const fe=super._subscribe(ge);return!fe.closed&&ge.next(this._value),fe}getValue(){const{hasError:ge,thrownError:fe,_value:j}=this;if(ge)throw fe;return this._throwIfClosed(),j}next(ge){super.next(this._value=ge)}}},5592:(zt,qe,W)=>{W.d(qe,{y:()=>Ke});var y=W(305),ie=W(7394),pe=W(4850),ge=W(8407),fe=W(2653),j=W(4674),ne=W(1441);let Ke=(()=>{class Ae{constructor(me){me&&(this._subscribe=me)}lift(me){const lt=new Ae;return lt.source=this,lt.operator=me,lt}subscribe(me,lt,ht){const Wt=function se(Ae){return Ae&&Ae instanceof y.Lv||function ae(Ae){return Ae&&(0,j.m)(Ae.next)&&(0,j.m)(Ae.error)&&(0,j.m)(Ae.complete)}(Ae)&&(0,ie.Nn)(Ae)}(me)?me:new y.Hp(me,lt,ht);return(0,ne.x)(()=>{const{operator:Ut,source:Tn}=this;Wt.add(Ut?Ut.call(Wt,Tn):Tn?this._subscribe(Wt):this._trySubscribe(Wt))}),Wt}_trySubscribe(me){try{return this._subscribe(me)}catch(lt){me.error(lt)}}forEach(me,lt){return new(lt=He(lt))((ht,Wt)=>{const Ut=new y.Hp({next:Tn=>{try{me(Tn)}catch(Sn){Wt(Sn),Ut.unsubscribe()}},error:Wt,complete:ht});this.subscribe(Ut)})}_subscribe(me){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(me)}[pe.L](){return this}pipe(...me){return(0,ge.U)(me)(this)}toPromise(me){return new(me=He(me))((lt,ht)=>{let Wt;this.subscribe(Ut=>Wt=Ut,Ut=>ht(Ut),()=>lt(Wt))})}}return Ae.create=Ve=>new Ae(Ve),Ae})();function He(Ae){var Ve;return null!==(Ve=Ae??fe.config.Promise)&&void 0!==Ve?Ve:Promise}},8645:(zt,qe,W)=>{W.d(qe,{x:()=>ne});var y=W(5592),ie=W(7394);const ge=(0,W(2306).d)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=W(9039),j=W(1441);let ne=(()=>{class He extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Ae=new Ke(this,this);return Ae.operator=se,Ae}_throwIfClosed(){if(this.closed)throw new ge}next(se){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ae of this.currentObservers)Ae.next(se)}})}error(se){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().error(se)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Ae,isStopped:Ve,observers:me}=this;return Ae||Ve?ie.Lc:(this.currentObservers=null,me.push(se),new ie.w0(()=>{this.currentObservers=null,(0,fe.P)(me,se)}))}_checkFinalizedStatuses(se){const{hasError:Ae,thrownError:Ve,isStopped:me}=this;Ae?se.error(Ve):me&&se.complete()}asObservable(){const se=new y.y;return se.source=this,se}}return He.create=(ae,se)=>new Ke(ae,se),He})();class Ke extends ne{constructor(ae,se){super(),this.destination=ae,this.source=se}next(ae){var se,Ae;null===(Ae=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Ae||Ae.call(se,ae)}error(ae){var se,Ae;null===(Ae=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Ae||Ae.call(se,ae)}complete(){var ae,se;null===(se=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===se||se.call(ae)}_subscribe(ae){var se,Ae;return null!==(Ae=null===(se=this.source)||void 0===se?void 0:se.subscribe(ae))&&void 0!==Ae?Ae:ie.Lc}}},305:(zt,qe,W)=>{W.d(qe,{Hp:()=>ht,Lv:()=>Ae});var y=W(4674),ie=W(7394),pe=W(2653),ge=W(3894),fe=W(2420);const j=He("C",void 0,void 0);function He(Ie,et,Oe){return{kind:Ie,value:et,error:Oe}}var ae=W(7599),se=W(1441);class Ae extends ie.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,ie.Nn)(et)&&et.add(this)):this.destination=Sn}static create(et,Oe,Be){return new ht(et,Oe,Be)}next(et){this.isStopped?Tn(function Ke(Ie){return He("N",Ie,void 0)}(et),this):this._next(et)}error(et){this.isStopped?Tn(function ne(Ie){return He("E",void 0,Ie)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?Tn(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function me(Ie,et){return Ve.call(Ie,et)}class lt{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(et)}catch(Be){Wt(Be)}}error(et){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(et)}catch(Be){Wt(Be)}else Wt(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Oe){Wt(Oe)}}}class ht extends Ae{constructor(et,Oe,Be){let Je;if(super(),(0,y.m)(et)||!et)Je={next:et??void 0,error:Oe??void 0,complete:Be??void 0};else{let $e;this&&pe.config.useDeprecatedNextContext?($e=Object.create(et),$e.unsubscribe=()=>this.unsubscribe(),Je={next:et.next&&me(et.next,$e),error:et.error&&me(et.error,$e),complete:et.complete&&me(et.complete,$e)}):Je=et}this.destination=new lt(Je)}}function Wt(Ie){pe.config.useDeprecatedSynchronousErrorHandling?(0,se.O)(Ie):(0,ge.h)(Ie)}function Tn(Ie,et){const{onStoppedNotification:Oe}=pe.config;Oe&&ae.z.setTimeout(()=>Oe(Ie,et))}const Sn={closed:!0,next:fe.Z,error:function Ut(Ie){throw Ie},complete:fe.Z}},7394:(zt,qe,W)=>{W.d(qe,{Lc:()=>j,w0:()=>fe,Nn:()=>ne});var y=W(4674);const pe=(0,W(2306).d)(He=>function(se){He(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Ae,Ve)=>`${Ve+1}) ${Ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var ge=W(9039);class fe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const me of se)me.remove(this);else se.remove(this);const{initialTeardown:Ae}=this;if((0,y.m)(Ae))try{Ae()}catch(me){ae=me instanceof pe?me.errors:[me]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const me of Ve)try{Ke(me)}catch(lt){ae=ae??[],lt instanceof pe?ae=[...ae,...lt.errors]:ae.push(lt)}}if(ae)throw new pe(ae)}}add(ae){var se;if(ae&&ae!==this)if(this.closed)Ke(ae);else{if(ae instanceof fe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(ae)}}_hasParent(ae){const{_parentage:se}=this;return se===ae||Array.isArray(se)&&se.includes(ae)}_addParent(ae){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(ae),se):se?[se,ae]:ae}_removeParent(ae){const{_parentage:se}=this;se===ae?this._parentage=null:Array.isArray(se)&&(0,ge.P)(se,ae)}remove(ae){const{_finalizers:se}=this;se&&(0,ge.P)(se,ae),ae instanceof fe&&ae._removeParent(this)}}fe.EMPTY=(()=>{const He=new fe;return He.closed=!0,He})();const j=fe.EMPTY;function ne(He){return He instanceof fe||He&&"closed"in He&&(0,y.m)(He.remove)&&(0,y.m)(He.add)&&(0,y.m)(He.unsubscribe)}function Ke(He){(0,y.m)(He)?He():He.unsubscribe()}},2653:(zt,qe,W)=>{W.d(qe,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(zt,qe,W)=>{W.d(qe,{E:()=>ie});const ie=new(W(5592).y)(fe=>fe.complete())},2459:(zt,qe,W)=>{W.d(qe,{D:()=>et});var y=W(4829),ie=W(3093),pe=W(5137),j=W(5592),Ke=W(4971),He=W(4674),ae=W(7103);function Ae(Oe,Be){if(!Oe)throw new Error("Iterable cannot be null");return new j.y(Je=>{(0,ae.f)(Je,Be,()=>{const $e=Oe[Symbol.asyncIterator]();(0,ae.f)(Je,Be,()=>{$e.next().then(Ye=>{Ye.done?Je.complete():Je.next(Ye.value)})},0,!0)})})}var Ve=W(8382),me=W(4026),lt=W(4266),ht=W(3664),Wt=W(5726),Ut=W(9853),Tn=W(541);function et(Oe,Be){return Be?function Ie(Oe,Be){if(null!=Oe){if((0,Ve.c)(Oe))return function ge(Oe,Be){return(0,y.Xf)(Oe).pipe((0,pe.R)(Be),(0,ie.Q)(Be))}(Oe,Be);if((0,lt.z)(Oe))return function ne(Oe,Be){return new j.y(Je=>{let $e=0;return Be.schedule(function(){$e===Oe.length?Je.complete():(Je.next(Oe[$e++]),Je.closed||this.schedule())})})}(Oe,Be);if((0,me.t)(Oe))return function fe(Oe,Be){return(0,y.Xf)(Oe).pipe((0,pe.R)(Be),(0,ie.Q)(Be))}(Oe,Be);if((0,Wt.D)(Oe))return Ae(Oe,Be);if((0,ht.T)(Oe))return function se(Oe,Be){return new j.y(Je=>{let $e;return(0,ae.f)(Je,Be,()=>{$e=Oe[Ke.h](),(0,ae.f)(Je,Be,()=>{let Ye,dn;try{({value:Ye,done:dn}=$e.next())}catch(Ln){return void Je.error(Ln)}dn?Je.complete():Je.next(Ye)},0,!0)}),()=>(0,He.m)($e?.return)&&$e.return()})}(Oe,Be);if((0,Tn.L)(Oe))return function Sn(Oe,Be){return Ae((0,Tn.Q)(Oe),Be)}(Oe,Be)}throw(0,Ut.z)(Oe)}(Oe,Be):(0,y.Xf)(Oe)}},4829:(zt,qe,W)=>{W.d(qe,{Xf:()=>Ve});var y=W(7582),ie=W(4266),pe=W(4026),ge=W(5592),fe=W(8382),j=W(5726),ne=W(9853),Ke=W(3664),He=W(541),ae=W(4674),se=W(3894),Ae=W(4850);function Ve(Ie){if(Ie instanceof ge.y)return Ie;if(null!=Ie){if((0,fe.c)(Ie))return function me(Ie){return new ge.y(et=>{const Oe=Ie[Ae.L]();if((0,ae.m)(Oe.subscribe))return Oe.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,ie.z)(Ie))return function lt(Ie){return new ge.y(et=>{for(let Oe=0;Oe<Ie.length&&!et.closed;Oe++)et.next(Ie[Oe]);et.complete()})}(Ie);if((0,pe.t)(Ie))return function ht(Ie){return new ge.y(et=>{Ie.then(Oe=>{et.closed||(et.next(Oe),et.complete())},Oe=>et.error(Oe)).then(null,se.h)})}(Ie);if((0,j.D)(Ie))return Ut(Ie);if((0,Ke.T)(Ie))return function Wt(Ie){return new ge.y(et=>{for(const Oe of Ie)if(et.next(Oe),et.closed)return;et.complete()})}(Ie);if((0,He.L)(Ie))return function Tn(Ie){return Ut((0,He.Q)(Ie))}(Ie)}throw(0,ne.z)(Ie)}function Ut(Ie){return new ge.y(et=>{(function Sn(Ie,et){var Oe,Be,Je,$e;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,y.KL)(Ie);!(Be=yield Oe.next()).done;)if(et.next(Be.value),et.closed)return}catch(Ye){Je={error:Ye}}finally{try{Be&&!Be.done&&($e=Oe.return)&&(yield $e.call(Oe))}finally{if(Je)throw Je.error}}et.complete()})})(Ie,et).catch(Oe=>et.error(Oe))})}},2096:(zt,qe,W)=>{W.d(qe,{of:()=>pe});var y=W(4564),ie=W(2459);function pe(...ge){const fe=(0,y.yG)(ge);return(0,ie.D)(ge,fe)}},8251:(zt,qe,W)=>{W.d(qe,{x:()=>ie});var y=W(305);function ie(ge,fe,j,ne,Ke){return new pe(ge,fe,j,ne,Ke)}class pe extends y.Lv{constructor(fe,j,ne,Ke,He,ae){super(fe),this.onFinalize=He,this.shouldUnsubscribe=ae,this._next=j?function(se){try{j(se)}catch(Ae){fe.error(Ae)}}:super._next,this._error=Ke?function(se){try{Ke(se)}catch(Ae){fe.error(Ae)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(se){fe.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6328:(zt,qe,W)=>{W.d(qe,{b:()=>pe});var y=W(1631),ie=W(4674);function pe(ge,fe){return(0,ie.m)(fe)?(0,y.z)(ge,fe,1):(0,y.z)(ge,1)}},2181:(zt,qe,W)=>{W.d(qe,{h:()=>pe});var y=W(9360),ie=W(8251);function pe(ge,fe){return(0,y.e)((j,ne)=>{let Ke=0;j.subscribe((0,ie.x)(ne,He=>ge.call(fe,He,Ke++)&&ne.next(He)))})}},4716:(zt,qe,W)=>{W.d(qe,{x:()=>ie});var y=W(9360);function ie(pe){return(0,y.e)((ge,fe)=>{try{ge.subscribe(fe)}finally{fe.add(pe)}})}},7398:(zt,qe,W)=>{W.d(qe,{U:()=>pe});var y=W(9360),ie=W(8251);function pe(ge,fe){return(0,y.e)((j,ne)=>{let Ke=0;j.subscribe((0,ie.x)(ne,He=>{ne.next(ge.call(fe,He,Ke++))}))})}},7537:(zt,qe,W)=>{W.d(qe,{J:()=>pe});var y=W(1631),ie=W(2737);function pe(ge=1/0){return(0,y.z)(ie.y,ge)}},1631:(zt,qe,W)=>{W.d(qe,{z:()=>Ke});var y=W(7398),ie=W(4829),pe=W(9360),ge=W(7103),fe=W(8251),ne=W(4674);function Ke(He,ae,se=1/0){return(0,ne.m)(ae)?Ke((Ae,Ve)=>(0,y.U)((me,lt)=>ae(Ae,me,Ve,lt))((0,ie.Xf)(He(Ae,Ve))),se):("number"==typeof ae&&(se=ae),(0,pe.e)((Ae,Ve)=>function j(He,ae,se,Ae,Ve,me,lt,ht){const Wt=[];let Ut=0,Tn=0,Sn=!1;const Ie=()=>{Sn&&!Wt.length&&!Ut&&ae.complete()},et=Be=>Ut<Ae?Oe(Be):Wt.push(Be),Oe=Be=>{me&&ae.next(Be),Ut++;let Je=!1;(0,ie.Xf)(se(Be,Tn++)).subscribe((0,fe.x)(ae,$e=>{Ve?.($e),me?et($e):ae.next($e)},()=>{Je=!0},void 0,()=>{if(Je)try{for(Ut--;Wt.length&&Ut<Ae;){const $e=Wt.shift();lt?(0,ge.f)(ae,lt,()=>Oe($e)):Oe($e)}Ie()}catch($e){ae.error($e)}}))};return He.subscribe((0,fe.x)(ae,et,()=>{Sn=!0,Ie()})),()=>{ht?.()}}(Ae,Ve,He,se)))}},3093:(zt,qe,W)=>{W.d(qe,{Q:()=>ge});var y=W(7103),ie=W(9360),pe=W(8251);function ge(fe,j=0){return(0,ie.e)((ne,Ke)=>{ne.subscribe((0,pe.x)(Ke,He=>(0,y.f)(Ke,fe,()=>Ke.next(He),j),()=>(0,y.f)(Ke,fe,()=>Ke.complete(),j),He=>(0,y.f)(Ke,fe,()=>Ke.error(He),j)))})}},5137:(zt,qe,W)=>{W.d(qe,{R:()=>ie});var y=W(9360);function ie(pe,ge=0){return(0,y.e)((fe,j)=>{j.add(pe.schedule(()=>fe.subscribe(j),ge))})}},4664:(zt,qe,W)=>{W.d(qe,{w:()=>ge});var y=W(4829),ie=W(9360),pe=W(8251);function ge(fe,j){return(0,ie.e)((ne,Ke)=>{let He=null,ae=0,se=!1;const Ae=()=>se&&!He&&Ke.complete();ne.subscribe((0,pe.x)(Ke,Ve=>{He?.unsubscribe();let me=0;const lt=ae++;(0,y.Xf)(fe(Ve,lt)).subscribe(He=(0,pe.x)(Ke,ht=>Ke.next(j?j(Ve,ht,lt,me++):ht),()=>{He=null,Ae()}))},()=>{se=!0,Ae()}))})}},9397:(zt,qe,W)=>{W.d(qe,{b:()=>fe});var y=W(4674),ie=W(9360),pe=W(8251),ge=W(2737);function fe(j,ne,Ke){const He=(0,y.m)(j)||ne||Ke?{next:j,error:ne,complete:Ke}:j;return He?(0,ie.e)((ae,se)=>{var Ae;null===(Ae=He.subscribe)||void 0===Ae||Ae.call(He);let Ve=!0;ae.subscribe((0,pe.x)(se,me=>{var lt;null===(lt=He.next)||void 0===lt||lt.call(He,me),se.next(me)},()=>{var me;Ve=!1,null===(me=He.complete)||void 0===me||me.call(He),se.complete()},me=>{var lt;Ve=!1,null===(lt=He.error)||void 0===lt||lt.call(He,me),se.error(me)},()=>{var me,lt;Ve&&(null===(me=He.unsubscribe)||void 0===me||me.call(He)),null===(lt=He.finalize)||void 0===lt||lt.call(He)}))}):ge.y}},7599:(zt,qe,W)=>{W.d(qe,{z:()=>y});const y={setTimeout(ie,pe,...ge){const{delegate:fe}=y;return fe?.setTimeout?fe.setTimeout(ie,pe,...ge):setTimeout(ie,pe,...ge)},clearTimeout(ie){const{delegate:pe}=y;return(pe?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4971:(zt,qe,W)=>{W.d(qe,{h:()=>ie});const ie=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(zt,qe,W)=>{W.d(qe,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(zt,qe,W)=>{W.d(qe,{_6:()=>j,jO:()=>ge,yG:()=>fe});var y=W(4674);function pe(ne){return ne[ne.length-1]}function ge(ne){return(0,y.m)(pe(ne))?ne.pop():void 0}function fe(ne){return function ie(ne){return ne&&(0,y.m)(ne.schedule)}(pe(ne))?ne.pop():void 0}function j(ne,Ke){return"number"==typeof pe(ne)?ne.pop():Ke}},7453:(zt,qe,W)=>{W.d(qe,{D:()=>fe});const{isArray:y}=Array,{getPrototypeOf:ie,prototype:pe,keys:ge}=Object;function fe(ne){if(1===ne.length){const Ke=ne[0];if(y(Ke))return{args:Ke,keys:null};if(function j(ne){return ne&&"object"==typeof ne&&ie(ne)===pe}(Ke)){const He=ge(Ke);return{args:He.map(ae=>Ke[ae]),keys:He}}}return{args:ne,keys:null}}},9039:(zt,qe,W)=>{function y(ie,pe){if(ie){const ge=ie.indexOf(pe);0<=ge&&ie.splice(ge,1)}}W.d(qe,{P:()=>y})},2306:(zt,qe,W)=>{function y(ie){const ge=ie(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}W.d(qe,{d:()=>y})},2714:(zt,qe,W)=>{function y(ie,pe){return ie.reduce((ge,fe,j)=>(ge[fe]=pe[j],ge),{})}W.d(qe,{n:()=>y})},1441:(zt,qe,W)=>{W.d(qe,{O:()=>ge,x:()=>pe});var y=W(2653);let ie=null;function pe(fe){if(y.config.useDeprecatedSynchronousErrorHandling){const j=!ie;if(j&&(ie={errorThrown:!1,error:null}),fe(),j){const{errorThrown:ne,error:Ke}=ie;if(ie=null,ne)throw Ke}}else fe()}function ge(fe){y.config.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=fe)}},7103:(zt,qe,W)=>{function y(ie,pe,ge,fe=0,j=!1){const ne=pe.schedule(function(){ge(),j?ie.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ie.add(ne),!j)return ne}W.d(qe,{f:()=>y})},2737:(zt,qe,W)=>{function y(ie){return ie}W.d(qe,{y:()=>y})},4266:(zt,qe,W)=>{W.d(qe,{z:()=>y});const y=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},5726:(zt,qe,W)=>{W.d(qe,{D:()=>ie});var y=W(4674);function ie(pe){return Symbol.asyncIterator&&(0,y.m)(pe?.[Symbol.asyncIterator])}},4674:(zt,qe,W)=>{function y(ie){return"function"==typeof ie}W.d(qe,{m:()=>y})},8382:(zt,qe,W)=>{W.d(qe,{c:()=>pe});var y=W(4850),ie=W(4674);function pe(ge){return(0,ie.m)(ge[y.L])}},3664:(zt,qe,W)=>{W.d(qe,{T:()=>pe});var y=W(4971),ie=W(4674);function pe(ge){return(0,ie.m)(ge?.[y.h])}},4026:(zt,qe,W)=>{W.d(qe,{t:()=>ie});var y=W(4674);function ie(pe){return(0,y.m)(pe?.then)}},541:(zt,qe,W)=>{W.d(qe,{L:()=>ge,Q:()=>pe});var y=W(7582),ie=W(4674);function pe(fe){return(0,y.FC)(this,arguments,function*(){const ne=fe.getReader();try{for(;;){const{value:Ke,done:He}=yield(0,y.qq)(ne.read());if(He)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ke)}}finally{ne.releaseLock()}})}function ge(fe){return(0,ie.m)(fe?.getReader)}},9360:(zt,qe,W)=>{W.d(qe,{A:()=>ie,e:()=>pe});var y=W(4674);function ie(ge){return(0,y.m)(ge?.lift)}function pe(ge){return fe=>{if(ie(fe))return fe.lift(function(j){try{return ge(j,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(zt,qe,W)=>{W.d(qe,{Z:()=>ge});var y=W(7398);const{isArray:ie}=Array;function ge(fe){return(0,y.U)(j=>function pe(fe,j){return ie(j)?fe(...j):fe(j)}(fe,j))}},2420:(zt,qe,W)=>{function y(){}W.d(qe,{Z:()=>y})},8407:(zt,qe,W)=>{W.d(qe,{U:()=>pe,z:()=>ie});var y=W(2737);function ie(...ge){return pe(ge)}function pe(ge){return 0===ge.length?y.y:1===ge.length?ge[0]:function(j){return ge.reduce((ne,Ke)=>Ke(ne),j)}}},3894:(zt,qe,W)=>{W.d(qe,{h:()=>pe});var y=W(2653),ie=W(7599);function pe(ge){ie.z.setTimeout(()=>{const{onUnhandledError:fe}=y.config;if(!fe)throw ge;fe(ge)})}},9853:(zt,qe,W)=>{function y(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(qe,{z:()=>y})},6814:(zt,qe,W)=>{W.d(qe,{Do:()=>ht,EM:()=>mo,HT:()=>ge,JF:()=>Lt,K0:()=>j,Mx:()=>Is,O5:()=>Vr,PM:()=>or,S$:()=>Ve,V_:()=>Ke,Ye:()=>Wt,b0:()=>lt,bD:()=>go,ez:()=>as,mk:()=>Hr,q:()=>pe,sg:()=>os,w_:()=>fe});var y=W(4946);let ie=null;function pe(){return ie}function ge(E){ie||(ie=E)}class fe{}const j=new y.OlP("DocumentToken");let ne=(()=>{class E{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(V){return new(V||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(He)},providedIn:"platform"})}return E})();const Ke=new y.OlP("Location Initialized");let He=(()=>{class E extends ne{constructor(){super(),this._doc=(0,y.f3M)(j),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pe().getBaseHref(this._doc)}onPopState(x){const V=pe().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",x,!1),()=>V.removeEventListener("popstate",x)}onHashChange(x){const V=pe().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",x,!1),()=>V.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,V,te){this._history.pushState(x,V,te)}replaceState(x,V,te){this._history.replaceState(x,V,te)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static#e=this.\u0275fac=function(V){return new(V||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return new E},providedIn:"platform"})}return E})();function ae(E,B){if(0==E.length)return B;if(0==B.length)return E;let x=0;return E.endsWith("/")&&x++,B.startsWith("/")&&x++,2==x?E+B.substring(1):1==x?E+B:E+"/"+B}function se(E){const B=E.match(/#|\?|$/),x=B&&B.index||E.length;return E.slice(0,x-("/"===E[x-1]?1:0))+E.slice(x)}function Ae(E){return E&&"?"!==E[0]?"?"+E:E}let Ve=(()=>{class E{historyGo(x){throw new Error("Not implemented")}static#e=this.\u0275fac=function(V){return new(V||E)};static#t=this.\u0275prov=y.Yz7({token:E,factory:function(){return(0,y.f3M)(lt)},providedIn:"root"})}return E})();const me=new y.OlP("appBaseHref");let lt=(()=>{class E extends Ve{constructor(x,V){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return ae(this._baseHref,x)}path(x=!1){const V=this._platformLocation.pathname+Ae(this._platformLocation.search),te=this._platformLocation.hash;return te&&x?`${V}${te}`:V}pushState(x,V,te,ke){const Qe=this.prepareExternalUrl(te+Ae(ke));this._platformLocation.pushState(x,V,Qe)}replaceState(x,V,te,ke){const Qe=this.prepareExternalUrl(te+Ae(ke));this._platformLocation.replaceState(x,V,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(V){return new(V||E)(y.LFG(ne),y.LFG(me,8))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"})}return E})(),ht=(()=>{class E extends Ve{constructor(x,V){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(x){const V=ae(this._baseHref,x);return V.length>0?"#"+V:V}pushState(x,V,te,ke){let Qe=this.prepareExternalUrl(te+Ae(ke));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.pushState(x,V,Qe)}replaceState(x,V,te,ke){let Qe=this.prepareExternalUrl(te+Ae(ke));0==Qe.length&&(Qe=this._platformLocation.pathname),this._platformLocation.replaceState(x,V,Qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static#e=this.\u0275fac=function(V){return new(V||E)(y.LFG(ne),y.LFG(me,8))};static#t=this.\u0275prov=y.Yz7({token:E,factory:E.\u0275fac})}return E})(),Wt=(()=>{class E{constructor(x){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const V=this._locationStrategy.getBaseHref();this._basePath=function Ie(E){if(new RegExp("^(https?:)?//").test(E)){const[,x]=E.split(/\/\/[^\/]+/);return x}return E}(se(Sn(V))),this._locationStrategy.onPopState(te=>{this._subject.emit({url:this.path(!0),pop:!0,state:te.state,type:te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,V=""){return this.path()==this.normalize(x+Ae(V))}normalize(x){return E.stripTrailingSlash(function Tn(E,B){if(!E||!B.startsWith(E))return B;const x=B.substring(E.length);return""===x||["/",";","?","#"].includes(x[0])?x:B}(this._basePath,Sn(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,V="",te=null){this._locationStrategy.pushState(te,"",x,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ae(V)),te)}replaceState(x,V="",te=null){this._locationStrategy.replaceState(te,"",x,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ae(V)),te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",V){this._urlChangeListeners.forEach(te=>te(x,V))}subscribe(x,V,te){return this._subject.subscribe({next:x,error:V,complete:te})}static#e=this.normalizeQueryParams=Ae;static#t=this.joinWithSlash=ae;static#n=this.stripTrailingSlash=se;static#r=this.\u0275fac=function(V){return new(V||E)(y.LFG(Ve))};static#i=this.\u0275prov=y.Yz7({token:E,factory:function(){return function Ut(){return new Wt((0,y.LFG)(Ve))}()},providedIn:"root"})}return E})();function Sn(E){return E.replace(/\/index.html$/,"")}function Is(E,B){B=encodeURIComponent(B);for(const x of E.split(";")){const V=x.indexOf("="),[te,ke]=-1==V?[x,""]:[x.slice(0,V),x.slice(V+1)];if(te.trim()===B)return decodeURIComponent(ke)}return null}const fi=/\s+/,Fi=[];let Hr=(()=>{class E{constructor(x,V,te,ke){this._iterableDiffers=x,this._keyValueDiffers=V,this._ngEl=te,this._renderer=ke,this.initialClasses=Fi,this.stateMap=new Map}set klass(x){this.initialClasses=null!=x?x.trim().split(fi):Fi}set ngClass(x){this.rawClass="string"==typeof x?x.trim().split(fi):x}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const x=this.rawClass;if(Array.isArray(x)||x instanceof Set)for(const V of x)this._updateState(V,!0);else if(null!=x)for(const V of Object.keys(x))this._updateState(V,!!x[V]);this._applyStateDiff()}_updateState(x,V){const te=this.stateMap.get(x);void 0!==te?(te.enabled!==V&&(te.changed=!0,te.enabled=V),te.touched=!0):this.stateMap.set(x,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const x of this.stateMap){const V=x[0],te=x[1];te.changed?(this._toggleClass(V,te.enabled),te.changed=!1):te.touched||(te.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),te.touched=!1}}_toggleClass(x,V){(x=x.trim()).length>0&&x.split(fi).forEach(te=>{V?this._renderer.addClass(this._ngEl.nativeElement,te):this._renderer.removeClass(this._ngEl.nativeElement,te)})}static#e=this.\u0275fac=function(V){return new(V||E)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return E})();class Es{constructor(B,x,V,te){this.$implicit=B,this.ngForOf=x,this.index=V,this.count=te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let os=(()=>{class E{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,V,te){this._viewContainer=x,this._template=V,this._differs=te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const V=this._viewContainer;x.forEachOperation((te,ke,Qe)=>{if(null==te.previousIndex)V.createEmbeddedView(this._template,new Es(te.item,this._ngForOf,-1,-1),null===Qe?void 0:Qe);else if(null==Qe)V.remove(null===ke?void 0:ke);else if(null!==ke){const Vt=V.get(ke);V.move(Vt,Qe),Tr(Vt,te)}});for(let te=0,ke=V.length;te<ke;te++){const Vt=V.get(te).context;Vt.index=te,Vt.count=ke,Vt.ngForOf=this._ngForOf}x.forEachIdentityChange(te=>{Tr(V.get(te.currentIndex),te)})}static ngTemplateContextGuard(x,V){return!0}static#e=this.\u0275fac=function(V){return new(V||E)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return E})();function Tr(E,B){E.context.$implicit=B.item}let Vr=(()=>{class E{constructor(x,V){this._viewContainer=x,this._context=new ks,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Ho("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Ho("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,V){return!0}static#e=this.\u0275fac=function(V){return new(V||E)(y.Y36(y.s_b),y.Y36(y.Rgc))};static#t=this.\u0275dir=y.lG2({type:E,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return E})();class ks{constructor(){this.$implicit=null,this.ngIf=null}}function Ho(E,B){if(B&&!B.createEmbeddedView)throw new Error(`${E} must be a TemplateRef, but received '${(0,y.AaK)(B)}'.`)}let as=(()=>{class E{static#e=this.\u0275fac=function(V){return new(V||E)};static#t=this.\u0275mod=y.oAB({type:E});static#n=this.\u0275inj=y.cJS({})}return E})();const go="browser",la="server";function or(E){return E===la}let mo=(()=>{class E{static#e=this.\u0275prov=(0,y.Yz7)({token:E,providedIn:"root",factory:()=>new Fn((0,y.LFG)(j),window)})}return E})();class Fn{constructor(B,x){this.document=B,this.window=x,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const x=function fs(E,B){const x=E.getElementById(B)||E.getElementsByName(B)[0];if(x)return x;if("function"==typeof E.createTreeWalker&&E.body&&"function"==typeof E.body.attachShadow){const V=E.createTreeWalker(E.body,NodeFilter.SHOW_ELEMENT);let te=V.currentNode;for(;te;){const ke=te.shadowRoot;if(ke){const Qe=ke.getElementById(B)||ke.querySelector(`[name="${B}"]`);if(Qe)return Qe}te=V.nextNode()}}return null}(this.document,B);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(B){this.supportsScrolling()&&(this.window.history.scrollRestoration=B)}scrollToElement(B){const x=B.getBoundingClientRect(),V=x.left+this.window.pageXOffset,te=x.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(V-ke[0],te-ke[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Lt{}},4946:(zt,qe,W)=>{W.d(qe,{tb:()=>V0,AFp:()=>td,ip1:()=>DE,hGG:()=>$T,z2F:()=>vp,Ojb:()=>Vv,sBO:()=>TT,Sil:()=>Kb,EJc:()=>zb,Xts:()=>oh,SBq:()=>dd,lqb:()=>su,qLn:()=>Ru,vpe:()=>uu,XFs:()=>Dt,OlP:()=>Dr,zs3:()=>au,ZZ4:()=>G0,aQg:()=>z0,soG:()=>cv,YKP:()=>AI,h0i:()=>Rh,PXZ:()=>vT,R0b:()=>Ps,FiY:()=>Ld,Lbi:()=>hh,g9A:()=>wf,Qsj:()=>rg,FYo:()=>Wm,JOm:()=>el,tp0:()=>Vd,Rgc:()=>om,dDg:()=>pT,eoX:()=>NE,q4F:()=>Mf,GfV:()=>qm,s_b:()=>av,ifc:()=>Hr,VuI:()=>XT,MMx:()=>xI,Lck:()=>SC,eFA:()=>kE,Gpc:()=>$e,f3M:()=>Ct,$WT:()=>gn,MR2:()=>ll,_c5:()=>jT,qFp:()=>tS,rg0:()=>Gi,c2e:()=>CE,zSh:()=>zp,HDt:()=>bE,wAp:()=>pp,vHH:()=>tt,lri:()=>ME,rWj:()=>xE,cg1:()=>d0,kL8:()=>Xw,dqk:()=>jt,Z0I:()=>Un,eJc:()=>A0,QGY:()=>cp,F4k:()=>Mh,RDi:()=>Dv,AaK:()=>Oe,qOj:()=>ep,Xq5:()=>Hg,TTD:()=>Po,_Bn:()=>SI,jDz:()=>NI,xp6:()=>uy,uIk:()=>ip,ekj:()=>Jg,Suo:()=>nE,Xpm:()=>Cs,lG2:()=>pi,Yz7:()=>_n,cJS:()=>tn,oAB:()=>No,Yjl:()=>Zi,Y36:()=>Rc,_UZ:()=>Zg,qZA:()=>Kg,TgZ:()=>ap,EpF:()=>G_,n5z:()=>Ta,LFG:()=>We,$8M:()=>I,$Z:()=>ly,NdJ:()=>lp,CRH:()=>rE,oxw:()=>zy,Q6J:()=>Vy,MGl:()=>Yg,WLB:()=>VI,iGM:()=>tE,KtG:()=>io,evT:()=>gg,CHM:()=>Bu,LSH:()=>$p,P3R:()=>Nm,Udp:()=>Jy,YNc:()=>ky,_uU:()=>N,Oqu:()=>Te,hij:()=>je,HOy:()=>Rt});var y=W(8645),ie=W(7394),pe=W(5592),ge=W(7537),fe=W(4829),j=W(6232),ne=W(4564),Ke=W(2459),ae=W(5619),se=W(2096),Ae=W(305),Ve=W(9360);function me(t={}){const{connector:r=(()=>new y.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:c=!0}=t;return d=>{let g,_,S,P=0,$=!1,X=!1;const he=()=>{_?.unsubscribe(),_=void 0},we=()=>{he(),g=S=void 0,$=X=!1},Ze=()=>{const ct=g;we(),ct?.unsubscribe()};return(0,Ve.e)((ct,At)=>{P++,!X&&!$&&he();const Qt=S=S??r();At.add(()=>{P--,0===P&&!X&&!$&&(_=lt(Ze,c))}),Qt.subscribe(At),!g&&P>0&&(g=new Ae.Hp({next:it=>Qt.next(it),error:it=>{X=!0,he(),_=lt(we,s,it),Qt.error(it)},complete:()=>{$=!0,he(),_=lt(we,a),Qt.complete()}}),(0,fe.Xf)(ct).subscribe(g))})(d)}}function lt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new Ae.Hp({next:()=>{a.unsubscribe(),t()}});return(0,fe.Xf)(r(...s)).subscribe(a)}var ht=W(4664),Wt=W(2737),Ut=W(8251);function Sn(t,r){return t===r}function Ie(t){for(let r in t)if(t[r]===Ie)return r;throw Error("Could not find renamed property on target object.")}function et(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Oe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Be(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Je=Ie({__forward_ref__:Ie});function $e(t){return t.__forward_ref__=$e,t.toString=function(){return Oe(this())},t}function Ye(t){return dn(t)?t():t}function dn(t){return"function"==typeof t&&t.hasOwnProperty(Je)&&t.__forward_ref__===$e}function Ln(t){return t&&!!t.\u0275providers}const st="https://g.co/ng/security#xss";class tt extends Error{constructor(r,s){super(function In(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function Re(t,r){throw new tt(-201,!1)}function Cn(t,r){null==t&&function Kt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function _n(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function en(t){return pr(t,nr)||pr(t,On)}function Un(t){return null!==en(t)}function pr(t,r){return t.hasOwnProperty(r)?t[r]:null}function Bn(t){return t&&(t.hasOwnProperty(Lr)||t.hasOwnProperty(Bi))?t[Lr]:null}const nr=Ie({\u0275prov:Ie}),Lr=Ie({\u0275inj:Ie}),On=Ie({ngInjectableDef:Ie}),Bi=Ie({ngInjectorDef:Ie});var Dt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Dt||{});let xi;function wr(t){const r=xi;return xi=t,r}function Rr(t,r,s){const a=en(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Dt.Optional?null:void 0!==r?r:void Re(Oe(t))}const jt=globalThis,dt={},$t="__NG_DI_FLAG__",qt="ngTempTokenPath",rn=/\n/gm,Ir="__source";let br;function Pe(t){const r=br;return br=t,r}function Ce(t,r=Dt.Default){if(void 0===br)throw new tt(-203,!1);return null===br?Rr(t,void 0,r):br.get(t,r&Dt.Optional?null:void 0,r)}function We(t,r=Dt.Default){return(function di(){return xi}()||Ce)(Ye(t),r)}function Ct(t,r=Dt.Default){return We(t,Jt(r))}function Jt(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hn(t){const r=[];for(let s=0;s<t.length;s++){const a=Ye(t[s]);if(Array.isArray(a)){if(0===a.length)throw new tt(900,!1);let c,d=Dt.Default;for(let g=0;g<a.length;g++){const _=a[g],S=rr(_);"number"==typeof S?-1===S?c=_.token:d|=S:c=_}r.push(We(c,d))}else r.push(We(a))}return r}function mr(t,r){return t[$t]=r,t.prototype[$t]=r,t}function rr(t){return t[$t]}function fi(t){return{toString:t}.toString()}var Fi=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Fi||{}),Hr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Hr||{});const Gr={},bn=[],Es=Ie({\u0275cmp:Ie}),os=Ie({\u0275dir:Ie}),Tr=Ie({\u0275pipe:Ie}),hs=Ie({\u0275mod:Ie}),Vr=Ie({\u0275fac:Ie}),ks=Ie({__NG_ELEMENT_ID__:Ie}),Ho=Ie({__NG_ENV_ID__:Ie});function le(t,r,s){let a=t.length;for(;;){const c=t.indexOf(r,s);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||t.charCodeAt(c+d)<=32)return c}s=c+1}}function de(t,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],_=s[a++];t.setAttribute(r,g,_,d)}else{const d=c,g=s[++a];ze(d)?t.setProperty(r,d,g):t.setAttribute(r,d,g),a++}}return a}function De(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function ut(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ft(t,s,c,null,-1===s||2===s?r[++a]:null)}}return t}function Ft(t,r,s,a,c){let d=0,g=t.length;if(-1===r)g=-1;else for(;d<t.length;){const _=t[d++];if("number"==typeof _){if(_===r){g=-1;break}if(_>r){g=d-1;break}}}for(;d<t.length;){const _=t[d];if("number"==typeof _)break;if(_===s){if(null===a)return void(null!==c&&(t[d+1]=c));if(a===t[d+1])return void(t[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(t.splice(g,0,r),d=g+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==c&&t.splice(d++,0,c)}const En="ng-template";function un(t,r,s){let a=0,c=!0;for(;a<t.length;){let d=t[a++];if("string"==typeof d&&c){const g=t[a++];if(s&&"class"===d&&-1!==le(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Dn(t){return 4===t.type&&t.value!==En}function Ni(t,r,s){return r===(4!==t.type||s?t.value:En)}function Zr(t,r,s){let a=4;const c=t.attrs||[],d=function Go(t){for(let r=0;r<t.length;r++)if(De(t[r]))return r;return t.length}(c);let g=!1;for(let _=0;_<r.length;_++){const S=r[_];if("number"!=typeof S){if(!g)if(4&a){if(a=2|1&a,""!==S&&!Ni(t,S,s)||""===S&&1===r.length){if(Jn(a))return!1;g=!0}}else{const P=8&a?S:r[++_];if(8&a&&null!==t.attrs){if(!un(t.attrs,P,s)){if(Jn(a))return!1;g=!0}continue}const X=zr(8&a?"class":S,c,Dn(t),s);if(-1===X){if(Jn(a))return!1;g=!0;continue}if(""!==P){let he;he=X>d?"":c[X+1].toLowerCase();const we=8&a?he:null;if(we&&-1!==le(we,P,0)||2&a&&P!==he){if(Jn(a))return!1;g=!0}}}}else{if(!g&&!Jn(a)&&!Jn(S))return!1;if(g&&Jn(S))continue;g=!1,a=S|1&a}}return Jn(a)||g}function Jn(t){return 0==(1&t)}function zr(t,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===t)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=r[++c];for(;"string"==typeof _;)_=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function co(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Js(t,r,s=!1){for(let a=0;a<r.length;a++)if(Zr(t,r[a],s))return!0;return!1}function Ki(t,r){return t?":not("+r.trim()+")":r}function aa(t){let r=t[0],s=1,a=2,c="",d=!1;for(;s<t.length;){let g=t[s];if("string"==typeof g)if(2&a){const _=t[++s];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Jn(g)&&(r+=Ki(d,c),c=""),a=g,d=d||!Jn(a);s++}return""!==c&&(r+=Ki(d,c)),r}function Cs(t){return fi(()=>{const r=Yi(t),s={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Hr.Emulated,styles:t.styles||bn,_:null,schemas:t.schemas||null,tView:null,id:""};po(s);const a=t.dependencies;return s.directiveDefs=as(a,!1),s.pipeDefs=as(a,!0),s.id=function la(t){let r=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function fo(t){return pn(t)||ir(t)}function xo(t){return null!==t}function No(t){return fi(()=>({type:t.type,bootstrap:t.bootstrap||bn,declarations:t.declarations||bn,imports:t.imports||bn,exports:t.exports||bn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ca(t,r){if(null==t)return Gr;const s={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function pi(t){return fi(()=>{const r=Yi(t);return po(r),r})}function Zi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function pn(t){return t[Es]||null}function ir(t){return t[os]||null}function Wn(t){return t[Tr]||null}function gn(t){const r=pn(t)||ir(t)||Wn(t);return null!==r&&r.standalone}function Yr(t,r){const s=t[hs]||null;if(!s&&!0===r)throw new Error(`Type ${Oe(t)} does not have '\u0275mod' property.`);return s}function Yi(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Gr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||bn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ca(t.inputs,r),outputs:ca(t.outputs)}}function po(t){t.features?.forEach(r=>r(t))}function as(t,r){if(!t)return null;const s=r?Wn:fo;return()=>("function"==typeof t?t():t).map(a=>s(a)).filter(xo)}const sr=0,mt=1,sn=2,or=3,Ur=4,Qi=5,ni=6,mo=7,Fn=8,fs=9,Xs=10,Lt=11,ps=12,bs=13,Ts=14,Sr=15,Fs=16,Ls=17,Br=18,gs=19,yo=20,Vs=21,Ji=22,Us=23,jr=24,mn=25,vo=1,gi=2,mi=7,hr=9,ri=11;function yi(t){return Array.isArray(t)&&"object"==typeof t[vo]}function Wr(t){return Array.isArray(t)&&!0===t[vo]}function Bs(t){return 0!=(4&t.flags)}function Ss(t){return t.componentOffset>-1}function _o(t){return 1==(1&t.flags)}function yn(t){return!!t.template}function vi(t){return 0!=(512&t[sn])}function us(t,r){return t.hasOwnProperty(Vr)?t[Vr]:null}let Qr=null,ii=!1;function Vi(t){const r=Qr;return Qr=t,r}const Ra={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Oa(t){if(!Eo(t)||t.dirty){if(!t.producerMustRecompute(t)&&!to(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function qn(t){t.dirty=!0,function Hi(t){if(void 0===t.liveConsumerNode)return;const r=ii;ii=!0;try{for(const s of t.liveConsumerNode)s.dirty||qn(s)}finally{ii=r}}(t),t.consumerMarkedDirty?.(t)}function Pa(t){return t&&(t.nextProducerIndex=0),Vi(t)}function Oo(t,r){if(Vi(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Eo(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)ys(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function to(t){Hs(t);for(let r=0;r<t.producerNode.length;r++){const s=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==s.version||(Oa(s),a!==s.version))return!0}return!1}function zo(t){if(Hs(t),Eo(t))for(let r=0;r<t.producerNode.length;r++)ys(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ys(t,r){if(function no(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Hs(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)ys(t.producerNode[a],t.producerIndexOfThis[a]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],c=t.liveConsumerNode[r];Hs(c),c.producerIndexOfThis[a]=r}}function Eo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let V=null;function Gi(t){const r=Vi(null);try{return t()}finally{Vi(r)}}const fr=()=>{},Mr=(()=>({...Ra,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:fr}))();class ro{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Po(){return at}function at(t){return t.type.prototype.ngOnChanges&&(t.setInput=zs),wi}function wi(){const t=xt(this),r=t?.current;if(r){const s=t.previous;if(s===Gr)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function zs(t,r,s,a){const c=this.declaredInputs[s],d=xt(t)||function Ht(t,r){return t[pa]=r}(t,{previous:Gr,current:null}),g=d.current||(d.current={}),_=d.previous,S=_[c];g[c]=new ro(S&&S.currentValue,r,_===Gr),t[a]=r}Po.ngInherit=!0;const pa="__ngSimpleChanges__";function xt(t){return t[pa]||null}const xe=function(t,r,s){};function Or(t){for(;Array.isArray(t);)t=t[sr];return t}function La(t,r){return Or(r[t])}function Ns(t,r){return Or(r[t.index])}function Qa(t,r){return t.data[r]}function es(t,r){const s=r[t];return yi(s)?s:s[sr]}function St(t,r){return null==r?null:t[r]}function qo(t){t[Ls]=0}function zi(t){1024&t[sn]||(t[sn]|=1024,Nt(t,1))}function $r(t){1024&t[sn]&&(t[sn]&=-1025,Nt(t,-1))}function Nt(t,r){let s=t[or];if(null===s)return;s[Qi]+=r;let a=s;for(s=s[or];null!==s&&(1===r&&1===a[Qi]||-1===r&&0===a[Qi]);)s[Qi]+=r,a=s,s=s[or]}const on={lFrame:jn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Uu(){return on.bindingsEnabled}function nt(){return on.lFrame.lView}function Kn(){return on.lFrame.tView}function Bu(t){return on.lFrame.contextLView=t,t[Fn]}function io(t){return on.lFrame.contextLView=null,t}function Si(){let t=Se();for(;null!==t&&64===t.type;)t=t.parent;return t}function Se(){return on.lFrame.currentTNode}function Jr(t,r){const s=on.lFrame;s.currentTNode=t,s.isParent=r}function ju(){return on.lFrame.isParent}function Xa(){return on.lFrame.bindingIndex++}function Xr(t){const r=on.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function b(t,r){const s=on.lFrame;s.bindingIndex=s.bindingRootIndex=t,T(r)}function T(t){on.lFrame.currentDirectiveIndex=t}function H(){return on.lFrame.currentQueryIndex}function ee(t){on.lFrame.currentQueryIndex=t}function Me(t){const r=t[mt];return 2===r.type?r.declTNode:1===r.type?t[ni]:null}function be(t,r,s){if(s&Dt.SkipSelf){let c=r,d=t;for(;!(c=c.parent,null!==c||s&Dt.Host||(c=Me(d),null===c||(d=d[Ts],10&c.type))););if(null===c)return!1;r=c,t=d}const a=on.lFrame=ln();return a.currentTNode=r,a.lView=t,!0}function It(t){const r=ln(),s=t[mt];on.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function ln(){const t=on.lFrame,r=null===t?null:t.child;return null===r?jn(t):r}function jn(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function $n(){const t=on.lFrame;return on.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const bo=$n;function ts(){const t=$n();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vr(){return on.lFrame.selectedIndex}function Lo(t){on.lFrame.selectedIndex=t}function ai(){const t=on.lFrame;return Qa(t.tView,t.selectedIndex)}let _u=!0;function Bc(){return _u}function Xo(t){_u=t}function Gu(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:S,ngAfterViewChecked:P,ngOnDestroy:$}=d;g&&(t.contentHooks??=[]).push(-s,g),_&&((t.contentHooks??=[]).push(s,_),(t.contentCheckHooks??=[]).push(s,_)),S&&(t.viewHooks??=[]).push(-s,S),P&&((t.viewHooks??=[]).push(s,P),(t.viewCheckHooks??=[]).push(s,P)),null!=$&&(t.destroyHooks??=[]).push(s,$)}}function ui(t,r,s){zu(t,r,3,s)}function cc(t,r,s,a){(3&t[sn])===s&&zu(t,r,s,a)}function _a(t,r){let s=t[sn];(3&s)===r&&(s&=8191,s+=1,t[sn]=s)}function zu(t,r,s,a){const d=a??-1,g=r.length-1;let _=0;for(let S=void 0!==a?65535&t[Ls]:0;S<g;S++)if("number"==typeof r[S+1]){if(_=r[S],null!=a&&_>=a)break}else r[S]<0&&(t[Ls]+=65536),(_<d||-1==d)&&(eu(t,s,r,S),t[Ls]=(4294901760&t[Ls])+S+2),S++}function Pr(t,r){xe(4,t,r);const s=Vi(null);try{r.call(t)}finally{Vi(s),xe(5,t,r)}}function eu(t,r,s,a){const c=s[a]<0,d=s[a+1],_=t[c?-s[a]:s[a]];c?t[sn]>>13<t[Ls]>>16&&(3&t[sn])===r&&(t[sn]+=8192,Pr(_,d)):Pr(_,d)}const Ai=-1;class xr{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ci(t){return t!==Ai}function oo(t){return 32767&t}function Eu(t,r){let s=function Iu(t){return t>>16}(t),a=r;for(;s>0;)a=a[Ts],s--;return a}let wa=!0;function lc(t){const r=wa;return wa=t,r}const ea=255,Va=5;let Ea=0;const qi={};function qs(t,r){const s=Da(t,r);if(-1!==s)return s;const a=r[mt];a.firstCreatePass&&(t.injectorIndex=r.length,Du(a.data,t),Du(r,null),Du(a.blueprint,null));const c=ta(t,r),d=t.injectorIndex;if(ci(c)){const g=oo(c),_=Eu(c,r),S=_[mt].data;for(let P=0;P<8;P++)r[d+P]=_[g+P]|S[g+P]}return r[d+8]=c,d}function Du(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Da(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function ta(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=nu(c),null===a)return Ai;if(s++,c=c[Ts],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Ai}function Ba(t,r,s){!function Ua(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ks)&&(a=s[ks]),null==a&&(a=s[ks]=Ea++);const c=a&ea;r.data[t+(c>>Va)]|=1<<c}(t,r,s)}function Hc(t,r,s){if(s&Dt.Optional||void 0!==t)return t;Re()}function tu(t,r,s,a){if(s&Dt.Optional&&void 0===a&&(a=null),!(s&(Dt.Self|Dt.Host))){const c=t[fs],d=wr(void 0);try{return c?c.get(r,a,s&Dt.Optional):Rr(r,a,s&Dt.Optional)}finally{wr(d)}}return Hc(a,0,s)}function Ml(t,r,s,a=Dt.Default,c){if(null!==t){if(2048&r[sn]&&!(a&Dt.Self)){const g=function Nl(t,r,s,a,c){let d=t,g=r;for(;null!==d&&null!==g&&2048&g[sn]&&!(512&g[sn]);){const _=Gc(d,g,s,a|Dt.Self,qi);if(_!==qi)return _;let S=d.parent;if(!S){const P=g[yo];if(P){const $=P.get(s,qi,a);if($!==qi)return $}S=nu(g),g=g[Ts]}d=S}return c}(t,r,s,a,qi);if(g!==qi)return g}const d=Gc(t,r,s,a,qi);if(d!==qi)return d}return tu(r,s,a,c)}function Gc(t,r,s,a,c){const d=function Rd(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ks)?t[ks]:void 0;return"number"==typeof r?r>=0?r&ea:li:r}(s);if("function"==typeof d){if(!be(r,t,a))return a&Dt.Host?Hc(c,0,a):tu(r,s,a,c);try{let g;if(g=d(a),null!=g||a&Dt.Optional)return g;Re()}finally{bo()}}else if("number"==typeof d){let g=null,_=Da(t,r),S=Ai,P=a&Dt.Host?r[Sr][ni]:null;for((-1===_||a&Dt.SkipSelf)&&(S=-1===_?ta(t,r):r[_+8],S!==Ai&&ba(a,!1)?(g=r[mt],_=oo(S),r=Eu(S,r)):_=-1);-1!==_;){const $=r[mt];if(xl(d,_,$.data)){const X=Wu(_,r,s,g,a,P);if(X!==qi)return X}S=r[_+8],S!==Ai&&ba(a,r[mt].data[_+8]===P)&&xl(d,_,r)?(g=$,_=oo(S),r=Eu(S,r)):_=-1}}return c}function Wu(t,r,s,a,c,d){const g=r[mt],_=g.data[t+8],$=ao(_,g,s,null==a?Ss(_)&&wa:a!=g&&0!=(3&_.type),c&Dt.Host&&d===_);return null!==$?To(r,g,$,_):qi}function ao(t,r,s,a,c){const d=t.providerIndexes,g=r.data,_=1048575&d,S=t.directiveStart,$=d>>20,he=c?_+$:t.directiveEnd;for(let we=a?_:_+$;we<he;we++){const Ze=g[we];if(we<S&&s===Ze||we>=S&&Ze.type===s)return we}if(c){const we=g[S];if(we&&yn(we)&&we.type===s)return S}return null}function To(t,r,s,a){let c=t[s];const d=r.data;if(function jc(t){return t instanceof xr}(c)){const g=c;g.resolving&&function Ee(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new tt(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Yt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(d[s]));const _=lc(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?wr(g.injectImpl):null;be(t,a,Dt.Default);try{c=t[s]=g.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Hu(t,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=at(r);(s.preOrderHooks??=[]).push(t,g),(s.preOrderCheckHooks??=[]).push(t,g)}c&&(s.preOrderHooks??=[]).push(0-t,c),d&&((s.preOrderHooks??=[]).push(t,d),(s.preOrderCheckHooks??=[]).push(t,d))}(s,d[s],r)}finally{null!==P&&wr(P),lc(_),g.resolving=!1,bo()}}return c}function xl(t,r,s){return!!(s[r+(t>>Va)]&1<<t)}function ba(t,r){return!(t&Dt.Self||t&Dt.Host&&r)}class Rs{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Ml(this._tNode,this._lView,r,Jt(a),s)}}function li(){return new Rs(Si(),nt())}function Ta(t){return fi(()=>{const r=t.prototype.constructor,s=r[Vr]||bu(r),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const d=c[Vr]||bu(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function bu(t){return dn(t)?()=>{const r=bu(Ye(t));return r&&r()}:us(t)}function nu(t){const r=t[mt],s=r.type;return 2===s?r.declTNode:1===s?t[ni]:null}function I(t){return function Ca(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(De(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(Si(),t)}const O="__parameters__";function Fe(t,r,s){return fi(()=>{const a=function _e(t){return function(...s){if(t){const a=t(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return _.annotation=g,_;function _(S,P,$){const X=S.hasOwnProperty(O)?S[O]:Object.defineProperty(S,O,{value:[]})[O];for(;X.length<=$;)X.push(null);return(X[$]=X[$]||[]).push(g),S}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function Sa(t,r){t.forEach(s=>Array.isArray(s)?Sa(s,r):r(s))}function Wc(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function qu(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function So(t,r,s){let a=na(t,r);return a>=0?t[1|a]=s:(a=~a,function Od(t,r,s,a){let c=t.length;if(c==r)t.push(s,a);else if(1===c)t.push(a,t[0]),t[0]=s;else{for(c--,t.push(t[c-1],t[c]);c>r;)t[c]=t[c-2],c--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function gc(t,r){const s=na(t,r);if(s>=0)return t[1|s]}function na(t,r){return function Ku(t,r,s){let a=0,c=t.length>>s;for(;c!==a;){const d=a+(c-a>>1),g=t[d<<s];if(r===g)return d<<s;g>r?c=d:a=d+1}return~(c<<s)}(t,r,1)}const Ld=mr(Fe("Optional"),8),Vd=mr(Fe("SkipSelf"),4);function Jc(t){return 128==(128&t.flags)}var el=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(el||{});const p=new Map;let C=0;const is="__ngContext__";function ti(t,r){yi(r)?(t[is]=r[gs],function J(t){p.set(t[gs],t)}(r)):t[is]=r}let nl;function rl(t,r){return nl(t,r)}function $l(t){const r=t[or];return Wr(r)?r[or]:r}function Wh(t){return Hl(t[ps])}function Sp(t){return Hl(t[Ur])}function Hl(t){for(;null!==t&&!Wr(t);)t=t[Ur];return t}function Bo(t,r,s,a,c){if(null!=a){let d,g=!1;Wr(a)?d=a:yi(a)&&(g=!0,a=a[sr]);const _=Or(a);0===t&&null!==s?null==c?Ju(r,s,_):sl(r,s,_,c||null,!0):1===t&&null!==s?sl(r,s,_,c||null,!0):2===t?function ql(t,r,s){const a=Jd(t,r);a&&function Im(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,_,g):3===t&&r.destroyNode(_),null!=d&&function Dm(t,r,s,a,c){const d=s[mi];d!==Or(s)&&Bo(r,t,a,d,c);for(let _=ri;_<s.length;_++){const S=s[_];Kl(S[mt],S,t,r,a,d)}}(r,t,d,s,c)}}function Kd(t,r,s){return t.createElement(r,s)}function vm(t,r){const s=t[hr],a=s.indexOf(r);$r(r),s.splice(a,1)}function Yd(t,r){if(t.length<=ri)return;const s=ri+r,a=t[s];if(a){const c=a[Fs];null!==c&&c!==t&&vm(c,a),r>0&&(t[s-1][Ur]=a[Ur]);const d=qu(t,ri+r);!function mm(t,r){Kl(t,r,r[Lt],2,null,null),r[sr]=null,r[ni]=null}(a[mt],a);const g=d[Br];null!==g&&g.detachView(d[mt]),a[or]=null,a[Ur]=null,a[sn]&=-129}return a}function Qd(t,r){if(!(256&r[sn])){const s=r[Lt];r[Us]&&zo(r[Us]),r[jr]&&zo(r[jr]),s.destroyNode&&Kl(t,r,s,3,null,null),function _v(t){let r=t[ps];if(!r)return qh(t[mt],t);for(;r;){let s=null;if(yi(r))s=r[ps];else{const a=r[ri];a&&(s=a)}if(!s){for(;r&&!r[Ur]&&r!==t;)yi(r)&&qh(r[mt],r),r=r[or];null===r&&(r=t),yi(r)&&qh(r[mt],r),s=r&&r[Ur]}r=s}}(r)}}function qh(t,r){if(!(256&r[sn])){r[sn]&=-129,r[sn]|=256,function _m(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof xr)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=c[d[g]],S=d[g+1];xe(4,_,S);try{S.call(_)}finally{xe(5,_,S)}}else{xe(4,c,d);try{d.call(c)}finally{xe(5,c,d)}}}}}(t,r),function wv(t,r){const s=t.cleanup,a=r[mo];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[mo]=null);const c=r[Vs];if(null!==c){r[Vs]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(t,r),1===r[mt].type&&r[Lt].destroy();const s=r[Fs];if(null!==s&&Wr(r[or])){s!==r[or]&&vm(s,r);const a=r[Br];null!==a&&a.detachView(t)}!function Le(t){p.delete(t[gs])}(r)}}function xp(t,r,s){return function wm(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[sr];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=t.data[a.directiveStart+c];if(d===Hr.None||d===Hr.Emulated)return null}return Ns(a,s)}}(t,r.parent,s)}function sl(t,r,s,a,c){t.insertBefore(r,s,a,c)}function Ju(t,r,s){t.appendChild(r,s)}function ol(t,r,s,a,c){null!==a?sl(t,r,s,a,c):Ju(t,r,s)}function Jd(t,r){return t.parentNode(r)}let zl,Jh,Xh,Rp=function Em(t,r,s){return 40&t.type?Ns(t,s):null};function Mu(t,r,s,a){const c=xp(t,a,r),d=r[Lt],_=function Np(t,r,s){return Rp(t,r,s)}(a.parent||r[ni],a,r);if(null!=c)if(Array.isArray(s))for(let S=0;S<s.length;S++)ol(d,c,s[S],_,!1);else ol(d,c,s,_,!1);void 0!==zl&&zl(d,a,r,s,c)}function ru(t,r){if(null!==r){const s=r.type;if(3&s)return Ns(r,t);if(4&s)return Kh(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return ru(t,a);{const c=t[r.index];return Wr(c)?Kh(-1,c):Or(c)}}if(32&s)return rl(r,t)()||Or(t[r.index]);{const a=Wl(t,r);return null!==a?Array.isArray(a)?a[0]:ru($l(t[Sr]),a):ru(t,r.next)}}return null}function Wl(t,r){return null!==r?t[Sr][ni].projection[r.projection]:null}function Kh(t,r){const s=ri+t+1;if(s<r.length){const a=r[s],c=a[mt].firstChild;if(null!==c)return ru(a,c)}return r[mi]}function Yh(t,r,s,a,c,d,g){for(;null!=s;){const _=a[s.index],S=s.type;if(g&&0===r&&(_&&ti(Or(_),a),s.flags|=2),32!=(32&s.flags))if(8&S)Yh(t,r,s.child,a,c,d,!1),Bo(r,t,c,_,d);else if(32&S){const P=rl(s,a);let $;for(;$=P();)Bo(r,t,c,$,d);Bo(r,t,c,_,d)}else 16&S?Op(t,r,a,s,c,d):Bo(r,t,c,_,d);s=g?s.projectionNext:s.next}}function Kl(t,r,s,a,c,d){Yh(s,a,t.firstChild,r,c,d,!1)}function Op(t,r,s,a,c,d){const g=s[Sr],S=g[ni].projection[a.projection];if(Array.isArray(S))for(let P=0;P<S.length;P++)Bo(r,t,c,S[P],d);else{let P=S;const $=g[or];Jc(a)&&(P.flags|=128),Yh(t,r,P,$,c,d,!0)}}function Dc(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Cm(t,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&de(t,r,a),null!==c&&Dc(t,r,c),null!==d&&function Xd(t,r,s){t.setAttribute(r,"style",s)}(t,r,d)}function Dv(t){Jh=t}function tf(t){return function nh(){if(void 0===Xh&&(Xh=null,jt.trustedTypes))try{Xh=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xh}()?.createScriptURL(t)||t}class nf{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function bc(t){return t instanceof nf?t.changingThisBreaksApplicationSecurity:t}function Ql(t,r){const s=function rh(t){return t instanceof nf&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${st})`)}return s===r}const Tc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Jl||{});function $p(t){const r=Ac();return r?r.sanitize(Jl.URL,t)||"":Ql(t,"URL")?bc(t):function Sc(t){return(t=String(t)).match(Tc)?t:"unsafe:"+t}(pt(t))}function hf(t){const r=Ac();if(r)return tf(r.sanitize(Jl.RESOURCE_URL,t)||"");if(Ql(t,"ResourceURL"))return tf(bc(t));throw new tt(904,!1)}function Nm(t,r,s){return function kv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?hf:$p}(r,s)(t)}function Ac(){const t=nt();return t&&t[Xs].sanitizer}class Dr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=_n({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const oh=new Dr("ENVIRONMENT_INITIALIZER"),Hp=new Dr("INJECTOR",-1),ff=new Dr("INJECTOR_DEF_TYPES");class ah{get(r,s=dt){if(s===dt){const a=new Error(`NullInjectorError: No provider for ${Oe(r)}!`);throw a.name="NullInjectorError",a}return s}}function ll(t){return{\u0275providers:t}}function pf(...t){return{\u0275providers:gf(0,t),\u0275fromNgModule:!0}}function gf(t,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return Sa(r,g=>{const _=g;uh(_,d,[],a)&&(c||=[],c.push(_))}),void 0!==c&&mf(c,d),s}function mf(t,r){for(let s=0;s<t.length;s++){const{ngModule:a,providers:c}=t[s];yf(c,d=>{r(d,a)})}}function uh(t,r,s,a){if(!(t=Ye(t)))return!1;let c=null,d=Bn(t);const g=!d&&pn(t);if(d||g){if(g&&!g.standalone)return!1;c=t}else{const S=t.ngModule;if(d=Bn(S),!d)return!1;c=S}const _=a.has(c);if(g){if(_)return!1;if(a.add(c),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of S)uh(P,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let P;a.add(c);try{Sa(d.imports,$=>{uh($,r,s,a)&&(P||=[],P.push($))})}finally{}void 0!==P&&mf(P,r)}if(!_){const P=us(c)||(()=>new c);r({provide:c,useFactory:P,deps:bn},c),r({provide:ff,useValue:c,multi:!0},c),r({provide:oh,useValue:()=>We(c),multi:!0},c)}const S=d.providers;if(null!=S&&!_){const P=t;yf(S,$=>{r($,P)})}}}return c!==t&&void 0!==t.providers}function yf(t,r){for(let s of t)Ln(s)&&(s=s.\u0275providers),Array.isArray(s)?yf(s,r):r(s)}const Om=Ie({provide:String,useValue:Ie});function ch(t){return null!==t&&"object"==typeof t&&Om in t}function dl(t){return"function"==typeof t}const zp=new Dr("Set Injector scope."),ec={},Xl={};let lh;function hl(){return void 0===lh&&(lh=new ah),lh}class su{}class dh extends su{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ed(r,g=>this.processProvider(g)),this.records.set(Hp,Mc(void 0,this)),c.has("environment")&&this.records.set(su,Mc(void 0,this));const d=this.records.get(zp);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(ff.multi,bn,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=Pe(this),a=wr(void 0);try{return r()}finally{Pe(s),wr(a)}}get(r,s=dt,a=Dt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ho))return r[Ho](this);a=Jt(a);const d=Pe(this),g=wr(void 0);try{if(!(a&Dt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const P=function qp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Dr}(r)&&en(r);S=P&&this.injectableDefInScope(P)?Mc(vf(r),ec):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&Dt.Self?hl():this.parent).get(r,s=a&Dt.Optional&&s===dt?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[qt]=_[qt]||[]).unshift(Oe(r)),d)throw _;return function hi(t,r,s,a){const c=t[qt];throw r[Ir]&&c.unshift(r[Ir]),t.message=function Is(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Oe(r);if(Array.isArray(r))c=r.map(Oe).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let _=r[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Oe(_)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${t.replace(rn,"\n  ")}`}("\n"+t.message,c,s,a),t.ngTokenPath=c,t[qt]=null,t}(_,r,"R3InjectorError",this.source)}throw _}finally{wr(g),Pe(d)}}resolveInjectorInitializers(){const r=Pe(this),s=wr(void 0);try{const c=this.get(oh.multi,bn,Dt.Self);for(const d of c)d()}finally{Pe(r),wr(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Oe(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(r){let s=dl(r=Ye(r))?r:Ye(r&&r.provide);const a=function Wp(t){return ch(t)?Mc(void 0,t.useValue):Mc(Fm(t),ec)}(r);if(dl(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=Mc(void 0,ec,!0),c.factory=()=>hn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ec&&(s.value=Xl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Vm(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ye(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function vf(t){const r=en(t),s=null!==r?r.factory:us(t);if(null!==s)return s;if(t instanceof Dr)throw new tt(204,!1);if(t instanceof Function)return function Fv(t){const r=t.length;if(r>0)throw function pc(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new tt(204,!1);const s=function Nr(t){return t&&(t[nr]||t[On])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new tt(204,!1)}function Fm(t,r,s){let a;if(dl(t)){const c=Ye(t);return us(c)||vf(c)}if(ch(t))a=()=>Ye(t.useValue);else if(function Gp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...hn(t.deps||[]));else if(function Pm(t){return!(!t||!t.useExisting)}(t))a=()=>We(Ye(t.useExisting));else{const c=Ye(t&&(t.useClass||t.provide));if(!function Lm(t){return!!t.deps}(t))return us(c)||vf(c);a=()=>new c(...hn(t.deps))}return a}function Mc(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function ed(t,r){for(const s of t)Array.isArray(s)?ed(s,r):s&&Ln(s)?ed(s.\u0275providers,r):r(s)}const td=new Dr("AppId",{providedIn:"root",factory:()=>_f}),_f="ng",wf=new Dr("Platform Initializer"),hh=new Dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vv=new Dr("CSP nonce",{providedIn:"root",factory:()=>function al(){if(void 0!==Jh)return Jh;if(typeof document<"u")return document;throw new tt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Df=(t,r,s)=>null;function sd(t,r,s=!1){return Df(t,r,s)}class jv{}class Tf{}class ud{resolveComponentFactory(r){throw function Sf(t){const r=Error(`No component factory found for ${Oe(t)}.`);return r.ngComponent=t,r}(r)}}let cd=(()=>{class t{static#e=this.NULL=new ud}return t})();function Hv(){return ld(Si(),nt())}function ld(t,r){return new dd(Ns(t,r))}let dd=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=Hv}return t})();function zm(t){return t instanceof dd?t.nativeElement:t}class Wm{}let rg=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Gv(){const t=nt(),s=es(Si().index,t);return(yi(s)?s:t)[Lt]}()}return t})(),ig=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>null})}return t})();class qm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Mf=new qm("16.2.9"),sg={};function yl(t,r=null,s=null,a){const c=Zm(t,r,s,a);return c.resolveInjectorInitializers(),c}function Zm(t,r=null,s=null,a,c=new Set){const d=[s||bn,pf(t)];return a=a||("object"==typeof t?void 0:Oe(t)),new dh(d,r||hl(),a||null,c)}let au=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=dt;static#t=this.NULL=new ah;static create(s,a){if(Array.isArray(s))return yl({name:""},a,s,"");{const c=s.name??"";return yl({name:c},s.parent,s.providers,c)}}static#n=this.\u0275prov=_n({token:t,providedIn:"any",factory:()=>We(Hp)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function mh(t){return t.ngOriginalError}class Ru{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&mh(r);for(;s&&mh(s);)s=mh(s);return s||null}}function lg(t){return r=>{setTimeout(t,void 0,r)}}const uu=class cg extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const S=r;c=S.next?.bind(S),d=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(d=lg(d),c&&(c=lg(c)),g&&(g=lg(g)));const _=super.subscribe({next:c,error:d,complete:g});return r instanceof ie.w0&&r.add(_),_}};function Jm(...t){}class Ps{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uu(!1),this.onMicrotaskEmpty=new uu(!1),this.onStable=new uu(!1),this.onError=new uu(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Xm(){const t="function"==typeof jt.requestAnimationFrame;let r=jt[t?"requestAnimationFrame":"setTimeout"],s=jt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Zv(t){const r=()=>{!function Kv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hg(t),t.isCheckStableRunning=!0,dg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,_)=>{if(function Yv(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(_))return s.invokeTask(c,d,g,_);try{return Pf(t),s.invokeTask(c,d,g,_)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),kf(t)}},onInvoke:(s,a,c,d,g,_,S)=>{try{return Pf(t),s.invoke(c,d,g,_,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),kf(t)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,hg(t),dg(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new tt(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,ey,Jm,Jm);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const ey={};function dg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Pf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kf(t){t._nesting--,dg(t)}class fg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uu,this.onMicrotaskEmpty=new uu,this.onStable=new uu,this.onError=new uu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const ty=new Dr("",{providedIn:"root",factory:Ff});function Ff(){const t=Ct(Ps);let r=!0;return function He(...t){const r=(0,ne.yG)(t),s=(0,ne._6)(t,1/0),a=t;return a.length?1===a.length?(0,fe.Xf)(a[0]):(0,ge.J)(s)((0,Ke.D)(a,r)):j.E}(new pe.y(c=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(r),c.complete()})}),new pe.y(c=>{let d;t.runOutsideAngular(()=>{d=t.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}}).pipe(me()))}function gg(t){return t.ownerDocument}function tc(t){return t instanceof Function?t():t}let yg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function _l(t){for(;t;){t[sn]|=64;const r=$l(t);if(vi(t)&&!r)return t;t=r}return null}const wl=new Dr("",{providedIn:"root",factory:()=>!1});let gd=null;function jf(t,r){return t[r]??$f()}function ay(t,r){const s=$f();s.producerNode?.length&&(t[r]=gd,s.lView=t,gd=Ig())}const wg={...Ra,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_l(t.lView)},lView:null};function Ig(){return Object.create(wg)}function $f(){return gd??=Ig(),gd}const Nn={};function uy(t){cy(Kn(),nt(),vr()+t,!1)}function cy(t,r,s,a){if(!a)if(3==(3&r[sn])){const d=t.preOrderCheckHooks;null!==d&&ui(r,d,s)}else{const d=t.preOrderHooks;null!==d&&cc(r,d,0,s)}Lo(s)}function Rc(t,r=Dt.Default){const s=nt();return null===s?We(t,r):Ml(Si(),s,Ye(t),r)}function ly(){throw new Error("invalid")}function md(t,r,s,a,c,d,g,_,S,P,$){const X=r.blueprint.slice();return X[sr]=c,X[sn]=140|a,(null!==P||t&&2048&t[sn])&&(X[sn]|=2048),qo(X),X[or]=X[Ts]=t,X[Fn]=s,X[Xs]=g||t&&t[Xs],X[Lt]=_||t&&t[Lt],X[fs]=S||t&&t[fs]||null,X[ni]=d,X[gs]=function U(){return C++}(),X[Ji]=$,X[yo]=P,X[Sr]=2==r.type?t[Sr]:X,X}function Oc(t,r,s,a,c){let d=t.data[r];if(null===d)d=function Dg(t,r,s,a,c){const d=Se(),g=ju(),S=t.data[r]=function Sg(t,r,s,a,c,d){let g=r?r.injectorIndex:-1,_=0;return function Do(){return null!==on.skipHydrationRootTNode}()&&(_|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===t.firstChild&&(t.firstChild=S),null!==d&&(g?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S,S.prev=d)),S}(t,r,s,a,c),function yu(){return on.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function Zo(){const t=on.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Jr(d,!0),d}function Pc(t,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return c}function dy(t,r,s,a,c){const d=jf(r,Us),g=vr(),_=2&a;try{Lo(-1),_&&r.length>mn&&cy(t,r,mn,!1),xe(_?2:0,c);const P=_?d:null,$=Pa(P);try{null!==P&&(P.dirty=!1),s(a,c)}finally{Oo(P,$)}}finally{_&&null===r[Us]&&ay(r,Us),Lo(g),xe(_?3:1,c)}}function Hf(t,r,s){if(Bs(r)){const a=Vi(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const _=t.data[g];_.contentQueries&&_.contentQueries(1,s[g],g)}}finally{Vi(a)}}}function Gf(t,r,s){Uu()&&(function i_(t,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Ss(s)&&function c_(t,r,s){const a=Ns(r,t),c=Cg(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const _=cr(t,md(t,c,null,g,a,r,null,t[Xs].rendererFactory.createRenderer(a,s),null,null,null));t[r.index]=_}(r,s,t.data[c+s.componentOffset]),t.firstCreatePass||qs(s,r),ti(a,r);const g=s.initialInputs;for(let _=c;_<d;_++){const S=t.data[_],P=To(r,t,_,s);ti(P,r),null!==g&&Og(0,_-c,P,S,0,g),yn(S)&&(es(s.index,r)[Fn]=To(r,t,_,s))}}(t,r,s,Ns(s,r)),64==(64&s.flags)&&py(t,r,s))}function kc(t,r,s=Ns){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],_=-1===g?s(r,t):t[g];t[c++]=_}}}function Cg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=yd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function yd(t,r,s,a,c,d,g,_,S,P,$){const X=mn+a,he=X+c,we=function e_(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Nn);return s}(X,he),Ze="function"==typeof P?P():P;return we[mt]={type:t,blueprint:we,template:s,queries:null,viewQuery:_,declTNode:r,data:we.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:Ze,incompleteFirstPass:!1,ssrId:$}}let hy=t=>null;function Ag(t,r,s,a){for(let c in t)if(t.hasOwnProperty(c)){s=null===s?{}:s;const d=t[c];null===a?Wf(s,r,c,d):a.hasOwnProperty(c)&&Wf(s,r,a[c],d)}return s}function Wf(t,r,s,a){t.hasOwnProperty(s)?t[s].push(r,a):t[s]=[r,a]}function $o(t,r,s,a,c,d,g,_){const S=Ns(r,s);let $,P=r.inputs;!_&&null!=P&&($=P[a])?(Ga(t,s,$,a,c),Ss(r)&&function fy(t,r){const s=es(r,t);16&s[sn]||(s[sn]|=64)}(s,r.index)):3&r.type&&(a=function qf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(S,a,c))}function yh(t,r,s,a){if(Uu()){const c=null===a?null:{"":-1},d=function gy(t,r){const s=t.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Js(r,g.selectors,!1))if(a||(a=[]),yn(g))if(null!==g.findHostDirectiveDefs){const _=[];c=c||new Map,g.findHostDirectiveDefs(g,_,c),a.unshift(..._,g),Rg(t,r,_.length)}else a.unshift(g),Rg(t,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(t,s);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&xg(t,r,s,g,c,_),c&&function my(t,r,s){if(r){const a=t.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new tt(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=ut(s.mergedAttrs,s.attrs)}function xg(t,r,s,a,c,d){for(let P=0;P<a.length;P++)Ba(qs(s,r),t,a[P].type);!function a_(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}(s,t.data.length,a.length);for(let P=0;P<a.length;P++){const $=a[P];$.providersResolver&&$.providersResolver($)}let g=!1,_=!1,S=Pc(t,r,a.length,null);for(let P=0;P<a.length;P++){const $=a[P];s.mergedAttrs=ut(s.mergedAttrs,$.hostAttrs),u_(t,s,r,S,$),o_(S,$,c),null!==$.contentQueries&&(s.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(s.flags|=64);const X=$.type.prototype;!g&&(X.ngOnChanges||X.ngOnInit||X.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),g=!0),!_&&(X.ngOnChanges||X.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),_=!0),S++}!function Mg(t,r,s){const c=r.directiveEnd,d=t.data,g=r.attrs,_=[];let S=null,P=null;for(let $=r.directiveStart;$<c;$++){const X=d[$],he=s?s.get(X):null,Ze=he?he.outputs:null;S=Ag(X.inputs,$,S,he?he.inputs:null),P=Ag(X.outputs,$,P,Ze);const ct=null===S||null===g||Dn(r)?null:vy(S,$,g);_.push(ct)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=_,r.inputs=S,r.outputs=P}(t,s,d)}function py(t,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function m(){return on.lFrame.currentDirectiveIndex}();try{Lo(d);for(let _=a;_<c;_++){const S=t.data[_],P=r[_];T(_),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&s_(S,P)}}finally{Lo(-1),T(g)}}function s_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Rg(t,r,s){r.componentOffset=s,(t.components??=[]).push(r.index)}function o_(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;yn(r)&&(s[""]=t)}}function u_(t,r,s,a,c){t.data[a]=c;const d=c.factory||(c.factory=us(c.type)),g=new xr(d,yn(c),Rc);t.blueprint[a]=g,s[a]=g,function vd(t,r,s,a,c){const d=c.hostBindings;if(d){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const _=~r.index;(function Ng(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=_&&g.push(_),g.push(s,a,d)}}(t,r,a,Pc(t,s,c.hostVars,Nn),c)}function cu(t,r,s,a,c,d){const g=Ns(t,r);!function Zf(t,r,s,a,c,d,g){if(null==d)t.removeAttribute(r,c,s);else{const _=null==g?pt(d):g(d,a||"",c);t.setAttribute(r,c,_,s)}}(r[Lt],g,d,t.value,s,a,c)}function Og(t,r,s,a,c,d){const g=d[r];if(null!==g)for(let _=0;_<g.length;)yy(a,s,g[_++],g[_++],g[_++])}function yy(t,r,s,a,c){const d=Vi(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==t.setInput?t.setInput(r,c,s,a):r[a]=c}finally{Vi(d)}}function vy(t,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(t.hasOwnProperty(d)){null===a&&(a=[]);const g=t[d];for(let _=0;_<g.length;_+=2)if(g[_]===r){a.push(d,g[_+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Pg(t,r,s,a){return[t,!0,!1,r,null,0,a,s,null,null,null]}function vh(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=t.data[d];ee(s[a]),g.contentQueries(2,r[d],d)}}}function cr(t,r){return t[ps]?t[bs][Ur]=r:t[ps]=r,t[bs]=r,r}function Yf(t,r,s){ee(0);const a=Vi(null);try{r(t,s)}finally{Vi(a)}}function _d(t){return t[mo]||(t[mo]=[])}function _y(t){return t.cleanup||(t.cleanup=[])}function Ys(t,r){const s=t[fs],a=s?s.get(Ru,null):null;a&&a.handleError(r)}function Ga(t,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],_=s[d++];yy(t.data[g],r[g],a,_,c)}}function nc(t,r,s){const a=La(r,t);!function Ap(t,r,s){t.setValue(r,s)}(t[Lt],a,s)}function nw(t,r){const s=es(r,t),a=s[mt];!function d_(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])}(a,s);const c=s[sr];null!==c&&null===s[Ji]&&(s[Ji]=sd(c,s[fs])),wy(a,s,s[Fn])}function wy(t,r,s){It(r);try{const a=t.viewQuery;null!==a&&Yf(1,a,s);const c=t.template;null!==c&&dy(t,r,c,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vh(t,r),t.staticViewQueries&&Yf(2,t.viewQuery,s);const d=t.components;null!==d&&function Iy(t,r){for(let s=0;s<r.length;s++)nw(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[sn]&=-5,ts()}}let Ey=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function Gs(t,r,s){const a=Object.create(Mr);s&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>qn(a),run:()=>{if(a.dirty=!1,a.hasRun&&!to(a))return;a.hasRun=!0;const g=Pa(a);try{a.cleanupFn(),a.cleanupFn=fr,a.fn(c)}finally{Oo(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,P=>{this.all.has(P)&&this.queue.set(P,d)},c);let _;this.all.add(g),g.notify();const S=()=>{g.cleanup(),_?.(),this.all.delete(g),this.queue.delete(g)};return _=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:()=>new t})}return t})();function Qf(t,r,s){let a=s?t.styles:null,c=s?t.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const _=r[g];"number"==typeof _?d=_:1==d?c=Be(c,_):2==d&&(a=Be(a,_+": "+r[++g]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=c:t.classesWithoutHost=c}function Jf(t,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Or(d)),Wr(d)&&Mi(d,a);const g=s.type;if(8&g)Jf(t,r,s.child,a);else if(32&g){const _=rl(s,r);let S;for(;S=_();)a.push(S)}else if(16&g){const _=Wl(r,s);if(Array.isArray(_))a.push(..._);else{const S=$l(r[Sr]);Jf(S[mt],S,_,a,!0)}}s=c?s.projectionNext:s.next}return a}function Mi(t,r){for(let s=ri;s<t.length;s++){const a=t[s],c=a[mt].firstChild;null!==c&&Jf(a[mt],a,c,r)}t[mi]!==t[sr]&&r.push(t[mi])}function Fg(t,r,s,a=!0){const c=r[Xs],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Lg(t,r,t.template,s)}catch(S){throw a&&Ys(r,S),S}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Lg(t,r,s,a){const c=r[sn];if(256!=(256&c)){r[Xs].effectManager?.flush(),It(r);try{qo(r),function $u(t){return on.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&dy(t,r,s,2,a);const g=3==(3&c);if(g){const P=t.preOrderCheckHooks;null!==P&&ui(r,P,null)}else{const P=t.preOrderHooks;null!==P&&cc(r,P,0,null),_a(r,0)}if(function iw(t){for(let r=Wh(t);null!==r;r=Sp(r)){if(!r[gi])continue;const s=r[hr];for(let a=0;a<s.length;a++){zi(s[a])}}}(r),h_(r,2),null!==t.contentQueries&&vh(t,r),g){const P=t.contentCheckHooks;null!==P&&ui(r,P)}else{const P=t.contentHooks;null!==P&&cc(r,P,1),_a(r,1)}!function Eg(t,r){const s=t.hostBindingOpCodes;if(null===s)return;const a=jf(r,jr);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)Lo(~d);else{const g=d,_=s[++c],S=s[++c];b(_,g),a.dirty=!1;const P=Pa(a);try{S(2,r[g])}finally{Oo(a,P)}}}}finally{null===r[jr]&&ay(r,jr),Lo(-1)}}(t,r);const _=t.components;null!==_&&p_(r,_,0);const S=t.viewQuery;if(null!==S&&Yf(2,S,a),g){const P=t.viewCheckHooks;null!==P&&ui(r,P)}else{const P=t.viewHooks;null!==P&&cc(r,P,2),_a(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[sn]&=-73,$r(r)}finally{ts()}}}function h_(t,r){for(let s=Wh(t);null!==s;s=Sp(s))for(let a=ri;a<s.length;a++)f_(s[a],r)}function Dy(t,r,s){f_(es(r,t),s)}function f_(t,r){if(!function Pi(t){return 128==(128&t[sn])}(t))return;const s=t[mt],a=t[sn];if(80&a&&0===r||1024&a||2===r)Lg(s,t,s.template,t[Fn]);else if(t[Qi]>0){h_(t,1);const c=s.components;null!==c&&p_(t,c,1)}}function p_(t,r,s){for(let a=0;a<r.length;a++)Dy(t,r[a],s)}class Xf{get rootNodes(){const r=this._lView,s=r[mt];return Jf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(r){this._lView[Fn]=r}get destroyed(){return 256==(256&this._lView[sn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[or];if(Wr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Yd(r,a),qu(s,a))}this._attachedToViewContainer=!1}Qd(this._lView[mt],this._lView)}onDestroy(r){!function ma(t,r){if(256==(256&t[sn]))throw new tt(911,!1);null===t[Vs]&&(t[Vs]=[]),t[Vs].push(r)}(this._lView,r)}markForCheck(){_l(this._cdRefInjectingView||this._lView)}detach(){this._lView[sn]&=-129}reattach(){this._lView[sn]|=128}detectChanges(){Fg(this._lView[mt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vv(t,r){Kl(t,r,r[Lt],2,null,null)}(this._lView[mt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=r}}class sw extends Xf{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Fg(r[mt],r,r[Fn],!1)}checkNoChanges(){}get context(){return null}}class g_ extends cd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=pn(r);return new rc(s,this.ngModule)}}function m_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Cy{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Jt(a);const c=this.injector.get(r,sg,a);return c!==sg||s===sg?c:this.parentInjector.get(r,s,a)}}class rc extends Tf{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=m_(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return m_(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function lo(t){return t.map(aa).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof su?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new Cy(r,d):r,_=g.get(Wm,null);if(null===_)throw new tt(407,!1);const X={rendererFactory:_,sanitizer:g.get(ig,null),effectManager:g.get(Ey,null),afterRenderEventManager:g.get(yg,null)},he=_.createRenderer(null,this.componentDef),we=this.componentDef.selectors[0][0]||"div",Ze=a?function t_(t,r,s,a){const d=a.get(wl,!1)||s===Hr.ShadowDom,g=t.selectRootElement(r,d);return function n_(t){hy(t)}(g),g}(he,a,this.componentDef.encapsulation,g):Kd(he,we,function ow(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(we)),Qt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let it=null;null!==Ze&&(it=sd(Ze,g,!0));const Rn=yd(0,null,null,1,0,null,null,null,null,null,null),lr=md(null,Rn,null,Qt,null,null,X,he,g,null,it);let Ei,Ka;It(lr);try{const Sl=this.componentDef;let _p,q0=null;Sl.findHostDirectiveDefs?(_p=[],q0=new Map,Sl.findHostDirectiveDefs(Sl,_p,q0),_p.push(Sl)):_p=[Sl];const nS=function Il(t,r){const s=t[mt],a=mn;return t[a]=r,Oc(s,a,2,"#host",null)}(lr,Ze),rS=function wd(t,r,s,a,c,d,g){const _=c[mt];!function aw(t,r,s,a){for(const c of t)r.mergedAttrs=ut(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Qf(r,r.mergedAttrs,!0),null!==s&&Cm(a,s,r))}(a,t,r,g);let S=null;null!==r&&(S=sd(r,c[fs]));const P=d.rendererFactory.createRenderer(r,s);let $=16;s.signals?$=4096:s.onPush&&($=64);const X=md(c,Cg(s),null,$,c[t.index],t,d,P,null,null,S);return _.firstCreatePass&&Rg(_,t,a.length-1),cr(c,X),c[t.index]=X}(nS,Ze,Sl,_p,lr,X,he);Ka=Qa(Rn,mn),Ze&&function Vg(t,r,s,a){if(a)de(t,s,["ng-version",Mf.full]);else{const{attrs:c,classes:d}=function Ds(t){const r=[],s=[];let a=1,c=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===c?""!==d&&r.push(d,t[++a]):8===c&&s.push(d);else{if(!Jn(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&de(t,s,c),d&&d.length>0&&Dc(t,s,d.join(" "))}}(he,Sl,Ze,a),void 0!==s&&function v_(t,r,s){const a=t.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(Ka,this.ngContentSelectors,s),Ei=function by(t,r,s,a,c,d){const g=Si(),_=c[mt],S=Ns(g,c);xg(_,c,g,s,null,a);for(let $=0;$<s.length;$++)ti(To(c,_,g.directiveStart+$,g),c);py(_,c,g),S&&ti(S,c);const P=To(c,_,g.directiveStart+g.componentOffset,g);if(t[Fn]=c[Fn]=P,null!==d)for(const $ of d)$(P,r);return Hf(_,g,t),P}(rS,Sl,_p,q0,lr,[__]),wy(Rn,lr,null)}finally{ts()}return new y_(this.componentType,Ei,ld(Ka,lr),lr,Ka)}}class y_ extends jv{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new sw(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Ga(d[mt],d,c,r,s),this.previousInputValues.set(r,s),_l(es(this._tNode.index,d))}}get injector(){return new Rs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function __(){const t=Si();Gu(nt()[mt],t)}function ep(t){let r=function Ug(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let c;if(yn(t))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,!1);c=r.\u0275dir}if(c){if(s){a.push(c);const g=t;g.inputs=np(t.inputs),g.inputTransforms=np(t.inputTransforms),g.declaredInputs=np(t.declaredInputs),g.outputs=np(t.outputs);const _=c.hostBindings;_&&_h(t,_);const S=c.viewQuery,P=c.contentQueries;if(S&&Id(t,S),P&&Bg(t,P),et(t.inputs,c.inputs),et(t.declaredInputs,c.declaredInputs),et(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),et(g.inputTransforms,c.inputTransforms)),yn(c)&&c.data.animation){const $=t.data;$.animation=($.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(t),_===ep&&(s=!1)}}r=Object.getPrototypeOf(r)}!function tp(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=r+=c.hostVars,c.hostAttrs=ut(c.hostAttrs,s=ut(s,c.hostAttrs))}}(a)}function np(t){return t===Gr?{}:t===bn?[]:t}function Id(t,r){const s=t.viewQuery;t.viewQuery=s?(a,c)=>{r(a,c),s(a,c)}:r}function Bg(t,r){const s=t.contentQueries;t.contentQueries=s?(a,c,d)=>{r(a,c,d),s(a,c,d)}:r}function _h(t,r){const s=t.hostBindings;t.hostBindings=s?(a,c)=>{r(a,c),s(a,c)}:r}function Hg(t){const r=t.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}t.inputTransforms=s}function Ed(t){return!!Dd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Dd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ao(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Pu(t,r,s,a){const c=Ao(t,r,s);return Ao(t,r+1,a)||c}function ip(t,r,s,a){const c=nt();return Ao(c,Xa(),r)&&(Kn(),cu(ai(),c,t,r,s,a)),ip}function ku(t,r,s,a){return Ao(t,Xa(),s)?r+pt(s)+a:Nn}function Dh(t,r,s,a,c,d,g,_,S,P){const X=function ia(t,r,s,a,c,d){const g=Pu(t,r,s,a);return Pu(t,r+2,c,d)||g}(t,function Co(){return on.lFrame.bindingIndex}(),s,c,g,S);return Xr(4),X?r+pt(s)+a+pt(c)+d+pt(g)+_+pt(S)+P:Nn}function ky(t,r,s,a,c,d,g,_){const S=nt(),P=Kn(),$=t+mn,X=P.firstCreatePass?function V_(t,r,s,a,c,d,g,_,S){const P=r.consts,$=Oc(r,t,4,g||null,St(P,_));yh(r,s,$,St(P,S)),Gu(r,$);const X=$.tView=yd(2,$,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,P,null);return null!==r.queries&&(r.queries.template(r,$),X.queries=r.queries.embeddedTView($)),$}($,P,S,r,s,a,c,d,g):P.data[$];Jr(X,!1);const he=Fy(P,S,X,t);Bc()&&Mu(P,S,he,X),ti(he,S),cr(S,S[$]=Pg(he,S,he,X)),_o(X)&&Gf(P,S,X),null!=g&&kc(S,X,_)}let Fy=function Ly(t,r,s,a){return Xo(!0),r[Lt].createComment("")};function Vy(t,r,s){const a=nt();return Ao(a,Xa(),r)&&$o(Kn(),ai(),a,t,r,a[Lt],s,!1),Vy}function qg(t,r,s,a,c){const g=c?"class":"style";Ga(t,s,r.inputs[g],g,a)}function ap(t,r,s,a){const c=nt(),d=Kn(),g=mn+t,_=c[Lt],S=d.firstCreatePass?function B_(t,r,s,a,c,d){const g=r.consts,S=Oc(r,t,2,a,St(g,c));return yh(r,s,S,St(g,d)),null!==S.attrs&&Qf(S,S.attrs,!1),null!==S.mergedAttrs&&Qf(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(g,d,c,r,s,a):d.data[g],P=Uy(d,c,S,_,r,t);c[g]=P;const $=_o(S);return Jr(S,!0),Cm(_,P,S),32!=(32&S.flags)&&Bc()&&Mu(d,c,P,S),0===function Ko(){return on.lFrame.elementDepthCount}()&&ti(P,c),function ya(){on.lFrame.elementDepthCount++}(),$&&(Gf(d,c,S),Hf(d,S,c)),null!==a&&kc(c,S),ap}function Kg(){let t=Si();ju()?function Fo(){on.lFrame.isParent=!1}():(t=t.parent,Jr(t,!1));const r=t;(function oc(t){return on.skipHydrationRootTNode===t})(r)&&function Ws(){on.skipHydrationRootTNode=null}(),function ko(){on.lFrame.elementDepthCount--}();const s=Kn();return s.firstCreatePass&&(Gu(s,t),Bs(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function $c(t){return 0!=(8&t.flags)}(r)&&qg(s,r,nt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function rs(t){return 0!=(16&t.flags)}(r)&&qg(s,r,nt(),r.stylesWithoutHost,!1),Kg}function Zg(t,r,s,a){return ap(t,r,s,a),Kg(),Zg}let Uy=(t,r,s,a,c,d)=>(Xo(!0),Kd(a,c,function Al(){return on.lFrame.currentNamespace}()));function G_(){return nt()}function cp(t){return!!t&&"function"==typeof t.then}function Mh(t){return!!t&&"function"==typeof t.subscribe}function lp(t,r,s,a){const c=nt(),d=Kn(),g=Si();return function dp(t,r,s,a,c,d,g){const _=_o(a),P=t.firstCreatePass&&_y(t),$=r[Fn],X=_d(r);let he=!0;if(3&a.type||g){const ct=Ns(a,r),At=g?g(ct):ct,Qt=X.length,it=g?lr=>g(Or(lr[a.index])):a.index;let Rn=null;if(!g&&_&&(Rn=function Dw(t,r,s,a){const c=t.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const _=r[mo],S=c[d+2];return _.length>S?_[S]:null}"string"==typeof g&&(d+=2)}return null}(t,r,c,a.index)),null!==Rn)(Rn.__ngLastListenerFn__||Rn).__ngNextListenerFn__=d,Rn.__ngLastListenerFn__=d,he=!1;else{d=Gy(a,r,$,d,!1);const lr=s.listen(At,c,d);X.push(d,lr),P&&P.push(c,it,Qt,Qt+1)}}else d=Gy(a,r,$,d,!1);const we=a.outputs;let Ze;if(he&&null!==we&&(Ze=we[c])){const ct=Ze.length;if(ct)for(let At=0;At<ct;At+=2){const Ei=r[Ze[At]][Ze[At+1]].subscribe(d),Ka=X.length;X.push(d,Ei),P&&P.push(c,a.index,Ka,-(Ka+1))}}}(d,c,c[Lt],g,t,r,a),lp}function Hy(t,r,s,a){try{return xe(6,r,s),!1!==s(a)}catch(c){return Ys(t,c),!1}finally{xe(7,r,s)}}function Gy(t,r,s,a,c){return function d(g){if(g===Function)return a;_l(t.componentOffset>-1?es(t.index,r):r);let S=Hy(r,s,a,g),P=d.__ngNextListenerFn__;for(;P;)S=Hy(r,s,P,g)&&S,P=P.__ngNextListenerFn__;return c&&!1===S&&g.preventDefault(),S}}function zy(t=1){return function Jo(t){return(on.lFrame.contextLView=function vu(t,r){for(;t>0;)r=r[Ts],t--;return r}(t,on.lFrame.contextLView))[Fn]}(t)}function Yg(t,r,s,a,c){const d=nt(),g=ku(d,r,s,a);return g!==Nn&&$o(Kn(),ai(),d,t,g,d[Lt],c,!1),Yg}function Qg(t,r){return t<<17|r<<2}function bl(t){return t>>17&32767}function qy(t){return 2|t}function Td(t){return(131068&t)>>2}function Ky(t,r){return-131069&t|r<<2}function Zy(t){return 1|t}function r0(t,r,s,a,c){const d=t[s+1],g=null===r;let _=a?bl(d):Td(d),S=!1;for(;0!==_&&(!1===S||g);){const $=t[_+1];Aw(t[_],r)&&(S=!0,t[_+1]=a?Zy($):qy($)),_=a?bl($):Td($)}S&&(t[s+1]=a?qy(d):Zy(d))}function Aw(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&na(t,r)>=0}function Jy(t,r,s){return Lu(t,r,s,!1),Jy}function Jg(t,r){return Lu(t,r,null,!0),Jg}function Lu(t,r,s,a){const c=nt(),d=Kn(),g=Xr(2);d.firstUpdatePass&&function l0(t,r,s,a){const c=t.data;if(null===c[s+1]){const d=c[vr()],g=function c0(t,r){return r>=t.expandoStartIndex}(t,s);(function D(t,r){return 0!=(t.flags&(r?8:16))})(d,a)&&null===r&&!g&&(r=!1),r=function Lw(t,r,s,a){const c=function R(t){const r=on.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(s=hp(s=Xy(null,t,r,s,a),r.attrs,a),d=null);else{const g=r.directiveStylingLast;if(-1===g||t[g]!==c)if(s=Xy(c,t,r,s,a),null===d){let S=function Vw(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Td(a))return t[bl(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=Xy(null,t,r,S[1],a),S=hp(S,r.attrs,a),function Uw(t,r,s,a){t[bl(s?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function Bw(t,r,s){let a;const c=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<c;d++)a=hp(a,t[d].hostAttrs,s);return hp(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(c,d,r,a),function Tw(t,r,s,a,c,d){let g=d?r.classBindings:r.styleBindings,_=bl(g),S=Td(g);t[a]=s;let $,P=!1;if(Array.isArray(s)?($=s[1],(null===$||na(s,$)>0)&&(P=!0)):$=s,c)if(0!==S){const he=bl(t[_+1]);t[a+1]=Qg(he,_),0!==he&&(t[he+1]=Ky(t[he+1],a)),t[_+1]=function n0(t,r){return 131071&t|r<<17}(t[_+1],a)}else t[a+1]=Qg(_,0),0!==_&&(t[_+1]=Ky(t[_+1],a)),_=a;else t[a+1]=Qg(S,0),0===_?_=a:t[S+1]=Ky(t[S+1],a),S=a;P&&(t[a+1]=qy(t[a+1])),r0(t,$,a,!0),r0(t,$,a,!1),function Sw(t,r,s,a,c){const d=c?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&na(d,r)>=0&&(s[a+1]=Zy(s[a+1]))}(r,$,t,a,d),g=Qg(_,S),d?r.classBindings=g:r.styleBindings=g}(c,d,r,s,g,a)}}(d,t,g,a),r!==Nn&&Ao(c,g,r)&&function o(t,r,s,a,c,d,g,_){if(!(3&r.type))return;const S=t.data,P=S[_+1],$=function bw(t){return 1==(1&t)}(P)?u(S,r,s,c,Td(P),g):void 0;l($)||(l(d)||function Cw(t){return 2==(2&t)}(P)&&(d=u(S,null,s,c,_,g)),function Qh(t,r,s,a,c){if(r)c?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:el.DashCase;null==c?t.removeStyle(s,a,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=el.Important),t.setStyle(s,a,c,d))}}(a,g,La(vr(),s),c,d))}(d,d.data[vr()],c,c[Lt],t,c[g+1]=function f(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Oe(bc(t)))),t}(r,s),a,g)}function Xy(t,r,s,a,c){let d=null;const g=s.directiveEnd;let _=s.directiveStylingLast;for(-1===_?_=s.directiveStart:_++;_<g&&(d=r[_],a=hp(a,d.hostAttrs,c),d!==t);)_++;return null!==t&&(s.directiveStylingLast=_),a}function hp(t,r,s){const a=s?1:2;let c=-1;if(null!==r)for(let d=0;d<r.length;d++){const g=r[d];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),So(t,g,!!s||r[++d]))}return void 0===t?null:t}function u(t,r,s,a,c,d){const g=null===r;let _;for(;c>0;){const S=t[c],P=Array.isArray(S),$=P?S[1]:S,X=null===$;let he=s[c+1];he===Nn&&(he=X?bn:void 0);let we=X?gc(he,a):$===a?he:void 0;if(P&&!l(we)&&(we=gc(S,a)),l(we)&&(_=we,g))return _;const Ze=t[c+1];c=g?bl(Ze):Td(Ze)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(_=gc(S,a))}return _}function l(t){return void 0!==t}function N(t,r=""){const s=nt(),a=Kn(),c=t+mn,d=a.firstCreatePass?Oc(a,c,1,r,null):a.data[c],g=F(a,s,d,r,t);s[c]=g,Bc()&&Mu(a,s,g,d),Jr(d,!1)}let F=(t,r,s,a,c)=>(Xo(!0),function Gl(t,r){return t.createText(r)}(r[Lt],a));function Te(t){return je("",t,""),Te}function je(t,r,s){const a=nt(),c=ku(a,t,r,s);return c!==Nn&&nc(a,vr(),c),je}function Rt(t,r,s,a,c,d,g,_,S){const P=nt(),$=Dh(P,t,r,s,a,c,d,g,_,S);return $!==Nn&&nc(P,vr(),$),Rt}const Nh=void 0;var SD=["en",[["a","p"],["AM","PM"],Nh],[["AM","PM"],Nh,Nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nh,"{1} 'at' {0}",Nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TD(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let fp={};function d0(t){const r=function AD(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=eI(r);if(s)return s;const a=r.split("-")[0];if(s=eI(a),s)return s;if("en"===a)return SD;throw new tt(701,!1)}function Xw(t){return d0(t)[pp.PluralCase]}function eI(t){return t in fp||(fp[t]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[t]),fp[t]}var pp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pp||{});const gp="en-US";let tI=gp;function p0(t,r,s,a,c){if(t=Ye(t),Array.isArray(t))for(let d=0;d<t.length;d++)p0(t[d],r,s,a,c);else{const d=Kn(),g=nt(),_=Si();let S=dl(t)?t:Ye(t.provide);const P=Fm(t),$=1048575&_.providerIndexes,X=_.directiveStart,he=_.providerIndexes>>20;if(dl(t)||!t.multi){const we=new xr(P,c,Rc),Ze=m0(S,r,c?$:$+he,X);-1===Ze?(Ba(qs(_,g),d,S),g0(d,t,r.length),r.push(S),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(we),g.push(we)):(s[Ze]=we,g[Ze]=we)}else{const we=m0(S,r,$+he,X),Ze=m0(S,r,$,$+he),At=Ze>=0&&s[Ze];if(c&&!At||!c&&!(we>=0&&s[we])){Ba(qs(_,g),d,S);const Qt=function TC(t,r,s,a,c){const d=new xr(t,s,Rc);return d.multi=[],d.index=r,d.componentProviders=0,TI(d,c,a&&!s),d}(c?bC:CC,s.length,c,a,P);!c&&At&&(s[Ze].providerFactory=Qt),g0(d,t,r.length,0),r.push(S),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),s.push(Qt),g.push(Qt)}else g0(d,t,we>-1?we:Ze,TI(s[c?Ze:we],P,!c&&a));!c&&a&&At&&s[Ze].componentProviders++}}}function g0(t,r,s,a){const c=dl(r),d=function km(t){return!!t.useClass}(r);if(c||d){const S=(d?Ye(r.useClass):r).prototype.ngOnDestroy;if(S){const P=t.destroyHooks||(t.destroyHooks=[]);if(!c&&r.multi){const $=P.indexOf(s);-1===$?P.push(s,[a,S]):P[$+1].push(a,S)}else P.push(s,S)}}}function TI(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function m0(t,r,s,a){for(let c=s;c<a;c++)if(r[c]===t)return c;return-1}function CC(t,r,s,a){return y0(this.multi,[])}function bC(t,r,s,a){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=To(s,s[mt],this.providerFactory.index,a);d=_.slice(0,g),y0(c,d);for(let S=g;S<_.length;S++)d.push(_[S])}else d=[],y0(c,d);return d}function y0(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function SI(t,r=[]){return s=>{s.providersResolver=(a,c)=>function DC(t,r,s){const a=Kn();if(a.firstCreatePass){const c=yn(t);p0(s,a.data,a.blueprint,c,!0),p0(r,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,r)}}class Rh{}class AI{}function SC(t,r){return new v0(t,r??null,[])}class v0 extends Rh{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new g_(this);const c=Yr(r);this._bootstrapComponents=tc(c.bootstrap),this._r3Injector=Zm(r,s,[{provide:Rh,useValue:this},{provide:cd,useValue:this.componentFactoryResolver},...a],Oe(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class _0 extends AI{constructor(r){super(),this.moduleType=r}create(r){return new v0(this.moduleType,r,[])}}class MI extends Rh{constructor(r){super(),this.componentFactoryResolver=new g_(this),this.instance=null;const s=new dh([...r.providers,{provide:Rh,useValue:this},{provide:cd,useValue:this.componentFactoryResolver}],r.parent||hl(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function xI(t,r,s=null){return new MI({providers:t,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let MC=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=gf(0,s.type),c=a.length>0?xI([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=_n({token:t,providedIn:"environment",factory:()=>new t(We(su))})}return t})();function NI(t){t.getStandaloneInjector=r=>r.get(MC).getOrCreateStandaloneInjector(t)}function VI(t,r,s,a,c){return function BI(t,r,s,a,c,d,g){const _=r+s;return Pu(t,_,c,d)?function lu(t,r,s){return t[r]=s}(t,_+2,g?a.call(g,c,d):a(c,d)):function im(t,r){const s=t[r];return s===Nn?void 0:s}(t,_+2)}(nt(),function Wi(){const t=on.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}(),t,r,s,a,c)}function eb(){return this._results[Symbol.iterator]()}class I0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new uu)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=I0.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=eb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function cs(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function fc(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function nb(t,r,s,a=!0){const c=r[mt];if(function Zd(t,r,s,a){const c=ri+a,d=s.length;a>0&&(s[c-1][Ur]=r),a<d-ri?(r[Ur]=s[c],Wc(s,ri+a,r)):(s.push(r),r[Ur]=null),r[or]=s;const g=r[Fs];null!==g&&s!==g&&function Mp(t,r){const s=t[hr];r[Sr]!==r[or][or][Sr]&&(t[gi]=!0),null===s?t[hr]=[r]:s.push(r)}(g,r);const _=r[Br];null!==_&&_.insertView(t),r[sn]|=128}(c,r,t,s),a){const d=Kh(s,t),g=r[Lt],_=Jd(g,t[mi]);null!==_&&function ym(t,r,s,a,c,d){a[sr]=c,a[ni]=r,Kl(t,a,s,1,c,d)}(c,t[ni],g,r,_,d)}}let om=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=sb}return t})();const rb=om,ib=class extends rb{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function tb(t,r,s,a){const c=r.tView,_=md(t,c,s,4096&t[sn]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);_[Fs]=t[r.index];const P=t[Br];return null!==P&&(_[Br]=P.createEmbeddedView(c)),wy(c,_,s),_}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new Xf(c)}};function sb(){return sv(Si(),nt())}function sv(t,r){return 4&t.type?new ib(r,t,ld(t,r)):null}let av=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=db}return t})();function db(){return YI(Si(),nt())}const hb=av,KI=class extends hb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Rs(this._hostTNode,this._hostLView)}get parentInjector(){const r=ta(this._hostTNode,this._hostLView);if(ci(r)){const s=Eu(r,this._hostLView),a=oo(r);return new Rs(s[mt].data[a+8],s)}return new Rs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=ZI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-ri}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const _=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(_,c,false),_}createComponent(r,s,a,c,d){const g=r&&!function hc(t){return"function"==typeof t}(r);let _;if(g)_=s;else{const ct=s||{};_=ct.index,a=ct.injector,c=ct.projectableNodes,d=ct.environmentInjector||ct.ngModuleRef}const S=g?r:new rc(pn(r)),P=a||this.parentInjector;if(!d&&null==S.ngModule){const At=(g?P:this.parentInjector).get(su,null);At&&(d=At)}pn(S.componentType??{});const we=S.create(P,c,null,d);return this.insertImpl(we.hostView,_,false),we}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function mu(t){return Wr(t[or])}(c)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const P=c[or],$=new KI(P,P[ni],P[or]);$.detach($.indexOf(r))}}const g=this._adjustIndex(s),_=this._lContainer;return nb(_,c,g,!a),r.attachToViewContainerRef(),Wc(E0(_),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=ZI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Yd(this._lContainer,s);a&&(qu(E0(this._lContainer),s),Qd(a[mt],a))}detach(r){const s=this._adjustIndex(r,-1),a=Yd(this._lContainer,s);return a&&null!=qu(E0(this._lContainer),s)?new Xf(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function ZI(t){return t[8]}function E0(t){return t[8]||(t[8]=[])}function YI(t,r){let s;const a=r[t.index];return Wr(a)?s=a:(s=Pg(a,r,null,t),r[t.index]=s,cr(r,s)),QI(s,r,t,a),new KI(s,t,r)}let QI=function JI(t,r,s,a){if(t[mi])return;let c;c=8&s.type?Or(a):function fb(t,r){const s=t[Lt],a=s.createComment(""),c=Ns(r,t);return sl(s,Jd(s,c),a,function Xu(t,r){return t.nextSibling(r)}(s,c),!1),a}(r,s),t[mi]=c};class D0{constructor(r){this.queryList=r,this.matches=null}clone(){return new D0(this.queryList)}setDirty(){this.queryList.setDirty()}}class C0{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new C0(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==oE(r,s).matches&&this.queries[s].setDirty()}}class XI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class b0{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new b0(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class T0{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new T0(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,mb(s,d)),this.matchTNodeWithReadOption(r,s,ao(s,r,d,!1,!1))}else a===om?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ao(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===dd||c===av||c===om&&4&s.type)this.addMatch(s.index,-2);else{const d=ao(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function mb(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function vb(t,r,s,a){return-1===s?function yb(t,r){return 11&t.type?ld(t,r):4&t.type?sv(t,r):null}(r,t):-2===s?function _b(t,r,s){return s===dd?ld(r,t):s===om?sv(r,t):s===av?YI(r,t):void 0}(t,r,a):To(t,t[mt],s,r)}function eE(t,r,s,a){const c=r[Br].queries[a];if(null===c.matches){const d=t.data,g=s.matches,_=[];for(let S=0;S<g.length;S+=2){const P=g[S];_.push(P<0?null:vb(r,d[P],g[S+1],s.metadata.read))}c.matches=_}return c.matches}function S0(t,r,s,a){const c=t.queries.getByIndex(s),d=c.matches;if(null!==d){const g=eE(t,r,c,s);for(let _=0;_<d.length;_+=2){const S=d[_];if(S>0)a.push(g[_/2]);else{const P=d[_+1],$=r[-S];for(let X=ri;X<$.length;X++){const he=$[X];he[Fs]===he[or]&&S0(he[mt],he,P,a)}if(null!==$[hr]){const X=$[hr];for(let he=0;he<X.length;he++){const we=X[he];S0(we[mt],we,P,a)}}}}}return a}function tE(t){const r=nt(),s=Kn(),a=H();ee(a+1);const c=oE(s,a);if(t.dirty&&function Ad(t){return 4==(4&t[sn])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const d=c.crossesNgTemplate?S0(s,r,a,[]):eE(s,r,c,a);t.reset(d,zm),t.notifyOnChanges()}return!0}return!1}function nE(t,r,s,a){const c=Kn();if(c.firstCreatePass){const d=Si();(function sE(t,r,s){null===t.queries&&(t.queries=new b0),t.queries.track(new T0(r,s))})(c,new XI(r,s,a),d.index),function Eb(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(c,t),2==(2&s)&&(c.staticContentQueries=!0)}!function iE(t,r,s){const a=new I0(4==(4&s));(function Tg(t,r,s,a){const c=_d(r);c.push(s),t.firstCreatePass&&_y(t).push(a,c.length-1)})(t,r,a,a.destroy),null===r[Br]&&(r[Br]=new C0),r[Br].queries.push(new D0(a))}(c,nt(),s)}function rE(){return function Ib(t,r){return t[Br].queries[r].queryList}(nt(),H())}function oE(t,r){return t.queries.getByIndex(r)}function A0(t){return!!Yr(t)}const DE=new Dr("Application Initializer");let O0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=Ct(DE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(cp(d))s.push(d);else if(Mh(d)){const g=new Promise((_,S)=>{d.subscribe({complete:_,error:S})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const cv=new Dr("LocaleId",{providedIn:"root",factory:()=>Ct(cv,Dt.Optional|Dt.SkipSelf)||function Gb(){return typeof $localize<"u"&&$localize.locale||gp}()}),zb=new Dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let bE=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ae.X(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class qb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Kb=(()=>{class t{compileModuleSync(s){return new _0(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=tc(Yr(s).declarations).reduce((g,_)=>{const S=pn(_);return S&&g.push(new rc(S)),g},[]);return new qb(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ME=new Dr(""),xE=new Dr("");let F0,pT=(()=>{class t{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,F0||(function gT(t){F0=t}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static#e=this.\u0275fac=function(a){return new(a||t)(We(Ps),We(NE),We(xE))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac})}return t})(),NE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return F0?.findTestabilityInTree(this,s,a)??null}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Sd=null;const RE=new Dr("AllowMultipleToken"),L0=new Dr("PlatformDestroyListeners"),V0=new Dr("appBootstrapListener");class vT{constructor(r,s){this.name=r,this.token=s}}function kE(t,r,s=[]){const a=`Platform: ${r}`,c=new Dr(a);return(d=[])=>{let g=U0();if(!g||g.injector.get(RE,!1)){const _=[...s,...d,{provide:c,useValue:!0}];t?t(_):function _T(t){if(Sd&&!Sd.get(RE,!1))throw new tt(400,!1);(function OE(){!function ke(t){V=t}(()=>{throw new tt(600,!1)})})(),Sd=t;const r=t.get(LE);(function PE(t){t.get(wf,null)?.forEach(s=>s())})(t)}(function FE(t=[],r){return au.create({name:r,providers:[{provide:zp,useValue:"platform"},{provide:L0,useValue:new Set([()=>Sd=null])},...t]})}(_,a))}return function IT(t){const r=U0();if(!r)throw new tt(401,!1);return r}()}}function U0(){return Sd?.get(LE)??null}let LE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function ET(t="zone.js",r){return"noop"===t?new fg:"zone.js"===t?new Ps(r):t}(a?.ngZone,function VE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function AC(t,r,s){return new v0(t,r,s)}(s.moduleType,this.injector,function HE(t){return[{provide:Ps,useFactory:t},{provide:oh,multi:!0,useFactory:()=>{const r=Ct(CT,{optional:!0});return()=>r.initialize()}},{provide:$E,useFactory:DT},{provide:ty,useFactory:Ff}]}(()=>c)),g=d.injector.get(Ru,null);return c.runOutsideAngular(()=>{const _=c.onError.subscribe({next:S=>{g.handleError(S)}});d.onDestroy(()=>{dv(this._modules,d),_.unsubscribe()})}),function UE(t,r,s){try{const a=s();return cp(a)?a.catch(c=>{throw r.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(g,c,()=>{const _=d.injector.get(O0);return _.runInitializers(),_.donePromise.then(()=>(function nI(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(tI=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(cv,gp)||gp),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=BE({},a);return function mT(t,r,s){const a=new _0(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(vp);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new tt(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(L0,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(a){return new(a||t)(We(au))};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function BE(t,r){return Array.isArray(r)?r.reduce(BE,t):{...t,...r}}let vp=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct($E),this.zoneIsStable=Ct(ty),this.componentTypes=[],this.components=[],this.isStable=Ct(bE).hasPendingTasks.pipe((0,ht.w)(s=>s?(0,se.of)(!1):this.zoneIsStable),function Tn(t,r=Wt.y){return t=t??Sn,(0,Ve.e)((s,a)=>{let c,d=!0;s.subscribe((0,Ut.x)(a,g=>{const _=r(g);(d||!t(c,_))&&(d=!1,c=_,a.next(g))}))})}(),me()),this._injector=Ct(su)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof Tf;if(!this._injector.get(O0).done)throw!c&&gn(s),new tt(405,!1);let g;g=c?s:this._injector.get(cd).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const _=function yT(t){return t.isBoundToModule}(g)?void 0:this._injector.get(Rh),P=g.create(au.NULL,[],a||g.selector,_),$=P.location.nativeElement,X=P.injector.get(ME,null);return X?.registerApplication($),P.onDestroy(()=>{this.detachView(P.hostView),dv(this.components,P),X?.unregisterApplication($)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;dv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(V0,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>dv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new tt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const $E=new Dr("",{providedIn:"root",factory:()=>Ct(Ru).handleError.bind(void 0)});function DT(){const t=Ct(Ps),r=Ct(Ru);return s=>t.runOutsideAngular(()=>r.handleError(s))}let CT=(()=>{class t{constructor(){this.zone=Ct(Ps),this.applicationRef=Ct(vp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275prov=_n({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let TT=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=ST}return t})();function ST(t){return function AT(t,r,s){if(Ss(t)&&!s){const a=es(t.index,r);return new Xf(a,a)}return 47&t.type?new Xf(r[Sr],r):null}(Si(),nt(),16==(16&t))}class qE{constructor(){}supports(r){return Ed(r)}create(r){return new PT(r)}}const OT=(t,r)=>r;class PT{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OT}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<ZE(a,c,d)?s:a,_=ZE(g,c,d),S=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const P=_-c,$=S-c;if(P!=$){for(let he=0;he<P;he++){const we=he<d.length?d[he]:d[he]=0,Ze=we+he;$<=Ze&&Ze<P&&(d[he]=we+1)}d[g.previousIndex]=$-P}}_!==S&&r(g,_,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Ed(r))throw new tt(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let _=0;_<this.length;_++)d=r[_],g=this._trackByFn(_,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,_)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,_),a=!0),s=s._next}else c=0,function C_(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,_=>{g=this._trackByFn(c,_),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,_,g,c)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new kT(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new KE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class kT{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FT{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class KE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new FT,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZE(t,r,s){const a=t.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class YE{constructor(){}supports(r){return r instanceof Map||Dd(r)}create(){return new LT}}class LT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Dd(r)))throw new tt(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new VT(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class VT{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QE(){return new G0([new qE])}let G0=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:QE});constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||QE()),deps:[[t,new Vd,new Ld]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new tt(901,!1)}}return t})();function JE(){return new z0([new YE])}let z0=(()=>{class t{static#e=this.\u0275prov=_n({token:t,providedIn:"root",factory:JE});constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||JE()),deps:[[t,new Vd,new Ld]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new tt(901,!1)}}return t})();const jT=kE(null,"core",[]);let $T=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(a){return new(a||t)(We(vp))};static#t=this.\u0275mod=No({type:t});static#n=this.\u0275inj=tn({})}return t})();function XT(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tS(t){const r=pn(t);if(!r)return null;const s=new rc(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},95:(zt,qe,W)=>{W.d(qe,{Fj:()=>Ie,qu:()=>Bs,u:()=>go,sg:()=>ir,u5:()=>vi,JJ:()=>tn,JL:()=>en,F:()=>De,On:()=>Mo,wV:()=>lo,UX:()=>da,Q7:()=>gs,kI:()=>Ye,_Y:()=>Ki});var y=W(4946),ie=W(6814),pe=W(2459),ge=W(5592),fe=W(7453),j=W(4829),ne=W(4564),Ke=W(8251),He=W(7400),ae=W(2714),Ae=W(7398);let Ve=(()=>{class k{constructor(M,G){this._renderer=M,this._elementRef=G,this.onChange=ue=>{},this.onTouched=()=>{}}setProperty(M,G){this._renderer.setProperty(this._elementRef.nativeElement,M,G)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(y.Qsj),y.Y36(y.SBq))};static#t=this.\u0275dir=y.lG2({type:k})}return k})(),me=(()=>{class k extends Ve{static#e=this.\u0275fac=function(){let M;return function(ue){return(M||(M=y.n5z(k)))(ue||k)}}();static#t=this.\u0275dir=y.lG2({type:k,features:[y.qOj]})}return k})();const lt=new y.OlP("NgValueAccessor"),Ut={provide:lt,useExisting:(0,y.Gpc)(()=>Ie),multi:!0},Sn=new y.OlP("CompositionEventMode");let Ie=(()=>{class k extends Ve{constructor(M,G,ue){super(M,G),this._compositionMode=ue,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tn(){const k=(0,ie.q)()?(0,ie.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Sn,8))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,ue){1&G&&y.NdJ("input",function(cn){return ue._handleInput(cn.target.value)})("blur",function(){return ue.onTouched()})("compositionstart",function(){return ue._compositionStart()})("compositionend",function(cn){return ue._compositionEnd(cn.target.value)})},features:[y._Bn([Ut]),y.qOj]})}return k})();function et(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function Oe(k){return null!=k&&"number"==typeof k.length}const Be=new y.OlP("NgValidators"),Je=new y.OlP("NgAsyncValidators"),$e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(L){return function dn(k){return L=>{if(et(L.value)||et(k))return null;const M=parseFloat(L.value);return!isNaN(M)&&M<k?{min:{min:k,actual:L.value}}:null}}(L)}static max(L){return function Ln(k){return L=>{if(et(L.value)||et(k))return null;const M=parseFloat(L.value);return!isNaN(M)&&M>k?{max:{max:k,actual:L.value}}:null}}(L)}static required(L){return Cr(L)}static requiredTrue(L){return function st(k){return!0===k.value?null:{required:!0}}(L)}static email(L){return function tt(k){return et(k.value)||$e.test(k.value)?null:{email:!0}}(L)}static minLength(L){return function In(k){return L=>et(L.value)||!Oe(L.value)?null:L.value.length<k?{minlength:{requiredLength:k,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function pt(k){return L=>Oe(L.value)&&L.value.length>k?{maxlength:{requiredLength:k,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Yt(k){if(!k)return Ee;let L,M;return"string"==typeof k?(M="","^"!==k.charAt(0)&&(M+="^"),M+=k,"$"!==k.charAt(k.length-1)&&(M+="$"),L=new RegExp(M)):(M=k.toString(),L=k),G=>{if(et(G.value))return null;const ue=G.value;return L.test(ue)?null:{pattern:{requiredPattern:M,actualValue:ue}}}}(L)}static nullValidator(L){return null}static compose(L){return an(L)}static composeAsync(L){return ft(L)}}function Cr(k){return et(k.value)?{required:!0}:null}function Ee(k){return null}function Ne(k){return null!=k}function Ue(k){return(0,y.QGY)(k)?(0,pe.D)(k):k}function Re(k){let L={};return k.forEach(M=>{L=null!=M?{...L,...M}:L}),0===Object.keys(L).length?null:L}function Ge(k,L){return L.map(M=>M(k))}function Ot(k){return k.map(L=>function ot(k){return!k.validate}(L)?L:M=>L.validate(M))}function an(k){if(!k)return null;const L=k.filter(Ne);return 0==L.length?null:function(M){return Re(Ge(M,L))}}function Bt(k){return null!=k?an(Ot(k)):null}function ft(k){if(!k)return null;const L=k.filter(Ne);return 0==L.length?null:function(M){return function se(...k){const L=(0,ne.jO)(k),{args:M,keys:G}=(0,fe.D)(k),ue=new ge.y(bt=>{const{length:cn}=M;if(!cn)return void bt.complete();const Oi=new Array(cn);let ms=cn,As=cn;for(let wo=0;wo<cn;wo++){let Xi=!1;(0,j.Xf)(M[wo]).subscribe((0,Ke.x)(bt,Ro=>{Xi||(Xi=!0,As--),Oi[wo]=Ro},()=>ms--,void 0,()=>{(!ms||!Xi)&&(As||bt.next(G?(0,ae.n)(G,Oi):Oi),bt.complete())}))}});return L?ue.pipe((0,He.Z)(L)):ue}(Ge(M,L).map(Ue)).pipe((0,Ae.U)(Re))}}function Xt(k){return null!=k?ft(Ot(k)):null}function zn(k,L){return null===k?[L]:Array.isArray(k)?[...k,L]:[k,L]}function An(k){return k._rawValidators}function Mn(k){return k._rawAsyncValidators}function ur(k){return k?Array.isArray(k)?k:[k]:[]}function xn(k,L){return Array.isArray(k)?k.includes(L):k===L}function kr(k,L){const M=ur(L);return ur(k).forEach(ue=>{xn(M,ue)||M.push(ue)}),M}function Cn(k,L){return ur(L).filter(M=>!xn(k,M))}class Kt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,M){return!!this.control&&this.control.hasError(L,M)}getError(L,M){return this.control?this.control.getError(L,M):null}}class Vn extends Kt{get formDirective(){return null}get path(){return null}}class kt extends Kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fr{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tn=(()=>{class k extends Fr{constructor(M){super(M)}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(kt,2))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,ue){2&G&&y.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)},features:[y.qOj]})}return k})(),en=(()=>{class k extends Fr{constructor(M){super(M)}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(Vn,10))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(G,ue){2&G&&y.ekj("ng-untouched",ue.isUntouched)("ng-touched",ue.isTouched)("ng-pristine",ue.isPristine)("ng-dirty",ue.isDirty)("ng-valid",ue.isValid)("ng-invalid",ue.isInvalid)("ng-pending",ue.isPending)("ng-submitted",ue.isSubmitted)},features:[y.qOj]})}return k})();const dr="VALID",Pn="INVALID",nn="PENDING",Qn="DISABLED";function oe(k){return(Q(k)?k.validators:k)||null}function K(k,L){return(Q(L)?L.asyncValidators:k)||null}function Q(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function ve(k,L,M){const G=k.controls;if(!(L?Object.keys(G):G).length)throw new y.vHH(1e3,"");if(!G[M])throw new y.vHH(1001,"")}function Xe(k,L,M){k._forEachChild((G,ue)=>{if(void 0===M[ue])throw new y.vHH(1002,"")})}class dt{constructor(L,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===dr}get invalid(){return this.status===Pn}get pending(){return this.status==nn}get disabled(){return this.status===Qn}get enabled(){return this.status!==Qn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(kr(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(kr(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Cn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Cn(L,this._rawAsyncValidators))}hasValidator(L){return xn(this._rawValidators,L)}hasAsyncValidator(L){return xn(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=nn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const M=this._parentMarkedDirty(L.onlySelf);this.status=Qn,this.errors=null,this._forEachChild(G=>{G.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:M}),this._onDisabledChange.forEach(G=>G(!0))}enable(L={}){const M=this._parentMarkedDirty(L.onlySelf);this.status=dr,this._forEachChild(G=>{G.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:M}),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dr||this.status===nn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qn:dr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const M=Ue(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(G=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(G,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,M={}){this.errors=L,this._updateControlsErrors(!1!==M.emitEvent)}get(L){let M=L;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((G,ue)=>G&&G._find(ue),this)}getError(L,M){const G=M?this.get(M):this;return G&&G.errors?G.errors[L]:null}hasError(L,M){return!!this.getError(L,M)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Qn:this.errors?Pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(Pn)?Pn:dr}_anyControlsHaveStatus(L){return this._anyControls(M=>M.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Q(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function z(k){return Array.isArray(k)?Bt(k):k||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function q(k){return Array.isArray(k)?Xt(k):k||null}(this._rawAsyncValidators)}}class $t extends dt{constructor(L,M,G){super(oe(M),K(G,M)),this.controls=L,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,M){return this.controls[L]?this.controls[L]:(this.controls[L]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(L,M,G={}){this.registerControl(L,M),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}removeControl(L,M={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(L,M,G={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],M&&this.registerControl(L,M),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,M={}){Xe(this,0,L),Object.keys(L).forEach(G=>{ve(this,!0,G),this.controls[G].setValue(L[G],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(L,M={}){null!=L&&(Object.keys(L).forEach(G=>{const ue=this.controls[G];ue&&ue.patchValue(L[G],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(L={},M={}){this._forEachChild((G,ue)=>{G.reset(L?L[ue]:null,{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(L,M,G)=>(L[G]=M.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(M,G)=>!!G._syncPendingControls()||M);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(M=>{const G=this.controls[M];G&&L(G,M)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[M,G]of Object.entries(this.controls))if(this.contains(M)&&L(G))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,G,ue)=>((G.enabled||this.disabled)&&(M[ue]=G.value),M))}_reduceChildren(L,M){let G=L;return this._forEachChild((ue,bt)=>{G=M(G,ue,bt)}),G}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class rn extends $t{}const Ir=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>br}),br="always";function ji(k,L){return[...L.path,k]}function Pe(k,L,M=br){Ct(k,L),L.valueAccessor.writeValue(k.value),(k.disabled||"always"===M)&&L.valueAccessor.setDisabledState?.(k.disabled),function hn(k,L){L.valueAccessor.registerOnChange(M=>{k._pendingValue=M,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&rr(k,L)})}(k,L),function hi(k,L){const M=(G,ue)=>{L.valueAccessor.writeValue(G),ue&&L.viewToModelUpdate(G)};k.registerOnChange(M),L._registerOnDestroy(()=>{k._unregisterOnChange(M)})}(k,L),function mr(k,L){L.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&rr(k,L),"submit"!==k.updateOn&&k.markAsTouched()})}(k,L),function Pt(k,L){if(L.valueAccessor.setDisabledState){const M=G=>{L.valueAccessor.setDisabledState(G)};k.registerOnDisabledChange(M),L._registerOnDestroy(()=>{k._unregisterOnDisabledChange(M)})}}(k,L)}function Ce(k,L,M=!0){const G=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(G),L.valueAccessor.registerOnTouched(G)),Jt(k,L),k&&(L._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function We(k,L){k.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(L)})}function Ct(k,L){const M=An(k);null!==L.validator?k.setValidators(zn(M,L.validator)):"function"==typeof M&&k.setValidators([M]);const G=Mn(k);null!==L.asyncValidator?k.setAsyncValidators(zn(G,L.asyncValidator)):"function"==typeof G&&k.setAsyncValidators([G]);const ue=()=>k.updateValueAndValidity();We(L._rawValidators,ue),We(L._rawAsyncValidators,ue)}function Jt(k,L){let M=!1;if(null!==k){if(null!==L.validator){const ue=An(k);if(Array.isArray(ue)&&ue.length>0){const bt=ue.filter(cn=>cn!==L.validator);bt.length!==ue.length&&(M=!0,k.setValidators(bt))}}if(null!==L.asyncValidator){const ue=Mn(k);if(Array.isArray(ue)&&ue.length>0){const bt=ue.filter(cn=>cn!==L.asyncValidator);bt.length!==ue.length&&(M=!0,k.setAsyncValidators(bt))}}}const G=()=>{};return We(L._rawValidators,G),We(L._rawAsyncValidators,G),M}function rr(k,L){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Is(k,L){Ct(k,L)}function os(k,L){if(!k.hasOwnProperty("model"))return!1;const M=k.model;return!!M.isFirstChange()||!Object.is(L,M.currentValue)}function hs(k,L){k._syncPendingControls(),L.forEach(M=>{const G=M.control;"submit"===G.updateOn&&G._pendingChange&&(M.viewToModelUpdate(G._pendingValue),G._pendingChange=!1)})}function Vr(k,L){if(!L)return null;let M,G,ue;return Array.isArray(L),L.forEach(bt=>{bt.constructor===Ie?M=bt:function Tr(k){return Object.getPrototypeOf(k.constructor)===me}(bt)?G=bt:ue=bt}),ue||G||M||null}const le={provide:Vn,useExisting:(0,y.Gpc)(()=>De)},de=(()=>Promise.resolve())();let De=(()=>{class k extends Vn{constructor(M,G,ue){super(),this.callSetDisabledState=ue,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new $t({},Bt(M),Xt(G))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){de.then(()=>{const G=this._findContainer(M.path);M.control=G.registerControl(M.name,M.control),Pe(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){de.then(()=>{const G=this._findContainer(M.path);G&&G.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){de.then(()=>{const G=this._findContainer(M.path),ue=new $t({});Is(ue,M),G.registerControl(M.name,ue),ue.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){de.then(()=>{const G=this._findContainer(M.path);G&&G.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,G){de.then(()=>{this.form.get(M.path).setValue(G)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,hs(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(Be,10),y.Y36(Je,10),y.Y36(Ir,8))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(G,ue){1&G&&y.NdJ("submit",function(cn){return ue.onSubmit(cn)})("reset",function(){return ue.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([le]),y.qOj]})}return k})();function ze(k,L){const M=k.indexOf(L);M>-1&&k.splice(M,1)}function ut(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const Ft=class extends dt{constructor(L=null,M,G){super(oe(M),K(G,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Q(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=ut(L)?L.value:L)}setValue(L,M={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(L,M={}){this.setValue(L,M)}reset(L=this.defaultValue,M={}){this._applyFormState(L),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){ze(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){ze(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){ut(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},Go={provide:kt,useExisting:(0,y.Gpc)(()=>Mo)},co=(()=>Promise.resolve())();let Mo=(()=>{class k extends kt{constructor(M,G,ue,bt,cn,Oi){super(),this._changeDetectorRef=cn,this.callSetDisabledState=Oi,this.control=new Ft,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=M,this._setValidators(G),this._setAsyncValidators(ue),this.valueAccessor=Vr(0,bt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const G=M.name.previousValue;this.formDirective.removeControl({name:G,path:this._getPath(G)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),os(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){co.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const G=M.isDisabled.currentValue,ue=0!==G&&(0,y.VuI)(G);co.then(()=>{ue&&!this.control.disabled?this.control.disable():!ue&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?ji(M,this._parent):[M]}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(Vn,9),y.Y36(Be,10),y.Y36(Je,10),y.Y36(lt,10),y.Y36(y.sBO,8),y.Y36(Ir,8))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([Go]),y.qOj,y.TTD]})}return k})(),Ki=(()=>{class k{static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return k})();const aa={provide:lt,useExisting:(0,y.Gpc)(()=>lo),multi:!0};let lo=(()=>{class k extends me{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=G=>{M(""==G?null:parseFloat(G))}}static#e=this.\u0275fac=function(){let M;return function(ue){return(M||(M=y.n5z(k)))(ue||k)}}();static#t=this.\u0275dir=y.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(G,ue){1&G&&y.NdJ("input",function(cn){return ue.onChange(cn.target.value)})("blur",function(){return ue.onTouched()})},features:[y._Bn([aa]),y.qOj]})}return k})(),ho=(()=>{class k{static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275mod=y.oAB({type:k});static#n=this.\u0275inj=y.cJS({})}return k})();const ca=new y.OlP("NgModelWithFormControlWarning"),pn={provide:Vn,useExisting:(0,y.Gpc)(()=>ir)};let ir=(()=>{class k extends Vn{constructor(M,G,ue){super(),this.callSetDisabledState=ue,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(M),this._setAsyncValidators(G)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const G=this.form.get(M.path);return Pe(G,M,this.callSetDisabledState),G.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),G}getControl(M){return this.form.get(M.path)}removeControl(M){Ce(M.control||null,M,!1),function ks(k,L){const M=k.indexOf(L);M>-1&&k.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,G){this.form.get(M.path).setValue(G)}onSubmit(M){return this.submitted=!0,hs(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M=void 0){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const G=M.control,ue=this.form.get(M.path);G!==ue&&(Ce(G||null,M),(k=>k instanceof Ft)(ue)&&(Pe(ue,M,this.callSetDisabledState),M.control=ue))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const G=this.form.get(M.path);Is(G,M),G.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const G=this.form.get(M.path);G&&function fi(k,L){return Jt(k,L)}(G,M)&&G.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ct(this.form,this),this._oldForm&&Jt(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(G){return new(G||k)(y.Y36(Be,10),y.Y36(Je,10),y.Y36(Ir,8))};static#t=this.\u0275dir=y.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(G,ue){1&G&&y.NdJ("submit",function(cn){return ue.onSubmit(cn)})("reset",function(){return ue.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([pn]),y.qOj,y.TTD]})}return k})();const as={provide:kt,useExisting:(0,y.Gpc)(()=>go)};let go=(()=>{class k extends kt{set isDisabled(M){}static#e=this._ngModelWarningSentOnce=!1;constructor(M,G,ue,bt,cn){super(),this._ngModelWarningConfig=cn,this._added=!1,this.name=null,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(G),this._setAsyncValidators(ue),this.valueAccessor=Vr(0,bt)}ngOnChanges(M){this._added||this._setUpControl(),os(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return ji(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(G){return new(G||k)(y.Y36(Vn,13),y.Y36(Be,10),y.Y36(Je,10),y.Y36(lt,10),y.Y36(ca,8))};static#n=this.\u0275dir=y.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([as]),y.qOj,y.TTD]})}return k})(),ps=(()=>{class k{constructor(){this._validator=Ee}ngOnChanges(M){if(this.inputName in M){const G=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(G),this._validator=this._enabled?this.createValidator(G):Ee,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275dir=y.lG2({type:k,features:[y.TTD]})}return k})();const Ls={provide:Be,useExisting:(0,y.Gpc)(()=>gs),multi:!0};let gs=(()=>{class k extends ps{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.VuI,this.createValidator=M=>Cr}enabled(M){return M}static#e=this.\u0275fac=function(){let M;return function(ue){return(M||(M=y.n5z(k)))(ue||k)}}();static#t=this.\u0275dir=y.lG2({type:k,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,ue){2&G&&y.uIk("required",ue._enabled?"":null)},inputs:{required:"required"},features:[y._Bn([Ls]),y.qOj]})}return k})(),$i=(()=>{class k{static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275mod=y.oAB({type:k});static#n=this.\u0275inj=y.cJS({imports:[ho]})}return k})();class ri extends dt{constructor(L,M,G){super(oe(M),K(G,M)),this.controls=L,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,M={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(L,M,G={}){this.controls.splice(L,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:G.emitEvent})}removeAt(L,M={}){let G=this._adjustIndex(L);G<0&&(G=0),this.controls[G]&&this.controls[G]._registerOnCollectionChange(()=>{}),this.controls.splice(G,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(L,M,G={}){let ue=this._adjustIndex(L);ue<0&&(ue=0),this.controls[ue]&&this.controls[ue]._registerOnCollectionChange(()=>{}),this.controls.splice(ue,1),M&&(this.controls.splice(ue,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:G.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,M={}){Xe(this,0,L),L.forEach((G,ue)=>{ve(this,!1,ue),this.at(ue).setValue(G,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(L,M={}){null!=L&&(L.forEach((G,ue)=>{this.at(ue)&&this.at(ue).patchValue(G,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(L=[],M={}){this._forEachChild((G,ue)=>{G.reset(L[ue],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((M,G)=>!!G._syncPendingControls()||M,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((M,G)=>{L(M,G)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(M=>M.enabled&&L(M))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){return this.at(L)??null}}function Wr(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let Bs=(()=>{class k{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new k;return M.useNonNullable=!0,M}group(M,G=null){const ue=this._reduceControls(M);let bt={};return Wr(G)?bt=G:null!==G&&(bt.validators=G.validator,bt.asyncValidators=G.asyncValidator),new $t(ue,bt)}record(M,G=null){const ue=this._reduceControls(M);return new rn(ue,G)}control(M,G,ue){let bt={};return this.useNonNullable?(Wr(G)?bt=G:(bt.validators=G,bt.asyncValidators=ue),new Ft(M,{...bt,nonNullable:!0})):new Ft(M,G,ue)}array(M,G,ue){const bt=M.map(cn=>this._createControl(cn));return new ri(bt,G,ue)}_reduceControls(M){const G={};return Object.keys(M).forEach(ue=>{G[ue]=this._createControl(M[ue])}),G}_createControl(M){return M instanceof Ft||M instanceof dt?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275prov=y.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})(),vi=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:Ir,useValue:M.callSetDisabledState??br}]}}static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275mod=y.oAB({type:k});static#n=this.\u0275inj=y.cJS({imports:[$i]})}return k})(),da=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:ca,useValue:M.warnOnNgModelWithFormControl??"always"},{provide:Ir,useValue:M.callSetDisabledState??br}]}}static#e=this.\u0275fac=function(G){return new(G||k)};static#t=this.\u0275mod=y.oAB({type:k});static#n=this.\u0275inj=y.cJS({imports:[$i]})}return k})()},6593:(zt,qe,W)=>{W.d(qe,{Dx:()=>kt,b2:()=>xn,q6:()=>zn});var y=W(4946),ie=W(6814);class pe extends ie.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ge extends pe{static makeCurrent(){(0,ie.HT)(new ge)}onAndCancel(K,q,Q){return K.addEventListener(q,Q),()=>{K.removeEventListener(q,Q)}}dispatchEvent(K,q){K.dispatchEvent(q)}remove(K){K.parentNode&&K.parentNode.removeChild(K)}createElement(K,q){return(q=q||this.getDefaultDocument()).createElement(K)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(K){return K.nodeType===Node.ELEMENT_NODE}isShadowRoot(K){return K instanceof DocumentFragment}getGlobalEventTarget(K,q){return"window"===q?window:"document"===q?K:"body"===q?K.body:null}getBaseHref(K){const q=function j(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==q?null:function Ke(z){ne=ne||document.createElement("a"),ne.setAttribute("href",z);const K=ne.pathname;return"/"===K.charAt(0)?K:`/${K}`}(q)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(K){return(0,ie.Mx)(document.cookie,K)}}let ne,fe=null,ae=(()=>{class z{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Q){return new(Q||z)};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();const se=new y.OlP("EventManagerPlugins");let Ae=(()=>{class z{constructor(q,Q){this._zone=Q,this._eventNameToPlugin=new Map,q.forEach(ve=>{ve.manager=this}),this._plugins=q.slice().reverse()}addEventListener(q,Q,ve){return this._findPluginFor(Q).addEventListener(q,Q,ve)}getZone(){return this._zone}_findPluginFor(q){let Q=this._eventNameToPlugin.get(q);if(Q)return Q;if(Q=this._plugins.find(Xe=>Xe.supports(q)),!Q)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(q,Q),Q}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(se),y.LFG(y.R0b))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();class Ve{constructor(K){this._doc=K}}const me="ng-app-id";let lt=(()=>{class z{constructor(q,Q,ve,Xe={}){this.doc=q,this.appId=Q,this.nonce=ve,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ie.PM)(Xe),this.resetHostNodes()}addStyles(q){for(const Q of q)1===this.changeUsageCount(Q,1)&&this.onStyleAdded(Q)}removeStyles(q){for(const Q of q)this.changeUsageCount(Q,-1)<=0&&this.onStyleRemoved(Q)}ngOnDestroy(){const q=this.styleNodesInDOM;q&&(q.forEach(Q=>Q.remove()),q.clear());for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.resetHostNodes()}addHost(q){this.hostNodes.add(q);for(const Q of this.getAllStyles())this.addStyleToHost(q,Q)}removeHost(q){this.hostNodes.delete(q)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(q){for(const Q of this.hostNodes)this.addStyleToHost(Q,q)}onStyleRemoved(q){const Q=this.styleRef;Q.get(q)?.elements?.forEach(ve=>ve.remove()),Q.delete(q)}collectServerRenderedStyles(){const q=this.doc.head?.querySelectorAll(`style[${me}="${this.appId}"]`);if(q?.length){const Q=new Map;return q.forEach(ve=>{null!=ve.textContent&&Q.set(ve.textContent,ve)}),Q}return null}changeUsageCount(q,Q){const ve=this.styleRef;if(ve.has(q)){const Xe=ve.get(q);return Xe.usage+=Q,Xe.usage}return ve.set(q,{usage:Q,elements:[]}),Q}getStyleElement(q,Q){const ve=this.styleNodesInDOM,Xe=ve?.get(Q);if(Xe?.parentNode===q)return ve.delete(Q),Xe.removeAttribute(me),Xe;{const dt=this.doc.createElement("style");return this.nonce&&dt.setAttribute("nonce",this.nonce),dt.textContent=Q,this.platformIsServer&&dt.setAttribute(me,this.appId),dt}}addStyleToHost(q,Q){const ve=this.getStyleElement(q,Q);q.appendChild(ve);const Xe=this.styleRef,dt=Xe.get(Q)?.elements;dt?dt.push(ve):Xe.set(Q,{elements:[ve],usage:1})}resetHostNodes(){const q=this.hostNodes;q.clear(),q.add(this.doc.head)}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(ie.K0),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wt=/%COMP%/g,et=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Je(z,K){return K.map(q=>q.replace(Wt,z))}let $e=(()=>{class z{constructor(q,Q,ve,Xe,dt,$t,qt,kn=null){this.eventManager=q,this.sharedStylesHost=Q,this.appId=ve,this.removeStylesOnCompDestroy=Xe,this.doc=dt,this.platformId=$t,this.ngZone=qt,this.nonce=kn,this.rendererByCompId=new Map,this.platformIsServer=(0,ie.PM)($t),this.defaultRenderer=new Ye(q,dt,qt,this.platformIsServer)}createRenderer(q,Q){if(!q||!Q)return this.defaultRenderer;this.platformIsServer&&Q.encapsulation===y.ifc.ShadowDom&&(Q={...Q,encapsulation:y.ifc.Emulated});const ve=this.getOrCreateRenderer(q,Q);return ve instanceof In?ve.applyToHost(q):ve instanceof tt&&ve.applyStyles(),ve}getOrCreateRenderer(q,Q){const ve=this.rendererByCompId;let Xe=ve.get(Q.id);if(!Xe){const dt=this.doc,$t=this.ngZone,qt=this.eventManager,kn=this.sharedStylesHost,rn=this.removeStylesOnCompDestroy,gr=this.platformIsServer;switch(Q.encapsulation){case y.ifc.Emulated:Xe=new In(qt,kn,Q,this.appId,rn,dt,$t,gr);break;case y.ifc.ShadowDom:return new st(qt,kn,q,Q,dt,$t,this.nonce,gr);default:Xe=new tt(qt,kn,Q,rn,dt,$t,gr)}ve.set(Q.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(Ae),y.LFG(lt),y.LFG(y.AFp),y.LFG(et),y.LFG(ie.K0),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();class Ye{constructor(K,q,Q,ve){this.eventManager=K,this.doc=q,this.ngZone=Q,this.platformIsServer=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(K,q){return q?this.doc.createElementNS(ht[q]||q,K):this.doc.createElement(K)}createComment(K){return this.doc.createComment(K)}createText(K){return this.doc.createTextNode(K)}appendChild(K,q){(Cr(K)?K.content:K).appendChild(q)}insertBefore(K,q,Q){K&&(Cr(K)?K.content:K).insertBefore(q,Q)}removeChild(K,q){K&&K.removeChild(q)}selectRootElement(K,q){let Q="string"==typeof K?this.doc.querySelector(K):K;if(!Q)throw new y.vHH(-5104,!1);return q||(Q.textContent=""),Q}parentNode(K){return K.parentNode}nextSibling(K){return K.nextSibling}setAttribute(K,q,Q,ve){if(ve){q=ve+":"+q;const Xe=ht[ve];Xe?K.setAttributeNS(Xe,q,Q):K.setAttribute(q,Q)}else K.setAttribute(q,Q)}removeAttribute(K,q,Q){if(Q){const ve=ht[Q];ve?K.removeAttributeNS(ve,q):K.removeAttribute(`${Q}:${q}`)}else K.removeAttribute(q)}addClass(K,q){K.classList.add(q)}removeClass(K,q){K.classList.remove(q)}setStyle(K,q,Q,ve){ve&(y.JOm.DashCase|y.JOm.Important)?K.style.setProperty(q,Q,ve&y.JOm.Important?"important":""):K.style[q]=Q}removeStyle(K,q,Q){Q&y.JOm.DashCase?K.style.removeProperty(q):K.style[q]=""}setProperty(K,q,Q){K[q]=Q}setValue(K,q){K.nodeValue=q}listen(K,q,Q){if("string"==typeof K&&!(K=(0,ie.q)().getGlobalEventTarget(this.doc,K)))throw new Error(`Unsupported event target ${K} for event ${q}`);return this.eventManager.addEventListener(K,q,this.decoratePreventDefault(Q))}decoratePreventDefault(K){return q=>{if("__ngUnwrap__"===q)return K;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>K(q)):K(q))&&q.preventDefault()}}}function Cr(z){return"TEMPLATE"===z.tagName&&void 0!==z.content}class st extends Ye{constructor(K,q,Q,ve,Xe,dt,$t,qt){super(K,Xe,dt,qt),this.sharedStylesHost=q,this.hostEl=Q,this.shadowRoot=Q.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=Je(ve.id,ve.styles);for(const rn of kn){const gr=document.createElement("style");$t&&gr.setAttribute("nonce",$t),gr.textContent=rn,this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(K){return K===this.hostEl?this.shadowRoot:K}appendChild(K,q){return super.appendChild(this.nodeOrShadowRoot(K),q)}insertBefore(K,q,Q){return super.insertBefore(this.nodeOrShadowRoot(K),q,Q)}removeChild(K,q){return super.removeChild(this.nodeOrShadowRoot(K),q)}parentNode(K){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(K)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class tt extends Ye{constructor(K,q,Q,ve,Xe,dt,$t,qt){super(K,Xe,dt,$t),this.sharedStylesHost=q,this.removeStylesOnCompDestroy=ve,this.styles=qt?Je(qt,Q.styles):Q.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class In extends tt{constructor(K,q,Q,ve,Xe,dt,$t,qt){const kn=ve+"-"+Q.id;super(K,q,Q,Xe,dt,$t,qt,kn),this.contentAttr=function Oe(z){return"_ngcontent-%COMP%".replace(Wt,z)}(kn),this.hostAttr=function Be(z){return"_nghost-%COMP%".replace(Wt,z)}(kn)}applyToHost(K){this.applyStyles(),this.setAttribute(K,this.hostAttr,"")}createElement(K,q){const Q=super.createElement(K,q);return super.setAttribute(Q,this.contentAttr,""),Q}}let pt=(()=>{class z extends Ve{constructor(q){super(q)}supports(q){return!0}addEventListener(q,Q,ve){return q.addEventListener(Q,ve,!1),()=>this.removeEventListener(q,Q,ve)}removeEventListener(q,Q,ve){return q.removeEventListener(Q,ve)}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(ie.K0))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();const Yt=["alt","control","meta","shift"],Ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:z=>z.altKey,control:z=>z.ctrlKey,meta:z=>z.metaKey,shift:z=>z.shiftKey};let Ue=(()=>{class z extends Ve{constructor(q){super(q)}supports(q){return null!=z.parseEventName(q)}addEventListener(q,Q,ve){const Xe=z.parseEventName(Q),dt=z.eventCallback(Xe.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ie.q)().onAndCancel(q,Xe.domEventName,dt))}static parseEventName(q){const Q=q.toLowerCase().split("."),ve=Q.shift();if(0===Q.length||"keydown"!==ve&&"keyup"!==ve)return null;const Xe=z._normalizeKey(Q.pop());let dt="",$t=Q.indexOf("code");if($t>-1&&(Q.splice($t,1),dt="code."),Yt.forEach(kn=>{const rn=Q.indexOf(kn);rn>-1&&(Q.splice(rn,1),dt+=kn+".")}),dt+=Xe,0!=Q.length||0===Xe.length)return null;const qt={};return qt.domEventName=ve,qt.fullKey=dt,qt}static matchEventFullKeyCode(q,Q){let ve=Ee[q.key]||q.key,Xe="";return Q.indexOf("code.")>-1&&(ve=q.code,Xe="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),Yt.forEach(dt=>{dt!==ve&&(0,Ne[dt])(q)&&(Xe+=dt+".")}),Xe+=ve,Xe===Q)}static eventCallback(q,Q,ve){return Xe=>{z.matchEventFullKeyCode(Xe,q)&&ve.runGuarded(()=>Q(Xe))}}static _normalizeKey(q){return"esc"===q?"escape":q}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(ie.K0))};static#t=this.\u0275prov=y.Yz7({token:z,factory:z.\u0275fac})}return z})();const zn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:ie.bD},{provide:y.g9A,useValue:function an(){ge.makeCurrent()},multi:!0},{provide:ie.K0,useFactory:function ft(){return(0,y.RDi)(document),document},deps:[]}]),An=new y.OlP(""),Mn=[{provide:y.rWj,useClass:class He{addToWindow(K){y.dqk.getAngularTestability=(Q,ve=!0)=>{const Xe=K.findTestabilityInTree(Q,ve);if(null==Xe)throw new y.vHH(5103,!1);return Xe},y.dqk.getAllAngularTestabilities=()=>K.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>K.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(Q=>{const ve=y.dqk.getAllAngularTestabilities();let Xe=ve.length,dt=!1;const $t=function(qt){dt=dt||qt,Xe--,0==Xe&&Q(dt)};ve.forEach(qt=>{qt.whenStable($t)})})}findTestabilityInTree(K,q,Q){return null==q?null:K.getTestability(q)??(Q?(0,ie.q)().isShadowRoot(q)?this.findTestabilityInTree(K,q.host,!0):this.findTestabilityInTree(K,q.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],ur=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Bt(){return new y.qLn},deps:[]},{provide:se,useClass:pt,multi:!0,deps:[ie.K0,y.R0b,y.Lbi]},{provide:se,useClass:Ue,multi:!0,deps:[ie.K0]},$e,lt,Ae,{provide:y.FYo,useExisting:$e},{provide:ie.JF,useClass:ae,deps:[]},[]];let xn=(()=>{class z{constructor(q){}static withServerTransition(q){return{ngModule:z,providers:[{provide:y.AFp,useValue:q.appId}]}}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(An,12))};static#t=this.\u0275mod=y.oAB({type:z});static#n=this.\u0275inj=y.cJS({providers:[...ur,...Mn],imports:[ie.ez,y.hGG]})}return z})(),kt=(()=>{class z{constructor(q){this._doc=q}getTitle(){return this._doc.title}setTitle(q){this._doc.title=q||""}static#e=this.\u0275fac=function(Q){return new(Q||z)(y.LFG(ie.K0))};static#t=this.\u0275prov=y.Yz7({token:z,factory:function(Q){let ve=null;return ve=Q?new Q:function Vn(){return new kt((0,y.LFG)(ie.K0))}(),ve},providedIn:"root"})}return z})();typeof window<"u"&&window},8589:(zt,qe,W)=>{W.d(qe,{m2:()=>Ni,F0:()=>xs,rH:()=>gu,Bz:()=>Se,lC:()=>ni});var y=W(4946),ie=W(5592),pe=W(4674),fe=W(2459),j=W(2096),ne=W(5619),Ke=W(7453),He=W(2737),ae=W(7400),se=W(4564),Ae=W(2714),Ve=W(8251),me=W(7103);function lt(...v){const b=(0,se.yG)(v),m=(0,se.jO)(v),{args:T,keys:R}=(0,Ke.D)(v);if(0===T.length)return(0,fe.D)([],b);const H=new ie.y(function ht(v,b,m=He.y){return T=>{Wt(b,()=>{const{length:R}=v,H=new Array(R);let ee=R,Me=R;for(let be=0;be<R;be++)Wt(b,()=>{const It=(0,fe.D)(v[be],b);let ln=!1;It.subscribe((0,Ve.x)(T,jn=>{H[be]=jn,ln||(ln=!0,Me--),Me||T.next(m(H.slice()))},()=>{--ee||T.complete()}))},T)},T)}}(T,b,R?ee=>(0,Ae.n)(R,ee):He.y));return m?H.pipe((0,ae.Z)(m)):H}function Wt(v,b,m){v?(0,me.f)(m,v,b):b()}const Tn=(0,W(2306).d)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"});var Sn=W(7537);function et(...v){return function Ie(){return(0,Sn.J)(1)}()((0,fe.D)(v,(0,se.yG)(v)))}var Oe=W(4829);function Be(v){return new ie.y(b=>{(0,Oe.Xf)(v()).subscribe(b)})}var Je=W(8407);function $e(v,b){const m=(0,pe.m)(v)?v:()=>v,T=R=>R.error(m());return new ie.y(b?R=>b.schedule(T,0,R):T)}var Ye=W(6232),dn=W(7394),Ln=W(9360);function Cr(){return(0,Ln.e)((v,b)=>{let m=null;v._refCount++;const T=(0,Ve.x)(b,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(m=null);const R=v._connection,H=m;m=null,R&&(!H||R===H)&&R.unsubscribe(),b.unsubscribe()});v.subscribe(T),T.closed||(m=v.connect())})}class st extends ie.y{constructor(b,m){super(),this.source=b,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new dn.w0;const m=this.getSubject();b.add(this.source.subscribe((0,Ve.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),b.closed&&(this._connection=null,b=dn.w0.EMPTY)}return b}refCount(){return Cr()(this)}}var tt=W(8645),In=W(6814),pt=W(7398),Yt=W(4664);function Ee(v){return v<=0?()=>Ye.E:(0,Ln.e)((b,m)=>{let T=0;b.subscribe((0,Ve.x)(m,R=>{++T<=v&&(m.next(R),v<=T&&m.complete())}))})}var Ue=W(2181),Re=W(1631);function Ge(v){return(0,Ln.e)((b,m)=>{let T=!1;b.subscribe((0,Ve.x)(m,R=>{T=!0,m.next(R)},()=>{T||m.next(v),m.complete()}))})}function ot(v=Ot){return(0,Ln.e)((b,m)=>{let T=!1;b.subscribe((0,Ve.x)(m,R=>{T=!0,m.next(R)},()=>T?m.complete():m.error(v())))})}function Ot(){return new Tn}function an(v,b){const m=arguments.length>=2;return T=>T.pipe(v?(0,Ue.h)((R,H)=>v(R,H,T)):He.y,Ee(1),m?Ge(b):ot(()=>new Tn))}var Bt=W(6328),ft=W(9397);function Xt(v){return(0,Ln.e)((b,m)=>{let H,T=null,R=!1;T=b.subscribe((0,Ve.x)(m,void 0,void 0,ee=>{H=(0,Oe.Xf)(v(ee,Xt(v)(b))),T?(T.unsubscribe(),T=null,H.subscribe(m)):R=!0})),R&&(T.unsubscribe(),T=null,H.subscribe(m))})}function Mn(v){return v<=0?()=>Ye.E:(0,Ln.e)((b,m)=>{let T=[];b.subscribe((0,Ve.x)(m,R=>{T.push(R),v<T.length&&T.shift()},()=>{for(const R of T)m.next(R);m.complete()},void 0,()=>{T=null}))})}var kr=W(4716),Cn=W(2420),Vn=W(6593);const kt="primary",Fr=Symbol("RouteTitle");class _n{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m[0]:m}return null}getAll(b){if(this.has(b)){const m=this.params[b];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function tr(v){return new _n(v)}function tn(v,b,m){const T=m.path.split("/");if(T.length>v.length||"full"===m.pathMatch&&(b.hasChildren()||T.length<v.length))return null;const R={};for(let H=0;H<T.length;H++){const ee=T[H],Me=v[H];if(ee.startsWith(":"))R[ee.substring(1)]=Me;else if(ee!==Me.path)return null}return{consumed:v.slice(0,T.length),posParams:R}}function Un(v,b){const m=v?Object.keys(v):void 0,T=b?Object.keys(b):void 0;if(!m||!T||m.length!=T.length)return!1;let R;for(let H=0;H<m.length;H++)if(R=m[H],!pr(v[R],b[R]))return!1;return!0}function pr(v,b){if(Array.isArray(v)&&Array.isArray(b)){if(v.length!==b.length)return!1;const m=[...v].sort(),T=[...b].sort();return m.every((R,H)=>T[H]===R)}return v===b}function Nr(v){return v.length>0?v[v.length-1]:null}function Bn(v){return function ge(v){return!!v&&(v instanceof ie.y||(0,pe.m)(v.lift)&&(0,pe.m)(v.subscribe))}(v)?v:(0,y.QGY)(v)?(0,fe.D)(Promise.resolve(v)):(0,j.of)(v)}const nr={exact:function Dt(v,b,m){if(!dr(v.segments,b.segments)||!Rr(v.segments,b.segments,m)||v.numberOfChildren!==b.numberOfChildren)return!1;for(const T in b.children)if(!v.children[T]||!Dt(v.children[T],b.children[T],m))return!1;return!0},subset:di},Lr={exact:function Bi(v,b){return Un(v,b)},subset:function xi(v,b){return Object.keys(b).length<=Object.keys(v).length&&Object.keys(b).every(m=>pr(v[m],b[m]))},ignored:()=>!0};function On(v,b,m){return nr[m.paths](v.root,b.root,m.matrixParams)&&Lr[m.queryParams](v.queryParams,b.queryParams)&&!("exact"===m.fragment&&v.fragment!==b.fragment)}function di(v,b,m){return wr(v,b,b.segments,m)}function wr(v,b,m,T){if(v.segments.length>m.length){const R=v.segments.slice(0,m.length);return!(!dr(R,m)||b.hasChildren()||!Rr(R,m,T))}if(v.segments.length===m.length){if(!dr(v.segments,m)||!Rr(v.segments,m,T))return!1;for(const R in b.children)if(!v.children[R]||!di(v.children[R],b.children[R],T))return!1;return!0}{const R=m.slice(0,v.segments.length),H=m.slice(v.segments.length);return!!(dr(v.segments,R)&&Rr(v.segments,R,T)&&v.children[kt])&&wr(v.children[kt],b,H,T)}}function Rr(v,b,m){return b.every((T,R)=>Lr[m](v[R].parameters,T.parameters))}class qr{constructor(b=new jt([],{}),m={},T=null){this.root=b,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class jt{constructor(b,m){this.segments=b,this.children=m,this.parent=null,Object.values(m).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return z(this)}}class Kr{constructor(b,m){this.path=b,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return qt(this)}}function dr(v,b){return v.length===b.length&&v.every((m,T)=>m.path===b[T].path)}let nn=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return new Qn},providedIn:"root"})}return v})();class Qn{parse(b){const m=new Ct(b);return new qr(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(b){const m=`/${K(b.root,!0)}`,T=function rn(v){const b=Object.keys(v).map(m=>{const T=v[m];return Array.isArray(T)?T.map(R=>`${Q(m)}=${Q(R)}`).join("&"):`${Q(m)}=${Q(T)}`}).filter(m=>!!m);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${m}${T}${"string"==typeof b.fragment?`#${function ve(v){return encodeURI(v)}(b.fragment)}`:""}`}}const oe=new Qn;function z(v){return v.segments.map(b=>qt(b)).join("/")}function K(v,b){if(!v.hasChildren())return z(v);if(b){const m=v.children[kt]?K(v.children[kt],!1):"",T=[];return Object.entries(v.children).forEach(([R,H])=>{R!==kt&&T.push(`${R}:${K(H,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function Pn(v,b){let m=[];return Object.entries(v.children).forEach(([T,R])=>{T===kt&&(m=m.concat(b(R,T)))}),Object.entries(v.children).forEach(([T,R])=>{T!==kt&&(m=m.concat(b(R,T)))}),m}(v,(T,R)=>R===kt?[K(v.children[kt],!1)]:[`${R}:${K(T,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[kt]?`${z(v)}/${m[0]}`:`${z(v)}/(${m.join("//")})`}}function q(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Q(v){return q(v).replace(/%3B/gi,";")}function Xe(v){return q(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dt(v){return decodeURIComponent(v)}function $t(v){return dt(v.replace(/\+/g,"%20"))}function qt(v){return`${Xe(v.path)}${function kn(v){return Object.keys(v).map(b=>`;${Xe(b)}=${Xe(v[b])}`).join("")}(v.parameters)}`}const gr=/^[^\/()?;#]+/;function Ir(v){const b=v.match(gr);return b?b[0]:""}const br=/^[^\/()?;=#]+/,Pe=/^[^=?&#]+/,We=/^[^&#]+/;class Ct{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(b.length>0||Object.keys(m).length>0)&&(T[kt]=new jt(b,m)),T}parseSegment(){const b=Ir(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(b),new Kr(dt(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const m=function ji(v){const b=v.match(br);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const R=Ir(this.remaining);R&&(T=R,this.capture(T))}b[dt(m)]=dt(T)}parseQueryParam(b){const m=function Ce(v){const b=v.match(Pe);return b?b[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const ee=function Pt(v){const b=v.match(We);return b?b[0]:""}(this.remaining);ee&&(T=ee,this.capture(T))}const R=$t(m),H=$t(T);if(b.hasOwnProperty(R)){let ee=b[R];Array.isArray(ee)||(ee=[ee],b[R]=ee),ee.push(H)}else b[R]=H}parseParens(b){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Ir(this.remaining),R=this.remaining[T.length];if("/"!==R&&")"!==R&&";"!==R)throw new y.vHH(4010,!1);let H;T.indexOf(":")>-1?(H=T.slice(0,T.indexOf(":")),this.capture(H),this.capture(":")):b&&(H=kt);const ee=this.parseChildren();m[H]=1===Object.keys(ee).length?ee[kt]:new jt([],ee),this.consumeOptional("//")}return m}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new y.vHH(4011,!1)}}function Jt(v){return v.segments.length>0?new jt([],{[kt]:v}):v}function hn(v){const b={};for(const T of Object.keys(v.children)){const H=hn(v.children[T]);if(T===kt&&0===H.segments.length&&H.hasChildren())for(const[ee,Me]of Object.entries(H.children))b[ee]=Me;else(H.segments.length>0||H.hasChildren())&&(b[T]=H)}return function mr(v){if(1===v.numberOfChildren&&v.children[kt]){const b=v.children[kt];return new jt(v.segments.concat(b.segments),b.children)}return v}(new jt(v.segments,b))}function rr(v){return v instanceof qr}function Is(v){let b;const R=Jt(function m(H){const ee={};for(const be of H.children){const It=m(be);ee[be.outlet]=It}const Me=new jt(H.url,ee);return H===v&&(b=Me),Me}(v.root));return b??R}function fi(v,b,m,T){let R=v;for(;R.parent;)R=R.parent;if(0===b.length)return Gr(R,R,R,m,T);const H=function os(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Es(!0,0,v);let b=0,m=!1;const T=v.reduce((R,H,ee)=>{if("object"==typeof H&&null!=H){if(H.outlets){const Me={};return Object.entries(H.outlets).forEach(([be,It])=>{Me[be]="string"==typeof It?It.split("/"):It}),[...R,{outlets:Me}]}if(H.segmentPath)return[...R,H.segmentPath]}return"string"!=typeof H?[...R,H]:0===ee?(H.split("/").forEach((Me,be)=>{0==be&&"."===Me||(0==be&&""===Me?m=!0:".."===Me?b++:""!=Me&&R.push(Me))}),R):[...R,H]},[]);return new Es(m,b,T)}(b);if(H.toRoot())return Gr(R,R,new jt([],{}),m,T);const ee=function hs(v,b,m){if(v.isAbsolute)return new Tr(b,!0,0);if(!m)return new Tr(b,!1,NaN);if(null===m.parent)return new Tr(m,!0,0);const T=Fi(v.commands[0])?0:1;return function Vr(v,b,m){let T=v,R=b,H=m;for(;H>R;){if(H-=R,T=T.parent,!T)throw new y.vHH(4005,!1);R=T.segments.length}return new Tr(T,!1,R-H)}(m,m.segments.length-1+T,v.numberOfDoubleDots)}(H,R,v),Me=ee.processChildren?le(ee.segmentGroup,ee.index,H.commands):Ho(ee.segmentGroup,ee.index,H.commands);return Gr(R,ee.segmentGroup,Me,m,T)}function Fi(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Hr(v){return"object"==typeof v&&null!=v&&v.outlets}function Gr(v,b,m,T,R){let ee,H={};T&&Object.entries(T).forEach(([be,It])=>{H[be]=Array.isArray(It)?It.map(ln=>`${ln}`):`${It}`}),ee=v===b?m:bn(v,b,m);const Me=Jt(hn(ee));return new qr(Me,H,R)}function bn(v,b,m){const T={};return Object.entries(v.children).forEach(([R,H])=>{T[R]=H===b?m:bn(H,b,m)}),new jt(v.segments,T)}class Es{constructor(b,m,T){if(this.isAbsolute=b,this.numberOfDoubleDots=m,this.commands=T,b&&T.length>0&&Fi(T[0]))throw new y.vHH(4003,!1);const R=T.find(Hr);if(R&&R!==Nr(T))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tr{constructor(b,m,T){this.segmentGroup=b,this.processChildren=m,this.index=T}}function Ho(v,b,m){if(v||(v=new jt([],{})),0===v.segments.length&&v.hasChildren())return le(v,b,m);const T=function de(v,b,m){let T=0,R=b;const H={match:!1,pathIndex:0,commandIndex:0};for(;R<v.segments.length;){if(T>=m.length)return H;const ee=v.segments[R],Me=m[T];if(Hr(Me))break;const be=`${Me}`,It=T<m.length-1?m[T+1]:null;if(R>0&&void 0===be)break;if(be&&It&&"object"==typeof It&&void 0===It.outlets){if(!Ft(be,It,ee))return H;T+=2}else{if(!Ft(be,{},ee))return H;T++}R++}return{match:!0,pathIndex:R,commandIndex:T}}(v,b,m),R=m.slice(T.commandIndex);if(T.match&&T.pathIndex<v.segments.length){const H=new jt(v.segments.slice(0,T.pathIndex),{});return H.children[kt]=new jt(v.segments.slice(T.pathIndex),v.children),le(H,0,R)}return T.match&&0===R.length?new jt(v.segments,{}):T.match&&!v.hasChildren()?De(v,b,m):T.match?le(v,0,R):De(v,b,m)}function le(v,b,m){if(0===m.length)return new jt(v.segments,{});{const T=function ks(v){return Hr(v[0])?v[0].outlets:{[kt]:v}}(m),R={};if(Object.keys(T).some(H=>H!==kt)&&v.children[kt]&&1===v.numberOfChildren&&0===v.children[kt].segments.length){const H=le(v.children[kt],b,m);return new jt(v.segments,H.children)}return Object.entries(T).forEach(([H,ee])=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&(R[H]=Ho(v.children[H],b,ee))}),Object.entries(v.children).forEach(([H,ee])=>{void 0===T[H]&&(R[H]=ee)}),new jt(v.segments,R)}}function De(v,b,m){const T=v.segments.slice(0,b);let R=0;for(;R<m.length;){const H=m[R];if(Hr(H)){const be=ze(H.outlets);return new jt(T,be)}if(0===R&&Fi(m[0])){T.push(new Kr(v.segments[b].path,ut(m[0]))),R++;continue}const ee=Hr(H)?H.outlets[kt]:`${H}`,Me=R<m.length-1?m[R+1]:null;ee&&Me&&Fi(Me)?(T.push(new Kr(ee,ut(Me))),R+=2):(T.push(new Kr(ee,{})),R++)}return new jt(T,{})}function ze(v){const b={};return Object.entries(v).forEach(([m,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(b[m]=De(new jt([],{}),0,T))}),b}function ut(v){const b={};return Object.entries(v).forEach(([m,T])=>b[m]=`${T}`),b}function Ft(v,b,m){return v==m.path&&Un(b,m.parameters)}const En="imperative";class un{constructor(b,m){this.id=b,this.url=m}}class Dn extends un{constructor(b,m,T="imperative",R=null){super(b,m),this.type=0,this.navigationTrigger=T,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ni extends un{constructor(b,m,T){super(b,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zr extends un{constructor(b,m,T,R){super(b,m),this.reason=T,this.code=R,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jn extends un{constructor(b,m,T,R){super(b,m),this.reason=T,this.code=R,this.type=16}}class zr extends un{constructor(b,m,T,R){super(b,m),this.error=T,this.target=R,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Js extends un{constructor(b,m,T,R){super(b,m),this.urlAfterRedirects=T,this.state=R,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends un{constructor(b,m,T,R){super(b,m),this.urlAfterRedirects=T,this.state=R,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends un{constructor(b,m,T,R,H){super(b,m),this.urlAfterRedirects=T,this.state=R,this.shouldActivate=H,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class co extends un{constructor(b,m,T,R){super(b,m),this.urlAfterRedirects=T,this.state=R,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mo extends un{constructor(b,m,T,R){super(b,m),this.urlAfterRedirects=T,this.state=R,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aa{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lo{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ds{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cs{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ho{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fo{constructor(b,m,T){this.routerEvent=b,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xo{}class No{constructor(b){this.url=b}}class ca{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pi,this.attachRef=null}}let pi=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const R=this.getOrCreateContext(m);R.outlet=T,this.contexts.set(m,R)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new ca,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();class Zi{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const m=this.pathFromRoot(b);return m.length>1?m[m.length-2]:null}children(b){const m=pn(b,this._root);return m?m.children.map(T=>T.value):[]}firstChild(b){const m=pn(b,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(b){const m=ir(b,this._root);return m.length<2?[]:m[m.length-2].children.map(R=>R.value).filter(R=>R!==b)}pathFromRoot(b){return ir(b,this._root).map(m=>m.value)}}function pn(v,b){if(v===b.value)return b;for(const m of b.children){const T=pn(v,m);if(T)return T}return null}function ir(v,b){if(v===b.value)return[b];for(const m of b.children){const T=ir(v,m);if(T.length)return T.unshift(b),T}return[]}class Wn{constructor(b,m){this.value=b,this.children=m}toString(){return`TreeNode(${this.value})`}}function gn(v){const b={};return v&&v.children.forEach(m=>b[m.value.outlet]=m),b}class Yr extends Zi{constructor(b,m){super(b),this.snapshot=m,sn(this,b)}toString(){return this.snapshot.toString()}}function Yi(v,b){const m=function po(v,b){const ee=new sr([],{},{},"",{},kt,b,null,{});return new mt("",new Wn(ee,[]))}(0,b),T=new ne.X([new Kr("",{})]),R=new ne.X({}),H=new ne.X({}),ee=new ne.X({}),Me=new ne.X(""),be=new as(T,R,ee,Me,H,kt,b,m.root);return be.snapshot=m.root,new Yr(new Wn(be,[]),m)}class as{constructor(b,m,T,R,H,ee,Me,be){this.urlSubject=b,this.paramsSubject=m,this.queryParamsSubject=T,this.fragmentSubject=R,this.dataSubject=H,this.outlet=ee,this.component=Me,this._futureSnapshot=be,this.title=this.dataSubject?.pipe((0,pt.U)(It=>It[Fr]))??(0,j.of)(void 0),this.url=b,this.params=m,this.queryParams=T,this.fragment=R,this.data=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(b=>tr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(b=>tr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function go(v,b="emptyOnly"){const m=v.pathFromRoot;let T=0;if("always"!==b)for(T=m.length-1;T>=1;){const R=m[T],H=m[T-1];if(R.routeConfig&&""===R.routeConfig.path)T--;else{if(H.component)break;T--}}return function la(v){return v.reduce((b,m)=>({params:{...b.params,...m.params},data:{...b.data,...m.data},resolve:{...m.data,...b.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class sr{get title(){return this.data?.[Fr]}constructor(b,m,T,R,H,ee,Me,be,It){this.url=b,this.params=m,this.queryParams=T,this.fragment=R,this.data=H,this.outlet=ee,this.component=Me,this.routeConfig=be,this._resolve=It}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mt extends Zi{constructor(b,m){super(m),this.url=b,sn(this,m)}toString(){return or(this._root)}}function sn(v,b){b.value._routerState=v,b.children.forEach(m=>sn(v,m))}function or(v){const b=v.children.length>0?` { ${v.children.map(or).join(", ")} } `:"";return`${v.value}${b}`}function Ur(v){if(v.snapshot){const b=v.snapshot,m=v._futureSnapshot;v.snapshot=m,Un(b.queryParams,m.queryParams)||v.queryParamsSubject.next(m.queryParams),b.fragment!==m.fragment&&v.fragmentSubject.next(m.fragment),Un(b.params,m.params)||v.paramsSubject.next(m.params),function en(v,b){if(v.length!==b.length)return!1;for(let m=0;m<v.length;++m)if(!Un(v[m],b[m]))return!1;return!0}(b.url,m.url)||v.urlSubject.next(m.url),Un(b.data,m.data)||v.dataSubject.next(m.data)}else v.snapshot=v._futureSnapshot,v.dataSubject.next(v._futureSnapshot.data)}function Qi(v,b){const m=Un(v.params,b.params)&&function Di(v,b){return dr(v,b)&&v.every((m,T)=>Un(m.parameters,b[T].parameters))}(v.url,b.url);return m&&!(!v.parent!=!b.parent)&&(!v.parent||Qi(v.parent,b.parent))}let ni=(()=>{class v{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(pi),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(Fn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:R}=m.name;if(T)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=m;const R=this.location,ee=m.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,be=new mo(m,Me,R.injector);this.activated=R.createComponent(ee,{index:R.length,injector:be,environmentInjector:T??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275dir=y.lG2({type:v,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]})}return v})();class mo{constructor(b,m,T){this.route=b,this.childContexts=m,this.parent=T}get(b,m){return b===as?this.route:b===pi?this.childContexts:this.parent.get(b,m)}}const Fn=new y.OlP("");let fs=(()=>{class v{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(m){this.unsubscribeFromRouteData(m),this.subscribeToRouteData(m)}unsubscribeFromRouteData(m){this.outletDataSubscriptions.get(m)?.unsubscribe(),this.outletDataSubscriptions.delete(m)}subscribeToRouteData(m){const{activatedRoute:T}=m,R=lt([T.queryParams,T.params,T.data]).pipe((0,Yt.w)(([H,ee,Me],be)=>(Me={...H,...ee,...Me},0===be?(0,j.of)(Me):Promise.resolve(Me)))).subscribe(H=>{if(!m.isActivated||!m.activatedComponentRef||m.activatedRoute!==T||null===T.component)return void this.unsubscribeFromRouteData(m);const ee=(0,y.qFp)(T.component);if(ee)for(const{templateName:Me}of ee.inputs)m.activatedComponentRef.setInput(Me,H[Me]);else this.unsubscribeFromRouteData(m)});this.outletDataSubscriptions.set(m,R)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac})}return v})();function Lt(v,b,m){if(m&&v.shouldReuseRoute(b.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=b.value;const R=function ps(v,b,m){return b.children.map(T=>{for(const R of m.children)if(v.shouldReuseRoute(T.value,R.value.snapshot))return Lt(v,T,R);return Lt(v,T)})}(v,b,m);return new Wn(T,R)}{if(v.shouldAttach(b.value)){const H=v.retrieve(b.value);if(null!==H){const ee=H.route;return ee.value._futureSnapshot=b.value,ee.children=b.children.map(Me=>Lt(v,Me)),ee}}const T=function bs(v){return new as(new ne.X(v.url),new ne.X(v.params),new ne.X(v.queryParams),new ne.X(v.fragment),new ne.X(v.data),v.outlet,v.component,v)}(b.value),R=b.children.map(H=>Lt(v,H));return new Wn(T,R)}}const Ts="ngNavigationCancelingError";function Sr(v,b){const{redirectTo:m,navigationBehaviorOptions:T}=rr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,R=Fs(!1,0,b);return R.url=m,R.navigationBehaviorOptions=T,R}function Fs(v,b,m){const T=new Error("NavigationCancelingError: "+(v||""));return T[Ts]=!0,T.cancellationCode=b,m&&(T.url=m),T}function Br(v){return v&&v[Ts]}let gs=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275cmp=y.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(T,R){1&T&&y._UZ(0,"router-outlet")},dependencies:[ni],encapsulation:2})}return v})();function mi(v){const b=v.children&&v.children.map(mi),m=b?{...v,children:b}:{...v};return!m.component&&!m.loadComponent&&(b||m.loadChildren)&&m.outlet&&m.outlet!==kt&&(m.component=gs),m}function Ri(v){return v.outlet||kt}function $i(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let b=v.parent;b;b=b.parent){const m=b.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class yi{constructor(b,m,T,R,H){this.routeReuseStrategy=b,this.futureState=m,this.currState=T,this.forwardEvent=R,this.inputBindingEnabled=H}activate(b){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,b),Ur(this.futureState.root),this.activateChildRoutes(m,T,b)}deactivateChildRoutes(b,m,T){const R=gn(m);b.children.forEach(H=>{const ee=H.value.outlet;this.deactivateRoutes(H,R[ee],T),delete R[ee]}),Object.values(R).forEach(H=>{this.deactivateRouteAndItsChildren(H,T)})}deactivateRoutes(b,m,T){const R=b.value,H=m?m.value:null;if(R===H)if(R.component){const ee=T.getContext(R.outlet);ee&&this.deactivateChildRoutes(b,m,ee.children)}else this.deactivateChildRoutes(b,m,T);else H&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(b,m){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,m):this.deactivateRouteAndOutlet(b,m)}detachAndStoreRouteSubtree(b,m){const T=m.getContext(b.value.outlet),R=T&&b.value.component?T.children:m,H=gn(b);for(const ee of Object.keys(H))this.deactivateRouteAndItsChildren(H[ee],R);if(T&&T.outlet){const ee=T.outlet.detach(),Me=T.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:ee,route:b,contexts:Me})}}deactivateRouteAndOutlet(b,m){const T=m.getContext(b.value.outlet),R=T&&b.value.component?T.children:m,H=gn(b);for(const ee of Object.keys(H))this.deactivateRouteAndItsChildren(H[ee],R);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(b,m,T){const R=gn(m);b.children.forEach(H=>{this.activateRoutes(H,R[H.value.outlet],T),this.forwardEvent(new ho(H.value.snapshot))}),b.children.length&&this.forwardEvent(new Ds(b.value.snapshot))}activateRoutes(b,m,T){const R=b.value,H=m?m.value:null;if(Ur(R),R===H)if(R.component){const ee=T.getOrCreateContext(R.outlet);this.activateChildRoutes(b,m,ee.children)}else this.activateChildRoutes(b,m,T);else if(R.component){const ee=T.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const Me=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),ee.children.onOutletReAttached(Me.contexts),ee.attachRef=Me.componentRef,ee.route=Me.route.value,ee.outlet&&ee.outlet.attach(Me.componentRef,Me.route.value),Ur(Me.route.value),this.activateChildRoutes(b,null,ee.children)}else{const Me=$i(R.snapshot);ee.attachRef=null,ee.route=R,ee.injector=Me,ee.outlet&&ee.outlet.activateWith(R,ee.injector),this.activateChildRoutes(b,null,ee.children)}}else this.activateChildRoutes(b,null,T)}}class Wr{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Bs{constructor(b,m){this.component=b,this.route=m}}function Ss(v,b,m){const T=v._root;return vi(T,b?b._root:null,m,[T.value])}function yn(v,b){const m=Symbol(),T=b.get(v,m);return T===m?"function"!=typeof v||(0,y.Z0I)(v)?b.get(v):v:T}function vi(v,b,m,T,R={canDeactivateChecks:[],canActivateChecks:[]}){const H=gn(b);return v.children.forEach(ee=>{(function da(v,b,m,T,R={canDeactivateChecks:[],canActivateChecks:[]}){const H=v.value,ee=b?b.value:null,Me=m?m.getContext(v.value.outlet):null;if(ee&&H.routeConfig===ee.routeConfig){const be=function k(v,b,m){if("function"==typeof m)return m(v,b);switch(m){case"pathParamsChange":return!dr(v.url,b.url);case"pathParamsOrQueryParamsChange":return!dr(v.url,b.url)||!Un(v.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qi(v,b)||!Un(v.queryParams,b.queryParams);default:return!Qi(v,b)}}(ee,H,H.routeConfig.runGuardsAndResolvers);be?R.canActivateChecks.push(new Wr(T)):(H.data=ee.data,H._resolvedData=ee._resolvedData),vi(v,b,H.component?Me?Me.children:null:m,T,R),be&&Me&&Me.outlet&&Me.outlet.isActivated&&R.canDeactivateChecks.push(new Bs(Me.outlet.component,ee))}else ee&&L(b,Me,R),R.canActivateChecks.push(new Wr(T)),vi(v,null,H.component?Me?Me.children:null:m,T,R)})(ee,H[ee.value.outlet],m,T.concat([ee.value]),R),delete H[ee.value.outlet]}),Object.entries(H).forEach(([ee,Me])=>L(Me,m.getContext(ee),R)),R}function L(v,b,m){const T=gn(v),R=v.value;Object.entries(T).forEach(([H,ee])=>{L(ee,R.component?b?b.children.getContext(H):null:b,m)}),m.canDeactivateChecks.push(new Bs(R.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,R))}function M(v){return"function"==typeof v}function Xi(v){return v instanceof Tn||"EmptyError"===v?.name}const Ro=Symbol("INITIAL_VALUE");function Ci(){return(0,Yt.w)(v=>lt(v.map(b=>b.pipe(Ee(1),function Ne(...v){const b=(0,se.yG)(v);return(0,Ln.e)((m,T)=>{(b?et(v,m,b):et(v,m)).subscribe(T)})}(Ro)))).pipe((0,pt.U)(b=>{for(const m of b)if(!0!==m){if(m===Ro)return Ro;if(!1===m||m instanceof qr)return m}return!0}),(0,Ue.h)(b=>b!==Ro),Ee(1)))}function Ya(v){return(0,Je.z)((0,ft.b)(b=>{if(rr(b))throw Sr(0,b)}),(0,pt.U)(b=>!0===b))}class Qr{constructor(b){this.segmentGroup=b||null}}class ii{constructor(b){this.urlTree=b}}function Vi(v){return $e(new Qr(v))}function Ra(v){return $e(new ii(v))}class Hi{constructor(b,m){this.urlSerializer=b,this.urlTree=m}noMatchError(b){return new y.vHH(4002,!1)}lineralizeSegments(b,m){let T=[],R=m.root;for(;;){if(T=T.concat(R.segments),0===R.numberOfChildren)return(0,j.of)(T);if(R.numberOfChildren>1||!R.children[kt])return $e(new y.vHH(4e3,!1));R=R.children[kt]}}applyRedirectCommands(b,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),b,T)}applyRedirectCreateUrlTree(b,m,T,R){const H=this.createSegmentGroup(b,m.root,T,R);return new qr(H,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(b,m){const T={};return Object.entries(b).forEach(([R,H])=>{if("string"==typeof H&&H.startsWith(":")){const Me=H.substring(1);T[R]=m[Me]}else T[R]=H}),T}createSegmentGroup(b,m,T,R){const H=this.createSegments(b,m.segments,T,R);let ee={};return Object.entries(m.children).forEach(([Me,be])=>{ee[Me]=this.createSegmentGroup(b,be,T,R)}),new jt(H,ee)}createSegments(b,m,T,R){return m.map(H=>H.path.startsWith(":")?this.findPosParam(b,H,R):this.findOrReturn(H,T))}findPosParam(b,m,T){const R=T[m.path.substring(1)];if(!R)throw new y.vHH(4001,!1);return R}findOrReturn(b,m){let T=0;for(const R of m){if(R.path===b.path)return m.splice(T),R;T++}return b}}const Io={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qn(v,b,m,T,R){const H=Pa(v,b,m);return H.matched?(T=function yo(v,b){return v.providers&&!v._injector&&(v._injector=(0,y.MMx)(v.providers,b,`Route: ${v.path}`)),v._injector??b}(b,T),function Li(v,b,m,T){const R=b.canMatch;if(!R||0===R.length)return(0,j.of)(!0);const H=R.map(ee=>{const Me=yn(ee,v);return Bn(function ms(v){return v&&M(v.canMatch)}(Me)?Me.canMatch(b,m):v.runInContext(()=>Me(b,m)))});return(0,j.of)(H).pipe(Ci(),Ya())}(T,b,m).pipe((0,pt.U)(ee=>!0===ee?H:{...Io}))):(0,j.of)(H)}function Pa(v,b,m){if(""===b.path)return"full"===b.pathMatch&&(v.hasChildren()||m.length>0)?{...Io}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const R=(b.matcher||tn)(m,v,b);if(!R)return{...Io};const H={};Object.entries(R.posParams??{}).forEach(([Me,be])=>{H[Me]=be.path});const ee=R.consumed.length>0?{...H,...R.consumed[R.consumed.length-1].parameters}:H;return{matched:!0,consumedSegments:R.consumed,remainingSegments:m.slice(R.consumed.length),parameters:ee,positionalParamSegments:R.posParams??{}}}function Oo(v,b,m,T){return m.length>0&&function ka(v,b,m){return m.some(T=>Eo(v,b,T)&&Ri(T)!==kt)}(v,m,T)?{segmentGroup:new jt(b,zo(T,new jt(m,v.children))),slicedSegments:[]}:0===m.length&&function ys(v,b,m){return m.some(T=>Eo(v,b,T))}(v,m,T)?{segmentGroup:new jt(v.segments,to(v,0,m,T,v.children)),slicedSegments:m}:{segmentGroup:new jt(v.segments,v.children),slicedSegments:m}}function to(v,b,m,T,R){const H={};for(const ee of T)if(Eo(v,m,ee)&&!R[Ri(ee)]){const Me=new jt([],{});H[Ri(ee)]=Me}return{...R,...H}}function zo(v,b){const m={};m[kt]=b;for(const T of v)if(""===T.path&&Ri(T)!==kt){const R=new jt([],{});m[Ri(T)]=R}return m}function Eo(v,b,m){return(!(v.hasChildren()||b.length>0)||"full"!==m.pathMatch)&&""===m.path}class si{constructor(b,m,T,R,H,ee,Me){this.injector=b,this.configLoader=m,this.rootComponentType=T,this.config=R,this.urlTree=H,this.paramsInheritanceStrategy=ee,this.urlSerializer=Me,this.allowRedirects=!0,this.applyRedirects=new Hi(this.urlSerializer,this.urlTree)}noMatchError(b){return new y.vHH(4002,!1)}recognize(){const b=Oo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,kt).pipe(Xt(m=>{if(m instanceof ii)return this.allowRedirects=!1,this.urlTree=m.urlTree,this.match(m.urlTree);throw m instanceof Qr?this.noMatchError(m):m}),(0,pt.U)(m=>{const T=new sr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,{}),R=new Wn(T,m),H=new mt("",R),ee=function hi(v,b,m=null,T=null){return fi(Is(v),b,m,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return ee.queryParams=this.urlTree.queryParams,H.url=this.urlSerializer.serialize(ee),this.inheritParamsAndData(H._root),{state:H,tree:ee}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,kt).pipe(Xt(T=>{throw T instanceof Qr?this.noMatchError(T):T}))}inheritParamsAndData(b){const m=b.value,T=go(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),b.children.forEach(R=>this.inheritParamsAndData(R))}processSegmentGroup(b,m,T,R){return 0===T.segments.length&&T.hasChildren()?this.processChildren(b,m,T):this.processSegment(b,m,T,T.segments,R,!0)}processChildren(b,m,T){const R=[];for(const H of Object.keys(T.children))"primary"===H?R.unshift(H):R.push(H);return(0,fe.D)(R).pipe((0,Bt.b)(H=>{const ee=T.children[H],Me=function hr(v,b){const m=v.filter(T=>Ri(T)===b);return m.push(...v.filter(T=>Ri(T)!==b)),m}(m,H);return this.processSegmentGroup(b,Me,ee,H)}),function An(v,b){return(0,Ln.e)(function zn(v,b,m,T,R){return(H,ee)=>{let Me=m,be=b,It=0;H.subscribe((0,Ve.x)(ee,ln=>{const jn=It++;be=Me?v(be,ln,jn):(Me=!0,ln),T&&ee.next(be)},R&&(()=>{Me&&ee.next(be),ee.complete()})))}}(v,b,arguments.length>=2,!0))}((H,ee)=>(H.push(...ee),H)),Ge(null),function ur(v,b){const m=arguments.length>=2;return T=>T.pipe(v?(0,Ue.h)((R,H)=>v(R,H,T)):He.y,Mn(1),m?Ge(b):ot(()=>new Tn))}(),(0,Re.z)(H=>{if(null===H)return Vi(T);const ee=B(H);return function Wo(v){v.sort((b,m)=>b.value.outlet===kt?-1:m.value.outlet===kt?1:b.value.outlet.localeCompare(m.value.outlet))}(ee),(0,j.of)(ee)}))}processSegment(b,m,T,R,H,ee){return(0,fe.D)(m).pipe((0,Bt.b)(Me=>this.processSegmentAgainstRoute(Me._injector??b,m,Me,T,R,H,ee).pipe(Xt(be=>{if(be instanceof Qr)return(0,j.of)(null);throw be}))),an(Me=>!!Me),Xt(Me=>{if(Xi(Me))return function no(v,b,m){return 0===b.length&&!v.children[m]}(T,R,H)?(0,j.of)([]):Vi(T);throw Me}))}processSegmentAgainstRoute(b,m,T,R,H,ee,Me){return function Hs(v,b,m,T){return!!(Ri(v)===T||T!==kt&&Eo(b,m,v))&&("**"===v.path||Pa(b,v,m).matched)}(T,R,H,ee)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(b,R,T,H,ee,Me):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,R,m,T,H,ee):Vi(R):Vi(R)}expandSegmentAgainstRouteUsingRedirect(b,m,T,R,H,ee){return"**"===R.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,T,R,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(b,m,T,R,H,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,m,T,R){const H=this.applyRedirects.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ra(H):this.applyRedirects.lineralizeSegments(T,H).pipe((0,Re.z)(ee=>{const Me=new jt(ee,{});return this.processSegment(b,m,Me,ee,R,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,m,T,R,H,ee){const{matched:Me,consumedSegments:be,remainingSegments:It,positionalParamSegments:ln}=Pa(m,R,H);if(!Me)return Vi(m);const jn=this.applyRedirects.applyRedirectCommands(be,R.redirectTo,ln);return R.redirectTo.startsWith("/")?Ra(jn):this.applyRedirects.lineralizeSegments(R,jn).pipe((0,Re.z)($n=>this.processSegment(b,T,m,$n.concat(It),ee,!1)))}matchSegmentAgainstRoute(b,m,T,R,H,ee){let Me;if("**"===T.path){const be=R.length>0?Nr(R).parameters:{},It=new sr(R,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(T),Ri(T),T.component??T._loadedComponent??null,T,te(T));Me=(0,j.of)({snapshot:It,consumedSegments:[],remainingSegments:[]}),m.children={}}else Me=qn(m,T,R,b).pipe((0,pt.U)(({matched:be,consumedSegments:It,remainingSegments:ln,parameters:jn})=>be?{snapshot:new sr(It,jn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(T),Ri(T),T.component??T._loadedComponent??null,T,te(T)),consumedSegments:It,remainingSegments:ln}:null));return Me.pipe((0,Yt.w)(be=>null===be?Vi(m):this.getChildConfig(b=T._injector??b,T,R).pipe((0,Yt.w)(({routes:It})=>{const ln=T._loadedInjector??b,{snapshot:jn,consumedSegments:$n,remainingSegments:bo}=be,{segmentGroup:ts,slicedSegments:Jo}=Oo(m,$n,bo,It);if(0===Jo.length&&ts.hasChildren())return this.processChildren(ln,It,ts).pipe((0,pt.U)(vr=>null===vr?null:[new Wn(jn,vr)]));if(0===It.length&&0===Jo.length)return(0,j.of)([new Wn(jn,[])]);const vu=Ri(T)===H;return this.processSegment(ln,It,ts,Jo,vu?kt:H,!0).pipe((0,pt.U)(vr=>[new Wn(jn,vr)]))}))))}getChildConfig(b,m,T){return m.children?(0,j.of)({routes:m.children,injector:b}):m.loadChildren?void 0!==m._loadedRoutes?(0,j.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function $s(v,b,m,T){const R=b.canLoad;if(void 0===R||0===R.length)return(0,j.of)(!0);const H=R.map(ee=>{const Me=yn(ee,v);return Bn(function ue(v){return v&&M(v.canLoad)}(Me)?Me.canLoad(b,m):v.runInContext(()=>Me(b,m)))});return(0,j.of)(H).pipe(Ci(),Ya())}(b,m,T).pipe((0,Re.z)(R=>R?this.configLoader.loadChildren(b,m).pipe((0,ft.b)(H=>{m._loadedRoutes=H.routes,m._loadedInjector=H.injector})):function Oa(v){return $e(Fs(!1,3))}())):(0,j.of)({routes:[],injector:b})}}function E(v){const b=v.value.routeConfig;return b&&""===b.path}function B(v){const b=[],m=new Set;for(const T of v){if(!E(T)){b.push(T);continue}const R=b.find(H=>T.value.routeConfig===H.value.routeConfig);void 0!==R?(R.children.push(...T.children),m.add(R)):b.push(T)}for(const T of m){const R=B(T.children);b.push(new Wn(T.value,R))}return b.filter(T=>!m.has(T))}function V(v){return v.data||{}}function te(v){return v.resolve||{}}function vn(v){return"string"==typeof v.title||null===v.title}function Ar(v){return(0,Yt.w)(b=>{const m=v(b);return m?(0,fe.D)(m).pipe((0,pt.U)(()=>b)):(0,j.of)(b)})}const Xn=new y.OlP("ROUTES");let _i=(()=>{class v{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,j.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=Bn(m.loadComponent()).pipe((0,pt.U)(fr),(0,ft.b)(H=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=H}),(0,kr.x)(()=>{this.componentLoaders.delete(m)})),R=new st(T,()=>new tt.x).pipe(Cr());return this.componentLoaders.set(m,R),R}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,j.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const H=function Gi(v,b,m,T){return Bn(v.loadChildren()).pipe((0,pt.U)(fr),(0,Re.z)(R=>R instanceof y.YKP||Array.isArray(R)?(0,j.of)(R):(0,fe.D)(b.compileModuleAsync(R))),(0,pt.U)(R=>{T&&T(v);let H,ee,Me=!1;return Array.isArray(R)?(ee=R,!0):(H=R.create(m).injector,ee=H.get(Xn,[],{optional:!0,self:!0}).flat()),{routes:ee.map(mi),injector:H}}))}(T,this.compiler,m,this.onLoadEndListener).pipe((0,kr.x)(()=>{this.childrenLoaders.delete(T)})),ee=new st(H,()=>new tt.x).pipe(Cr());return this.childrenLoaders.set(T,ee),ee}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function fr(v){return function Gs(v){return v&&"object"==typeof v&&"default"in v}(v)?v.default:v}let Mr=(()=>{class v{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt.x,this.transitionAbortSubject=new tt.x,this.configLoader=(0,y.f3M)(_i),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(nn),this.rootContexts=(0,y.f3M)(pi),this.inputBindingEnabled=null!==(0,y.f3M)(Fn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new aa(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new Ki(R))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m,T,R){return this.transitions=new ne.X({id:0,currentUrlTree:T,currentRawUrl:T,currentBrowserUrl:T,extractedUrl:m.urlHandlingStrategy.extract(T),urlAfterRedirects:m.urlHandlingStrategy.extract(T),rawUrl:T,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:En,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ue.h)(H=>0!==H.id),(0,pt.U)(H=>({...H,extractedUrl:m.urlHandlingStrategy.extract(H.rawUrl)})),(0,Yt.w)(H=>{this.currentTransition=H;let ee=!1,Me=!1;return(0,j.of)(H).pipe((0,ft.b)(be=>{this.currentNavigation={id:be.id,initialUrl:be.rawUrl,extractedUrl:be.extractedUrl,trigger:be.source,extras:be.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yt.w)(be=>{const It=be.currentBrowserUrl.toString(),ln=!m.navigated||be.extractedUrl.toString()!==It||It!==be.currentUrlTree.toString();if(!ln&&"reload"!==(be.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const $n="";return this.events.next(new Jn(be.id,this.urlSerializer.serialize(be.rawUrl),$n,0)),be.resolve(null),Ye.E}if(m.urlHandlingStrategy.shouldProcessUrl(be.rawUrl))return(0,j.of)(be).pipe((0,Yt.w)($n=>{const bo=this.transitions?.getValue();return this.events.next(new Dn($n.id,this.urlSerializer.serialize($n.extractedUrl),$n.source,$n.restoredState)),bo!==this.transitions?.getValue()?Ye.E:Promise.resolve($n)}),function ke(v,b,m,T,R,H){return(0,Re.z)(ee=>function Ms(v,b,m,T,R,H,ee="emptyOnly"){return new si(v,b,m,T,R,ee,H).recognize()}(v,b,m,T,ee.extractedUrl,R,H).pipe((0,pt.U)(({state:Me,tree:be})=>({...ee,targetSnapshot:Me,urlAfterRedirects:be}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,ft.b)($n=>{H.targetSnapshot=$n.targetSnapshot,H.urlAfterRedirects=$n.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:$n.urlAfterRedirects};const bo=new Js($n.id,this.urlSerializer.serialize($n.extractedUrl),this.urlSerializer.serialize($n.urlAfterRedirects),$n.targetSnapshot);this.events.next(bo)}));if(ln&&m.urlHandlingStrategy.shouldProcessUrl(be.currentRawUrl)){const{id:$n,extractedUrl:bo,source:ts,restoredState:Jo,extras:vu}=be,vr=new Dn($n,this.urlSerializer.serialize(bo),ts,Jo);this.events.next(vr);const Lo=Yi(0,this.rootComponentType).snapshot;return this.currentTransition=H={...be,targetSnapshot:Lo,urlAfterRedirects:bo,extras:{...vu,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(H)}{const $n="";return this.events.next(new Jn(be.id,this.urlSerializer.serialize(be.extractedUrl),$n,1)),be.resolve(null),Ye.E}}),(0,ft.b)(be=>{const It=new oa(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot);this.events.next(It)}),(0,pt.U)(be=>(this.currentTransition=H={...be,guards:Ss(be.targetSnapshot,be.currentSnapshot,this.rootContexts)},H)),function fu(v,b){return(0,Re.z)(m=>{const{targetSnapshot:T,currentSnapshot:R,guards:{canActivateChecks:H,canDeactivateChecks:ee}}=m;return 0===ee.length&&0===H.length?(0,j.of)({...m,guardsResult:!0}):function ha(v,b,m,T){return(0,fe.D)(v).pipe((0,Re.z)(R=>function us(v,b,m,T,R){const H=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!H||0===H.length)return(0,j.of)(!0);const ee=H.map(Me=>{const be=$i(b)??R,It=yn(Me,be);return Bn(function Oi(v){return v&&M(v.canDeactivate)}(It)?It.canDeactivate(v,b,m,T):be.runInContext(()=>It(v,b,m,T))).pipe(an())});return(0,j.of)(ee).pipe(Ci())}(R.component,R.route,m,b,T)),an(R=>!0!==R,!0))}(ee,T,R,v).pipe((0,Re.z)(Me=>Me&&function G(v){return"boolean"==typeof v}(Me)?function xa(v,b,m,T){return(0,fe.D)(b).pipe((0,Bt.b)(R=>et(function pu(v,b){return null!==v&&b&&b(new lo(v)),(0,j.of)(!0)}(R.route.parent,T),function js(v,b){return null!==v&&b&&b(new Cs(v)),(0,j.of)(!0)}(R.route,T),function fa(v,b,m){const T=b[b.length-1],H=b.slice(0,b.length-1).reverse().map(ee=>function _o(v){const b=v.routeConfig?v.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:v,guards:b}:null}(ee)).filter(ee=>null!==ee).map(ee=>Be(()=>{const Me=ee.guards.map(be=>{const It=$i(ee.node)??m,ln=yn(be,It);return Bn(function cn(v){return v&&M(v.canActivateChild)}(ln)?ln.canActivateChild(T,v):It.runInContext(()=>ln(T,v))).pipe(an())});return(0,j.of)(Me).pipe(Ci())}));return(0,j.of)(H).pipe(Ci())}(v,R.path,m),function Na(v,b,m){const T=b.routeConfig?b.routeConfig.canActivate:null;if(!T||0===T.length)return(0,j.of)(!0);const R=T.map(H=>Be(()=>{const ee=$i(b)??m,Me=yn(H,ee);return Bn(function bt(v){return v&&M(v.canActivate)}(Me)?Me.canActivate(b,v):ee.runInContext(()=>Me(b,v))).pipe(an())}));return(0,j.of)(R).pipe(Ci())}(v,R.route,m))),an(R=>!0!==R,!0))}(T,H,v,b):(0,j.of)(Me)),(0,pt.U)(Me=>({...m,guardsResult:Me})))})}(this.environmentInjector,be=>this.events.next(be)),(0,ft.b)(be=>{if(H.guardsResult=be.guardsResult,rr(be.guardsResult))throw Sr(0,be.guardsResult);const It=new Go(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects),be.targetSnapshot,!!be.guardsResult);this.events.next(It)}),(0,Ue.h)(be=>!!be.guardsResult||(this.cancelNavigationTransition(be,"",3),!1)),Ar(be=>{if(be.guards.canActivateChecks.length)return(0,j.of)(be).pipe((0,ft.b)(It=>{const ln=new co(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(ln)}),(0,Yt.w)(It=>{let ln=!1;return(0,j.of)(It).pipe(function Qe(v,b){return(0,Re.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:R}}=m;if(!R.length)return(0,j.of)(m);let H=0;return(0,fe.D)(R).pipe((0,Bt.b)(ee=>function Vt(v,b,m,T){const R=v.routeConfig,H=v._resolve;return void 0!==R?.title&&!vn(R)&&(H[Fr]=R.title),function yr(v,b,m,T){const R=function Er(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===R.length)return(0,j.of)({});const H={};return(0,fe.D)(R).pipe((0,Re.z)(ee=>function Yn(v,b,m,T){const R=$i(b)??T,H=yn(v,R);return Bn(H.resolve?H.resolve(b,m):R.runInContext(()=>H(b,m)))}(v[ee],b,m,T).pipe(an(),(0,ft.b)(Me=>{H[ee]=Me}))),Mn(1),function xn(v){return(0,pt.U)(()=>v)}(H),Xt(ee=>Xi(ee)?Ye.E:$e(ee)))}(H,v,b,T).pipe((0,pt.U)(ee=>(v._resolvedData=ee,v.data=go(v,m).resolve,R&&vn(R)&&(v.data[Fr]=R.title),null)))}(ee.route,T,v,b)),(0,ft.b)(()=>H++),Mn(1),(0,Re.z)(ee=>H===R.length?(0,j.of)(m):Ye.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,ft.b)({next:()=>ln=!0,complete:()=>{ln||this.cancelNavigationTransition(It,"",2)}}))}),(0,ft.b)(It=>{const ln=new Mo(It.id,this.urlSerializer.serialize(It.extractedUrl),this.urlSerializer.serialize(It.urlAfterRedirects),It.targetSnapshot);this.events.next(ln)}))}),Ar(be=>{const It=ln=>{const jn=[];ln.routeConfig?.loadComponent&&!ln.routeConfig._loadedComponent&&jn.push(this.configLoader.loadComponent(ln.routeConfig).pipe((0,ft.b)($n=>{ln.component=$n}),(0,pt.U)(()=>{})));for(const $n of ln.children)jn.push(...It($n));return jn};return lt(It(be.targetSnapshot.root)).pipe(Ge(),Ee(1))}),Ar(()=>this.afterPreactivation()),(0,pt.U)(be=>{const It=function Xs(v,b,m){const T=Lt(v,b._root,m?m._root:void 0);return new Yr(T,b)}(m.routeReuseStrategy,be.targetSnapshot,be.currentRouterState);return this.currentTransition=H={...be,targetRouterState:It},H}),(0,ft.b)(()=>{this.events.next(new xo)}),((v,b,m,T)=>(0,pt.U)(R=>(new yi(b,R.targetRouterState,R.currentRouterState,m,T).activate(v),R)))(this.rootContexts,m.routeReuseStrategy,be=>this.events.next(be),this.inputBindingEnabled),Ee(1),(0,ft.b)({next:be=>{ee=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ni(be.id,this.urlSerializer.serialize(be.extractedUrl),this.urlSerializer.serialize(be.urlAfterRedirects))),m.titleStrategy?.updateTitle(be.targetRouterState.snapshot),be.resolve(!0)},complete:()=>{ee=!0}}),function Kt(v){return(0,Ln.e)((b,m)=>{(0,Oe.Xf)(v).subscribe((0,Ve.x)(m,()=>m.complete(),Cn.Z)),!m.closed&&b.subscribe(m)})}(this.transitionAbortSubject.pipe((0,ft.b)(be=>{throw be}))),(0,kr.x)(()=>{ee||Me||this.cancelNavigationTransition(H,"",1),this.currentNavigation?.id===H.id&&(this.currentNavigation=null)}),Xt(be=>{if(Me=!0,Br(be))this.events.next(new Zr(H.id,this.urlSerializer.serialize(H.extractedUrl),be.message,be.cancellationCode)),function Ls(v){return Br(v)&&rr(v.url)}(be)?this.events.next(new No(be.url)):H.resolve(!1);else{this.events.next(new zr(H.id,this.urlSerializer.serialize(H.extractedUrl),be,H.targetSnapshot??void 0));try{H.resolve(m.errorHandler(be))}catch(It){H.reject(It)}}return Ye.E}))}))}cancelNavigationTransition(m,T,R){const H=new Zr(m.id,this.urlSerializer.serialize(m.extractedUrl),T,R);this.events.next(H),m.resolve(!1)}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function bi(v){return v!==En}let ro=(()=>{class v{buildTitle(m){let T,R=m.root;for(;void 0!==R;)T=this.getResolvedTitleForRoute(R)??T,R=R.children.find(H=>H.outlet===kt);return T}getResolvedTitleForRoute(m){return m.data[Fr]}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(Po)},providedIn:"root"})}return v})(),Po=(()=>{class v extends ro{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(Vn.Dx))};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),at=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(zs)},providedIn:"root"})}return v})();class wi{shouldDetach(b){return!1}store(b,m){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,m){return b.routeConfig===m.routeConfig}}let zs=(()=>{class v extends wi{static#e=this.\u0275fac=function(){let m;return function(R){return(m||(m=y.n5z(v)))(R||v)}}();static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const pa=new y.OlP("",{providedIn:"root",factory:()=>({})});let xt=(()=>{class v{static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:function(){return(0,y.f3M)(Ht)},providedIn:"root"})}return v})(),Ht=(()=>{class v{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();var Fa=function(v){return v[v.COMPLETE=0]="COMPLETE",v[v.FAILED=1]="FAILED",v[v.REDIRECTING=2]="REDIRECTING",v}(Fa||{});function wt(v,b){v.events.pipe((0,Ue.h)(m=>m instanceof Ni||m instanceof Zr||m instanceof zr||m instanceof Jn),(0,pt.U)(m=>m instanceof Ni||m instanceof Jn?Fa.COMPLETE:m instanceof Zr&&(0===m.code||1===m.code)?Fa.REDIRECTING:Fa.FAILED),(0,Ue.h)(m=>m!==Fa.REDIRECTING),Ee(1)).subscribe(()=>{b()})}function xe(v){throw v}function rt(v,b,m){return b.parse("/")}const Ti={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Or={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xs=(()=>{class v{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this._events=new tt.x,this.options=(0,y.f3M)(pa,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||xe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rt,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(xt),this.routeReuseStrategy=(0,y.f3M)(at),this.titleStrategy=(0,y.f3M)(ro),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(Xn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(Mr),this.urlSerializer=(0,y.f3M)(nn),this.location=(0,y.f3M)(In.Ye),this.componentInputBindingEnabled=!!(0,y.f3M)(Fn,{optional:!0}),this.eventsSubscription=new dn.w0,this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Yi(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const m=this.navigationTransitions.events.subscribe(T=>{try{const{currentTransition:R}=this.navigationTransitions;if(null===R)return void(Ns(T)&&this._events.next(T));if(T instanceof Dn)bi(R.source)&&(this.browserUrlTree=R.extractedUrl);else if(T instanceof Jn)this.rawUrlTree=R.rawUrl;else if(T instanceof Js){if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(H,R)}this.browserUrlTree=R.urlAfterRedirects}}else if(T instanceof xo)this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects);else if(T instanceof Zr)0!==T.code&&1!==T.code&&(this.navigated=!0),(3===T.code||2===T.code)&&this.restoreHistory(R);else if(T instanceof No){const H=this.urlHandlingStrategy.merge(T.url,R.currentRawUrl),ee={skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bi(R.source)};this.scheduleNavigation(H,En,null,ee,{resolve:R.resolve,reject:R.reject,promise:R.promise})}T instanceof zr&&this.restoreHistory(R,!0),T instanceof Ni&&(this.navigated=!0),Ns(T)&&this._events.next(T)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(m)}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),En,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,R){const H={replaceUrl:!0},ee=R?.navigationId?R:null;if(R){const be={...R};delete be.navigationId,delete be.\u0275routerPageId,0!==Object.keys(be).length&&(H.state=be)}const Me=this.parseUrl(m);this.scheduleNavigation(Me,T,ee,H)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(m){this.config=m.map(mi),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(m,T={}){const{relativeTo:R,queryParams:H,fragment:ee,queryParamsHandling:Me,preserveFragment:be}=T,It=be?this.currentUrlTree.fragment:ee;let jn,ln=null;switch(Me){case"merge":ln={...this.currentUrlTree.queryParams,...H};break;case"preserve":ln=this.currentUrlTree.queryParams;break;default:ln=H||null}null!==ln&&(ln=this.removeEmptyProps(ln));try{jn=Is(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof m[0]||!m[0].startsWith("/"))&&(m=[]),jn=this.currentUrlTree.root}return fi(jn,m,ln,It??null)}navigateByUrl(m,T={skipLocationChange:!1}){const R=rr(m)?m:this.parseUrl(m),H=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(H,En,null,T)}navigate(m,T={skipLocationChange:!1}){return function La(v){for(let b=0;b<v.length;b++)if(null==v[b])throw new y.vHH(4008,!1)}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(R){T=this.malformedUriErrorHandler(R,this.urlSerializer,m)}return T}isActive(m,T){let R;if(R=!0===T?{...Ti}:!1===T?{...Or}:T,rr(m))return On(this.currentUrlTree,m,R);const H=this.parseUrl(m);return On(this.currentUrlTree,H,R)}removeEmptyProps(m){return Object.keys(m).reduce((T,R)=>{const H=m[R];return null!=H&&(T[R]=H),T},{})}scheduleNavigation(m,T,R,H,ee){if(this.disposed)return Promise.resolve(!1);let Me,be,It;ee?(Me=ee.resolve,be=ee.reject,It=ee.promise):It=new Promise((jn,$n)=>{Me=jn,be=$n});const ln=this.pendingTasks.add();return wt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ln))}),this.navigationTransitions.handleNavigationRequest({source:T,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:m,extras:H,resolve:Me,reject:be,promise:It,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),It.catch(jn=>Promise.reject(jn))}setBrowserUrl(m,T){const R=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(R)||T.extras.replaceUrl){const ee={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(R,"",ee)}else{const H={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId+1)};this.location.go(R,"",H)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const H=this.currentPageId-this.browserPageId;0!==H?this.location.historyGo(H):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===H&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}static#e=this.\u0275fac=function(T){return new(T||v)};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();function Ns(v){return!(v instanceof xo||v instanceof No)}let gu=(()=>{class v{constructor(m,T,R,H,ee,Me){this.router=m,this.route=T,this.tabIndexAttribute=R,this.renderer=H,this.el=ee,this.locationStrategy=Me,this.href=null,this.commands=null,this.onChanges=new tt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const be=ee.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===be||"area"===be,this.isAnchorElement?this.subscription=m.events.subscribe(It=>{It instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,R,H,ee){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||R||H||ee||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,y.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const R=this.renderer,H=this.el.nativeElement;null!==T?R.setAttribute(H,m,T):R.removeAttribute(H,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(T){return new(T||v)(y.Y36(xs),y.Y36(as),y.$8M("tabindex"),y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(In.S$))};static#t=this.\u0275dir=y.lG2({type:v,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,R){1&T&&y.NdJ("click",function(ee){return R.onClick(ee.button,ee.ctrlKey,ee.shiftKey,ee.altKey,ee.metaKey)}),2&T&&y.uIk("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",y.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",y.VuI],replaceUrl:["replaceUrl","replaceUrl",y.VuI],routerLink:"routerLink"},standalone:!0,features:[y.Xq5,y.TTD]})}return v})();class es{}let mu=(()=>{class v{constructor(m,T,R,H,ee){this.router=m,this.injector=R,this.preloadingStrategy=H,this.loader=ee}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(m=>m instanceof Ni),(0,Bt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const R=[];for(const H of T){H.providers&&!H._injector&&(H._injector=(0,y.MMx)(H.providers,m,`Route: ${H.path}`));const ee=H._injector??m,Me=H._loadedInjector??ee;(H.loadChildren&&!H._loadedRoutes&&void 0===H.canLoad||H.loadComponent&&!H._loadedComponent)&&R.push(this.preloadConfig(ee,H)),(H.children||H._loadedRoutes)&&R.push(this.processRoutes(Me,H.children??H._loadedRoutes))}return(0,fe.D)(R).pipe((0,Sn.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let R;R=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,j.of)(null);const H=R.pipe((0,Re.z)(ee=>null===ee?(0,j.of)(void 0):(T._loadedRoutes=ee.routes,T._loadedInjector=ee.injector,this.processRoutes(ee.injector??m,ee.routes))));if(T.loadComponent&&!T._loadedComponent){const ee=this.loader.loadComponent(T);return(0,fe.D)([H,ee]).pipe((0,Sn.J)())}return H})}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(xs),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(es),y.LFG(_i))};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})();const St=new y.OlP("");let qo=(()=>{class v{constructor(m,T,R,H,ee={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=R,this.zone=H,this.options=ee,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ee.scrollPositionRestoration=ee.scrollPositionRestoration||"disabled",ee.anchorScrolling=ee.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Ni?(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment)):m instanceof Jn&&0===m.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof fo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(T){y.$Z()};static#t=this.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac})}return v})();function Nt(v,b){return{\u0275kind:v,\u0275providers:b}}function _t(){const v=(0,y.f3M)(y.zs3);return b=>{const m=v.get(y.z2F);if(b!==m.components[0])return;const T=v.get(xs),R=v.get(Ko);1===v.get(ya)&&T.initialNavigation(),v.get(oc,null,y.XFs.Optional)?.setUpPreloading(),v.get(St,null,y.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const Ko=new y.OlP("",{factory:()=>new tt.x}),ya=new y.OlP("",{providedIn:"root",factory:()=>1}),oc=new y.OlP("");function va(v){return Nt(0,[{provide:oc,useExisting:mu},{provide:es,useExisting:v}])}const Bu=new y.OlP("ROUTER_FORROOT_GUARD"),io=[In.Ye,{provide:nn,useClass:Qn},xs,pi,{provide:as,useFactory:function $r(v){return v.routerState.root},deps:[xs]},_i,[]];function Si(){return new y.PXZ("Router",xs)}let Se=(()=>{class v{constructor(m){}static forRoot(m,T){return{ngModule:v,providers:[io,[],{provide:Xn,multi:!0,useValue:m},{provide:Bu,useFactory:Fo,deps:[[xs,new y.FiY,new y.tp0]]},{provide:pa,useValue:T||{}},T?.useHash?{provide:In.S$,useClass:In.Do}:{provide:In.S$,useClass:In.b0},{provide:St,useFactory:()=>{const v=(0,y.f3M)(In.EM),b=(0,y.f3M)(y.R0b),m=(0,y.f3M)(pa),T=(0,y.f3M)(Mr),R=(0,y.f3M)(nn);return m.scrollOffset&&v.setOffset(m.scrollOffset),new qo(R,T,v,b,m)}},T?.preloadingStrategy?va(T.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Si},T?.initialNavigation?Yo(T):[],T?.bindToComponentInputs?Nt(8,[fs,{provide:Fn,useExisting:fs}]).\u0275providers:[],[{provide:Ja,useFactory:_t},{provide:y.tb,multi:!0,useExisting:Ja}]]}}static forChild(m){return{ngModule:v,providers:[{provide:Xn,multi:!0,useValue:m}]}}static#e=this.\u0275fac=function(T){return new(T||v)(y.LFG(Bu,8))};static#t=this.\u0275mod=y.oAB({type:v});static#n=this.\u0275inj=y.cJS({})}return v})();function Fo(v){return"guarded"}function Yo(v){return["disabled"===v.initialNavigation?Nt(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const b=(0,y.f3M)(xs);return()=>{b.setUpLocationChangeListener()}}},{provide:ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?Nt(2,[{provide:ya,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:b=>{const m=b.get(In.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const R=b.get(xs),H=b.get(Ko);wt(R,()=>{T(!0)}),b.get(Mr).afterPreactivation=()=>(T(!0),H.closed?(0,j.of)(void 0):H),R.initialNavigation()}))}}]).\u0275providers:[]]}const Ja=new y.OlP("")},534:(zt,qe,W)=>{W.d(qe,{Jn:()=>di,qX:()=>nr,Xd:()=>Bn,Mq:()=>Rr,C6:()=>qr,ZF:()=>wr,KN:()=>Di});var y=W(5861),ie=W(4537),pe=W(7879),ge=W(9058);const fe=(Pe,Ce)=>Ce.some(We=>Pe instanceof We);let j,ne;const ae=new WeakMap,se=new WeakMap,Ae=new WeakMap,Ve=new WeakMap,me=new WeakMap;let Wt={get(Pe,Ce,We){if(Pe instanceof IDBTransaction){if("done"===Ce)return se.get(Pe);if("objectStoreNames"===Ce)return Pe.objectStoreNames||Ae.get(Pe);if("store"===Ce)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return Ie(Pe[Ce])},set:(Pe,Ce,We)=>(Pe[Ce]=We,!0),has:(Pe,Ce)=>Pe instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in Pe};function Sn(Pe){return"function"==typeof Pe?function Tn(Pe){return Pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Pe)?function(...Ce){return Pe.apply(et(this),Ce),Ie(ae.get(this))}:function(...Ce){return Ie(Pe.apply(et(this),Ce))}:function(Ce,...We){const Pt=Pe.call(et(this),Ce,...We);return Ae.set(Pt,Ce.sort?Ce.sort():[Ce]),Ie(Pt)}}(Pe):(Pe instanceof IDBTransaction&&function ht(Pe){if(se.has(Pe))return;const Ce=new Promise((We,Pt)=>{const Ct=()=>{Pe.removeEventListener("complete",Jt),Pe.removeEventListener("error",hn),Pe.removeEventListener("abort",hn)},Jt=()=>{We(),Ct()},hn=()=>{Pt(Pe.error||new DOMException("AbortError","AbortError")),Ct()};Pe.addEventListener("complete",Jt),Pe.addEventListener("error",hn),Pe.addEventListener("abort",hn)});se.set(Pe,Ce)}(Pe),fe(Pe,function Ke(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Pe,Wt):Pe)}function Ie(Pe){if(Pe instanceof IDBRequest)return function lt(Pe){const Ce=new Promise((We,Pt)=>{const Ct=()=>{Pe.removeEventListener("success",Jt),Pe.removeEventListener("error",hn)},Jt=()=>{We(Ie(Pe.result)),Ct()},hn=()=>{Pt(Pe.error),Ct()};Pe.addEventListener("success",Jt),Pe.addEventListener("error",hn)});return Ce.then(We=>{We instanceof IDBCursor&&ae.set(We,Pe)}).catch(()=>{}),me.set(Ce,Pe),Ce}(Pe);if(Ve.has(Pe))return Ve.get(Pe);const Ce=Sn(Pe);return Ce!==Pe&&(Ve.set(Pe,Ce),me.set(Ce,Pe)),Ce}const et=Pe=>me.get(Pe),Je=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],Ye=new Map;function dn(Pe,Ce){if(!(Pe instanceof IDBDatabase)||Ce in Pe||"string"!=typeof Ce)return;if(Ye.get(Ce))return Ye.get(Ce);const We=Ce.replace(/FromIndex$/,""),Pt=Ce!==We,Ct=$e.includes(We);if(!(We in(Pt?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Je.includes(We))return;const Jt=function(){var hn=(0,y.Z)(function*(mr,...rr){const hi=this.transaction(mr,Ct?"readwrite":"readonly");let Is=hi.store;return Pt&&(Is=Is.index(rr.shift())),(yield Promise.all([Is[We](...rr),Ct&&hi.done]))[0]});return function(rr){return hn.apply(this,arguments)}}();return Ye.set(Ce,Jt),Jt}!function Ut(Pe){Wt=Pe(Wt)}(Pe=>({...Pe,get:(Ce,We,Pt)=>dn(Ce,We)||Pe.get(Ce,We,Pt),has:(Ce,We)=>!!dn(Ce,We)||Pe.has(Ce,We)}));class Ln{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(We=>{if(function Cr(Pe){const Ce=Pe.getComponent();return"VERSION"===Ce?.type}(We)){const Pt=We.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(We=>We).join(" ")}}const st="@firebase/app",In=new pe.Yd("@firebase/app"),tr="[DEFAULT]",tn={[st]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,Un=new Map;function pr(Pe,Ce){try{Pe.container.addComponent(Ce)}catch(We){In.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Pe.name}`,We)}}function Bn(Pe){const Ce=Pe.name;if(Un.has(Ce))return In.debug(`There were multiple attempts to register component ${Ce}.`),!1;Un.set(Ce,Pe);for(const We of en.values())pr(We,Pe);return!0}function nr(Pe,Ce){const We=Pe.container.getProvider("heartbeat").getImmediate({optional:!0});return We&&We.triggerHeartbeat(),Pe.container.getProvider(Ce)}const Dt=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xi{constructor(Ce,We,Pt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},We),this._name=We.name,this._automaticDataCollectionEnabled=We.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const di="9.23.0";function wr(Pe,Ce={}){let We=Pe;"object"!=typeof Ce&&(Ce={name:Ce});const Pt=Object.assign({name:tr,automaticDataCollectionEnabled:!1},Ce),Ct=Pt.name;if("string"!=typeof Ct||!Ct)throw Dt.create("bad-app-name",{appName:String(Ct)});if(We||(We=(0,ge.aH)()),!We)throw Dt.create("no-options");const Jt=en.get(Ct);if(Jt){if((0,ge.vZ)(We,Jt.options)&&(0,ge.vZ)(Pt,Jt.config))return Jt;throw Dt.create("duplicate-app",{appName:Ct})}const hn=new ie.H0(Ct);for(const rr of Un.values())hn.addComponent(rr);const mr=new xi(We,Pt,hn);return en.set(Ct,mr),mr}function Rr(Pe=tr){const Ce=en.get(Pe);if(!Ce&&Pe===tr&&(0,ge.aH)())return wr();if(!Ce)throw Dt.create("no-app",{appName:Pe});return Ce}function qr(){return Array.from(en.values())}function Di(Pe,Ce,We){var Pt;let Ct=null!==(Pt=tn[Pe])&&void 0!==Pt?Pt:Pe;We&&(Ct+=`-${We}`);const Jt=Ct.match(/\s|\//),hn=Ce.match(/\s|\//);if(Jt||hn){const mr=[`Unable to register library "${Ct}" with version "${Ce}":`];return Jt&&mr.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Jt&&hn&&mr.push("and"),hn&&mr.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void In.warn(mr.join(" "))}Bn(new ie.wA(`${Ct}-version`,()=>({library:Ct,version:Ce}),"VERSION"))}const nn="firebase-heartbeat-database",Qn=1,oe="firebase-heartbeat-store";let z=null;function K(){return z||(z=function Oe(Pe,Ce,{blocked:We,upgrade:Pt,blocking:Ct,terminated:Jt}={}){const hn=indexedDB.open(Pe,Ce),mr=Ie(hn);return Pt&&hn.addEventListener("upgradeneeded",rr=>{Pt(Ie(hn.result),rr.oldVersion,rr.newVersion,Ie(hn.transaction),rr)}),We&&hn.addEventListener("blocked",rr=>We(rr.oldVersion,rr.newVersion,rr)),mr.then(rr=>{Jt&&rr.addEventListener("close",()=>Jt()),Ct&&rr.addEventListener("versionchange",hi=>Ct(hi.oldVersion,hi.newVersion,hi))}).catch(()=>{}),mr}(nn,Qn,{upgrade:(Pe,Ce)=>{0===Ce&&Pe.createObjectStore(oe)}}).catch(Pe=>{throw Dt.create("idb-open",{originalErrorMessage:Pe.message})})),z}function Q(){return(Q=(0,y.Z)(function*(Pe){try{return yield(yield K()).transaction(oe).objectStore(oe).get(dt(Pe))}catch(Ce){if(Ce instanceof ge.ZR)In.warn(Ce.message);else{const We=Dt.create("idb-get",{originalErrorMessage:Ce?.message});In.warn(We.message)}}})).apply(this,arguments)}function ve(Pe,Ce){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,y.Z)(function*(Pe,Ce){try{const Pt=(yield K()).transaction(oe,"readwrite");yield Pt.objectStore(oe).put(Ce,dt(Pe)),yield Pt.done}catch(We){if(We instanceof ge.ZR)In.warn(We.message);else{const Pt=Dt.create("idb-set",{originalErrorMessage:We?.message});In.warn(Pt.message)}}})).apply(this,arguments)}function dt(Pe){return`${Pe.name}!${Pe.options.appId}`}class kn{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const We=this.container.getProvider("app").getImmediate();this._storage=new Ir(We),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var Ce=this;return(0,y.Z)(function*(){const Pt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=rn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!Ce._heartbeatsCache.heartbeats.some(Jt=>Jt.date===Ct))return Ce._heartbeatsCache.heartbeats.push({date:Ct,agent:Pt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(Jt=>{const hn=new Date(Jt.date).valueOf();return Date.now()-hn<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,y.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const We=rn(),{heartbeatsToSend:Pt,unsentEntries:Ct}=function gr(Pe,Ce=1024){const We=[];let Pt=Pe.slice();for(const Ct of Pe){const Jt=We.find(hn=>hn.agent===Ct.agent);if(Jt){if(Jt.dates.push(Ct.date),br(We)>Ce){Jt.dates.pop();break}}else if(We.push({agent:Ct.agent,dates:[Ct.date]}),br(We)>Ce){We.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:We,unsentEntries:Pt}}(Ce._heartbeatsCache.heartbeats),Jt=(0,ge.L)(JSON.stringify({version:2,heartbeats:Pt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=We,Ct.length>0?(Ce._heartbeatsCache.heartbeats=Ct,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),Jt})()}}function rn(){return(new Date).toISOString().substring(0,10)}class Ir{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,y.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function q(Pe){return Q.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var We=this;return(0,y.Z)(function*(){var Pt;if(yield We._canUseIndexedDBPromise){const Jt=yield We.read();return ve(We.app,{lastSentHeartbeatDate:null!==(Pt=Ce.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Jt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var We=this;return(0,y.Z)(function*(){var Pt;if(yield We._canUseIndexedDBPromise){const Jt=yield We.read();return ve(We.app,{lastSentHeartbeatDate:null!==(Pt=Ce.lastSentHeartbeatDate)&&void 0!==Pt?Pt:Jt.lastSentHeartbeatDate,heartbeats:[...Jt.heartbeats,...Ce.heartbeats]})}})()}}function br(Pe){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Pe})).length}!function ji(Pe){Bn(new ie.wA("platform-logger",Ce=>new Ln(Ce),"PRIVATE")),Bn(new ie.wA("heartbeat",Ce=>new kn(Ce),"PRIVATE")),Di(st,"0.9.13",Pe),Di(st,"0.9.13","esm2017"),Di("fire-js","")}("")},4537:(zt,qe,W)=>{W.d(qe,{H0:()=>Ke,wA:()=>pe});var y=W(5861),ie=W(9058);class pe{constructor(ae,se,Ae){this.name=ae,this.instanceFactory=se,this.type=Ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const ge="[DEFAULT]";class fe{constructor(ae,se){this.name=ae,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const se=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(se)){const Ae=new ie.BH;if(this.instancesDeferred.set(se,Ae),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:se});Ve&&Ae.resolve(Ve)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(ae){var se;const Ae=this.normalizeInstanceIdentifier(ae?.identifier),Ve=null!==(se=ae?.optional)&&void 0!==se&&se;if(!this.isInitialized(Ae)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ae})}catch(me){if(Ve)return null;throw me}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function ne(He){return"EAGER"===He.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[se,Ae]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(se);try{const me=this.getOrInitializeService({instanceIdentifier:Ve});Ae.resolve(me)}catch{}}}}clearInstance(ae=ge){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,y.Z)(function*(){const se=Array.from(ae.instances.values());yield Promise.all([...se.filter(Ae=>"INTERNAL"in Ae).map(Ae=>Ae.INTERNAL.delete()),...se.filter(Ae=>"_delete"in Ae).map(Ae=>Ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=ge){return this.instances.has(ae)}getOptions(ae=ge){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:se={}}=ae,Ae=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(Ae))throw Error(`${this.name}(${Ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Ae,options:se});for(const[me,lt]of this.instancesDeferred.entries())Ae===this.normalizeInstanceIdentifier(me)&&lt.resolve(Ve);return Ve}onInit(ae,se){var Ae;const Ve=this.normalizeInstanceIdentifier(se),me=null!==(Ae=this.onInitCallbacks.get(Ve))&&void 0!==Ae?Ae:new Set;me.add(ae),this.onInitCallbacks.set(Ve,me);const lt=this.instances.get(Ve);return lt&&ae(lt,Ve),()=>{me.delete(ae)}}invokeOnInitCallbacks(ae,se){const Ae=this.onInitCallbacks.get(se);if(Ae)for(const Ve of Ae)try{Ve(ae,se)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:se={}}){let Ae=this.instances.get(ae);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:(He=ae,He===ge?void 0:He),options:se}),this.instances.set(ae,Ae),this.instancesOptions.set(ae,se),this.invokeOnInitCallbacks(Ae,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ae)}catch{}var He;return Ae||null}normalizeInstanceIdentifier(ae=ge){return this.component?this.component.multipleInstances?ae:ge:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ke{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const se=this.getProvider(ae.name);if(se.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);se.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const se=new fe(ae,this);return this.providers.set(ae,se),se}getProviders(){return Array.from(this.providers.values())}}},7879:(zt,qe,W)=>{W.d(qe,{Yd:()=>ne,in:()=>ie});const y=[];var ie=function(ae){return ae[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",ae}(ie||{});const pe={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ge=ie.INFO,fe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},j=(ae,se,...Ae)=>{if(se<ae.logLevel)return;const Ve=(new Date).toISOString(),me=fe[se];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[me](`[${Ve}]  ${ae.name}:`,...Ae)};class ne{constructor(se){this.name=se,this._logLevel=ge,this._logHandler=j,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in ie))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?pe[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...se),this._logHandler(this,ie.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...se),this._logHandler(this,ie.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...se),this._logHandler(this,ie.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...se),this._logHandler(this,ie.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...se),this._logHandler(this,ie.ERROR,...se)}}},3182:(zt,qe,W)=>{W.d(qe,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=W(534);(0,y.KN)("firebase","9.23.0","app")},5861:(zt,qe,W)=>{function y(pe,ge,fe,j,ne,Ke,He){try{var ae=pe[Ke](He),se=ae.value}catch(Ae){return void fe(Ae)}ae.done?ge(se):Promise.resolve(se).then(j,ne)}function ie(pe){return function(){var ge=this,fe=arguments;return new Promise(function(j,ne){var Ke=pe.apply(ge,fe);function He(se){y(Ke,j,ne,He,ae,"next",se)}function ae(se){y(Ke,j,ne,He,ae,"throw",se)}He(void 0)})}}W.d(qe,{Z:()=>ie})},7582:(zt,qe,W)=>{function ge(Ee,Ne){var Ue={};for(var Re in Ee)Object.prototype.hasOwnProperty.call(Ee,Re)&&Ne.indexOf(Re)<0&&(Ue[Re]=Ee[Re]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(Re=Object.getOwnPropertySymbols(Ee);Ge<Re.length;Ge++)Ne.indexOf(Re[Ge])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Re[Ge])&&(Ue[Re[Ge]]=Ee[Re[Ge]])}return Ue}function Ae(Ee,Ne,Ue,Re){return new(Ue||(Ue=Promise))(function(ot,Ot){function an(Xt){try{ft(Re.next(Xt))}catch(zn){Ot(zn)}}function Bt(Xt){try{ft(Re.throw(Xt))}catch(zn){Ot(zn)}}function ft(Xt){Xt.done?ot(Xt.value):function Ge(ot){return ot instanceof Ue?ot:new Ue(function(Ot){Ot(ot)})}(Xt.value).then(an,Bt)}ft((Re=Re.apply(Ee,Ne||[])).next())})}function Ie(Ee){return this instanceof Ie?(this.v=Ee,this):new Ie(Ee)}function et(Ee,Ne,Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,Re=Ue.apply(Ee,Ne||[]),ot=[];return Ge={},Ot("next"),Ot("throw"),Ot("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function Ot(An){Re[An]&&(Ge[An]=function(Mn){return new Promise(function(ur,xn){ot.push([An,Mn,ur,xn])>1||an(An,Mn)})})}function an(An,Mn){try{!function Bt(An){An.value instanceof Ie?Promise.resolve(An.value.v).then(ft,Xt):zn(ot[0][2],An)}(Re[An](Mn))}catch(ur){zn(ot[0][3],ur)}}function ft(An){an("next",An)}function Xt(An){an("throw",An)}function zn(An,Mn){An(Mn),ot.shift(),ot.length&&an(ot[0][0],ot[0][1])}}function Be(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ne=Ee[Symbol.asyncIterator];return Ne?Ne.call(Ee):(Ee=function ht(Ee){var Ne="function"==typeof Symbol&&Symbol.iterator,Ue=Ne&&Ee[Ne],Re=0;if(Ue)return Ue.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Re>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Re++],done:!Ee}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Ue={},Re("next"),Re("throw"),Re("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue);function Re(ot){Ue[ot]=Ee[ot]&&function(Ot){return new Promise(function(an,Bt){!function Ge(ot,Ot,an,Bt){Promise.resolve(Bt).then(function(ft){ot({value:ft,done:an})},Ot)}(an,Bt,(Ot=Ee[ot](Ot)).done,Ot.value)})}}}W.d(qe,{FC:()=>et,KL:()=>Be,_T:()=>ge,mG:()=>Ae,qq:()=>Ie}),"function"==typeof SuppressedError&&SuppressedError}},zt=>{zt(zt.s=4069)}]);